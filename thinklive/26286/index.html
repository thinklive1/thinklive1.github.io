<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha256-CTSx/A06dm1B063156EVh15m6Y67pAjZZaQc89LLSrU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.24/fancybox/fancybox.css" integrity="sha256-vQkngPS8jiHHH0I6ABTZroZk8NPZ7b+MUReOFE9UsXQ=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"thinklive1.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.18.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"flat"},"fold":{"enable":true,"height":500},"bookmark":{"enable":true,"color":"#66CCFF","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":false,"nav":null,"activeClass":"utterances"},"stickytabs":true,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="æ¦‚è®º æ“ä½œç³»ç»Ÿï¼šæ§åˆ¶ç®¡ç†è®¡ç®—æœºçš„ç¡¬ä»¶ï¼Œåè°ƒæ§åˆ¶èµ„æºåˆ†é…ï¼Œå¹¶ä¸ºåº”ç”¨ç¨‹åºå’Œç”¨æˆ·æä¾›æ¥å£ä»¥ä¾›ä½¿ç”¨ åŸºæœ¬ç‰¹å¾ æ“ä½œç³»ç»Ÿçš„åŸºæœ¬ç‰¹å¾åŒ…æ‹¬å¹¶å‘ï¼Œå…±äº«ï¼Œè™šæ‹Ÿå’Œå¼‚æ­¥  å¹¶å‘ å¹¶å‘æ˜¯æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶é—´é—´éš”å†…å‘ç”Ÿã€‚æ“ä½œç³»ç»Ÿçš„å¹¶å‘æ€§æ˜¯æŒ‡è®¡ç®—æœºç³»ç»Ÿä¸­åŒæ—¶å­˜åœ¨å¤šä¸ªè¿è¡Œçš„ç¨‹åºï¼Œå› æ­¤å®ƒå…·æœ‰å¤„ç†å’Œè°ƒåº¦å¤šä¸ªç¨‹åºåŒæ—¶æ‰§è¡Œçš„èƒ½åŠ›ã€‚è¿™æ˜¯é€šè¿‡ç±»ä¼¼æ—¶é—´ç‰‡è½®è½¬çš„æœºåˆ¶å®ç°çš„ã€‚ å¹¶è¡Œæ€§æ˜¯æŒ‡ç³»ç»Ÿå…·æœ‰åŒæ—¶è¿›è¡Œè¿ç®—æˆ–æ“ä½œçš„ç‰¹æ€§ï¼Œåœ¨åŒä¸€æ—¶åˆ»èƒ½å®Œæˆä¸¤">
<meta property="og:type" content="article">
<meta property="og:title" content="ç ”distanceâ€”â€”æ“ä½œç³»ç»Ÿéƒ¨åˆ†">
<meta property="og:url" content="https://thinklive1.github.io/thinklive/26286/index.html">
<meta property="og:site_name" content="thinklive">
<meta property="og:description" content="æ¦‚è®º æ“ä½œç³»ç»Ÿï¼šæ§åˆ¶ç®¡ç†è®¡ç®—æœºçš„ç¡¬ä»¶ï¼Œåè°ƒæ§åˆ¶èµ„æºåˆ†é…ï¼Œå¹¶ä¸ºåº”ç”¨ç¨‹åºå’Œç”¨æˆ·æä¾›æ¥å£ä»¥ä¾›ä½¿ç”¨ åŸºæœ¬ç‰¹å¾ æ“ä½œç³»ç»Ÿçš„åŸºæœ¬ç‰¹å¾åŒ…æ‹¬å¹¶å‘ï¼Œå…±äº«ï¼Œè™šæ‹Ÿå’Œå¼‚æ­¥  å¹¶å‘ å¹¶å‘æ˜¯æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶é—´é—´éš”å†…å‘ç”Ÿã€‚æ“ä½œç³»ç»Ÿçš„å¹¶å‘æ€§æ˜¯æŒ‡è®¡ç®—æœºç³»ç»Ÿä¸­åŒæ—¶å­˜åœ¨å¤šä¸ªè¿è¡Œçš„ç¨‹åºï¼Œå› æ­¤å®ƒå…·æœ‰å¤„ç†å’Œè°ƒåº¦å¤šä¸ªç¨‹åºåŒæ—¶æ‰§è¡Œçš„èƒ½åŠ›ã€‚è¿™æ˜¯é€šè¿‡ç±»ä¼¼æ—¶é—´ç‰‡è½®è½¬çš„æœºåˆ¶å®ç°çš„ã€‚ å¹¶è¡Œæ€§æ˜¯æŒ‡ç³»ç»Ÿå…·æœ‰åŒæ—¶è¿›è¡Œè¿ç®—æˆ–æ“ä½œçš„ç‰¹æ€§ï¼Œåœ¨åŒä¸€æ—¶åˆ»èƒ½å®Œæˆä¸¤">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231204211804.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231204215335.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231204220927.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231205144922.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231205151119.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/resources/Pasted%20image%2020240208095549.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231206201905.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231206202831.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231206213642.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231207185300.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231207212550.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231208111859.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231209141033.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231209141146.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231212105100.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231212215501.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231213132737.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231213202033.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231213220222.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/c_memory.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231213220912.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231213221340.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231214220550.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231214220737.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231215084116.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231215084415.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231215103851.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231215103916.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231215103647.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231215103659.png">
<meta property="og:image" content="https://s2.loli.net/2024/02/15/XuzRLBrWVjIt4KG.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231217203821.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231217204555.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231218192001.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231218192446.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231218195544.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231219191021.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231219200129.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231219205637.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231219205646.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231219205853.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231219210438.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231219211121.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/resources/Pasted%20image%2020240221111830.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231220121025.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231220121323.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231220121512.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231220121641.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231220122126.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231220122157.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231221205930.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231221210857.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231223205344.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231223204422.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231223205331.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231223205318.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231223205303.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231223205258.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231223205226.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231225194343.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231225210128.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231225210117.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231225211213.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231226152658.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231226154810.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231226155325.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231226155733.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231226160003.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231226160400.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231226160538.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/resources/Pasted%20image%2020240223185939.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231226211005.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231225195259.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231226102839.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231226104356.png">
<meta property="og:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231225195457.png">
<meta property="article:published_time" content="2023-11-29T13:12:21.000Z">
<meta property="article:modified_time" content="2025-09-09T07:53:29.840Z">
<meta property="article:author" content="thinklive">
<meta property="article:tag" content="ç ”distance">
<meta property="article:tag" content="æ“ä½œç³»ç»Ÿ">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://thinklive1.github.io/assets/%E8%8B%8F%E5%A4%A7linux_ppt/Pasted%20image%2020231204211804.png">


<link rel="canonical" href="https://thinklive1.github.io/thinklive/26286/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://thinklive1.github.io/thinklive/26286/","path":"thinklive/26286/","title":"ç ”distanceâ€”â€”æ“ä½œç³»ç»Ÿéƒ¨åˆ†"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>ç ”distanceâ€”â€”æ“ä½œç³»ç»Ÿéƒ¨åˆ† | thinklive</title>
  







<script type="text/javascript" async src="/js/fairyDustCursor.js"></script>
<script type="text/javascript" async src="/js/tab-title.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
  <script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<script>
const options = {
  bottom: '64px', // default: '32px'
  right: 'unset', // default: '32px'
  left: '32px', // default: 'unset'
  time: '0.5s', // default: '0.3s'
  mixColor: '#fff', // default: '#fff'
  backgroundColor: '#fff',  // default: '#fff'
  buttonColorDark: '#100f2c',  // default: '#100f2c'
  buttonColorLight: '#fff', // default: '#fff'
  saveInCookies: false, // default: true,
  label: 'ğŸŒ“', // default: ''
  autoMatchOsTheme: true // default: true
}

const darkmode = new Darkmode(options);
</script>
<!-- hexo injector head_end start --><script> let HEXO_MMEDIA_DATA = { js: [], css: [], aplayerData: [], metingData: [], artPlayerData: [], dplayerData: []}; </script><!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="thinklive" type="application/atom+xml">
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head>
<script src="/js/tab-title.js"></script>
<script type="text/javascript" async src="/js/text.js"></script>

<!--pjaxï¼šé˜²æ­¢è·³è½¬é¡µé¢éŸ³ä¹æš‚åœ-->
 <script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script>
<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>
<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>


  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">thinklive</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">dirichlet library</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="æœç´¢ | search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-ä¸»é¡µ-|-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>ä¸»é¡µ | home</a></li><li class="menu-item menu-item-æ ‡ç­¾-|-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾ | tags</a></li><li class="menu-item menu-item-åˆ†ç±»-|-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±» | categories</a></li><li class="menu-item menu-item-å½’æ¡£-|-archive"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£ | archive</a></li><li class="menu-item menu-item-ç›¸å†Œ-|-photo"><a href="/photos/" rel="section"><i class="fa fa-camera fa-fw"></i>ç›¸å†Œ | photo</a></li><li class="menu-item menu-item-ç•™è¨€-|-guestbook"><a href="/guestbook/" rel="section"><i class="fa fa-book fa-fw"></i>ç•™è¨€ | guestbook</a></li><li class="menu-item menu-item-æ„Ÿè°¢-|-thank"><a href="/thanks/" rel="section"><i class="fa custom thanks fa-fw"></i>æ„Ÿè°¢ | thank</a></li><li class="menu-item menu-item-æ¸¸æˆ-|-game"><a href="/game/bad1.html" rel="section"><i class="fa fa-gamepad fa-fw"></i>æ¸¸æˆ | game</a></li><li class="menu-item menu-item-ç¥é¾›-|-shrine"><a href="/cyberblog/" rel="section"><i class="fa fa-microchip fa-fw"></i>ç¥é¾› | shrine</a></li><li class="menu-item menu-item-èµ„æºåœ°å›¾-|-resourcemap"><a href="/webstack/" rel="section"><i class="fa fa-list fa-fw"></i>èµ„æºåœ°å›¾ | resourcemap</a></li><li class="menu-item menu-item-æ€ç»´å¯¼å›¾-|-mindmap"><a href="/mindmap/index.html" rel="section"><i class="fa fa-map fa-fw"></i>æ€ç»´å¯¼å›¾ | mindmap</a></li><li class="menu-item menu-item-ç½‘ç«™åœ°å›¾-|-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>ç½‘ç«™åœ°å›¾ | sitemap</a></li><li class="menu-item menu-item-è’¸æ±½-|-steam"><a href="/steamgames/index.html" rel="section"><i class="fa fa custum steam fa-fw"></i>è’¸æ±½ | steam</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢ | search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">


<!--ç½‘æ˜“äº‘éŸ³ä¹æ’ä»¶-->
<!-- require APlayer -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>
<!-- require MetingJS-->
<script src="https://cdn.jsdelivr.net/npm/meting@2.0.1/dist/Meting.min.js"></script> 
<!--ç½‘æ˜“äº‘playlistå¤–é“¾åœ°å€-->   
<meting-js
    server="netease"
    type="playlist" 
    id="2762741085"
    mini="false"
    fixed="false"
    list-folded="true"
    autoplay="false"
    volume="0.2"
    theme="#4c4c4c"
    order="random"
    loop="all"
    preload="auto"
    lrc-type="2"
    mutex="true">
    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A6%82%E8%AE%BA"><span class="nav-number">1.</span> <span class="nav-text">æ¦‚è®º</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E7%89%B9%E5%BE%81"><span class="nav-number">1.1.</span> <span class="nav-text">åŸºæœ¬ç‰¹å¾</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD"><span class="nav-number">1.2.</span> <span class="nav-text">åŠŸèƒ½</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8E%86%E5%8F%B2"><span class="nav-number">1.3.</span> <span class="nav-text">å†å²</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83"><span class="nav-number">1.4.</span> <span class="nav-text">è¿è¡Œç¯å¢ƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E6%A0%B8%E6%9C%BA%E5%88%B6"><span class="nav-number">1.4.1.</span> <span class="nav-text">å†…æ ¸æœºåˆ¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E5%92%8C%E5%BC%82%E5%B8%B8"><span class="nav-number">1.4.2.</span> <span class="nav-text">ä¸­æ–­å’Œå¼‚å¸¸</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8"><span class="nav-number">1.4.3.</span> <span class="nav-text">ç³»ç»Ÿè°ƒç”¨</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%93%E6%9E%84"><span class="nav-number">1.5.</span> <span class="nav-text">ç»“æ„</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%95%E5%AF%BC"><span class="nav-number">1.6.</span> <span class="nav-text">å¼•å¯¼</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="nav-number">1.7.</span> <span class="nav-text">è™šæ‹Ÿæœº</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B"><span class="nav-number">2.</span> <span class="nav-text">è¿›ç¨‹å’Œçº¿ç¨‹</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B"><span class="nav-number">2.1.</span> <span class="nav-text">è¿›ç¨‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%84%E6%88%90"><span class="nav-number">2.1.1.</span> <span class="nav-text">ç»„æˆ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6"><span class="nav-number">2.1.2.</span> <span class="nav-text">æ§åˆ¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E4%BF%A1"><span class="nav-number">2.1.3.</span> <span class="nav-text">é€šä¿¡</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9E%8B"><span class="nav-number">2.2.</span> <span class="nav-text">çº¿ç¨‹å’Œå¤šçº¿ç¨‹æ¨¡å‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A6%82%E5%BF%B5"><span class="nav-number">2.2.1.</span> <span class="nav-text">æ¦‚å¿µ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%9E%E6%80%A7%E5%92%8C%E7%8A%B6%E6%80%81"><span class="nav-number">2.2.2.</span> <span class="nav-text">å±æ€§å’ŒçŠ¶æ€</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9E%8B"><span class="nav-number">2.2.3.</span> <span class="nav-text">å¤šçº¿ç¨‹æ¨¡å‹</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E6%9C%BA%E8%B0%83%E5%BA%A6"><span class="nav-number">2.3.</span> <span class="nav-text">å¤„ç†æœºè°ƒåº¦</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0"><span class="nav-number">2.3.1.</span> <span class="nav-text">å®ç°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="nav-number">2.3.2.</span> <span class="nav-text">è°ƒåº¦ç®—æ³•</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%8C%E6%AD%A5%E4%B8%8E%E4%BA%92%E6%96%A5"><span class="nav-number">2.4.</span> <span class="nav-text">åŒæ­¥ä¸äº’æ–¥</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0%E4%BA%92%E6%96%A5%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-number">2.4.1.</span> <span class="nav-text">å®ç°äº’æ–¥çš„æ–¹æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%92%E6%96%A5%E9%94%81"><span class="nav-number">2.4.2.</span> <span class="nav-text">äº’æ–¥é”</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%A1%E5%8F%B7%E9%87%8F"><span class="nav-number">2.4.3.</span> <span class="nav-text">ä¿¡å·é‡</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E7%B1%BB"><span class="nav-number">2.4.3.1.</span> <span class="nav-text">åˆ†ç±»</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E4%BF%A1%E5%8F%B7%E9%87%8F%E7%9A%84%E5%90%8C%E6%AD%A5"><span class="nav-number">2.4.3.2.</span> <span class="nav-text">åŸºäºä¿¡å·é‡çš„åŒæ­¥</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%A1%E5%8F%B7%E9%87%8F%E5%AE%9E%E7%8E%B0%E4%BA%92%E6%96%A5"><span class="nav-number">2.4.3.3.</span> <span class="nav-text">ä¿¡å·é‡å®ç°äº’æ–¥</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%A1%E5%8F%B7%E9%87%8F%E5%AE%9E%E7%8E%B0%E5%89%8D%E9%A9%B1%E5%85%B3%E7%B3%BB"><span class="nav-number">2.4.3.4.</span> <span class="nav-text">ä¿¡å·é‡å®ç°å‰é©±å…³ç³»</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%A1%E7%A8%8B"><span class="nav-number">2.4.4.</span> <span class="nav-text">ç®¡ç¨‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8C%E6%AD%A5%E9%97%AE%E9%A2%98%E5%AE%9E%E4%BE%8B"><span class="nav-number">2.4.5.</span> <span class="nav-text">åŒæ­¥é—®é¢˜å®ä¾‹</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%9F%E4%BA%A7%E8%80%85-%E6%B6%88%E8%B4%B9%E8%80%85"><span class="nav-number">2.4.5.1.</span> <span class="nav-text">ç”Ÿäº§è€…-æ¶ˆè´¹è€…</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%BB%E8%80%85-%E5%86%99%E8%80%85%E9%97%AE%E9%A2%98"><span class="nav-number">2.4.5.2.</span> <span class="nav-text">è¯»è€…-å†™è€…é—®é¢˜</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%93%B2%E5%AD%A6%E5%AE%B6%E8%BF%9B%E9%A4%90%E9%97%AE%E9%A2%98"><span class="nav-number">2.4.5.3.</span> <span class="nav-text">å“²å­¦å®¶è¿›é¤é—®é¢˜</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%B8%E7%83%9F%E9%97%AE%E9%A2%98"><span class="nav-number">2.4.5.4.</span> <span class="nav-text">å¸çƒŸé—®é¢˜</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">2.4.6.</span> <span class="nav-text">æ€»ç»“</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AD%BB%E9%94%81"><span class="nav-number">2.5.</span> <span class="nav-text">æ­»é”</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A2%84%E9%98%B2"><span class="nav-number">2.5.1.</span> <span class="nav-text">é¢„é˜²</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%81%BF%E5%85%8D"><span class="nav-number">2.5.2.</span> <span class="nav-text">é¿å…</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A3%80%E6%B5%8B%E5%92%8C%E8%A7%A3%E9%99%A4"><span class="nav-number">2.5.3.</span> <span class="nav-text">æ£€æµ‹å’Œè§£é™¤</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A3%80%E6%B5%8B"><span class="nav-number">2.5.3.1.</span> <span class="nav-text">æ£€æµ‹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E9%99%A4"><span class="nav-number">2.5.3.2.</span> <span class="nav-text">è§£é™¤</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86"><span class="nav-number">3.</span> <span class="nav-text">å†…å­˜ç®¡ç†</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A6%82%E5%BF%B5-1"><span class="nav-number">3.1.</span> <span class="nav-text">æ¦‚å¿µ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%85%E5%AD%98%E7%9A%84%E5%88%86%E9%85%8D%E6%96%B9%E5%BC%8F"><span class="nav-number">3.2.</span> <span class="nav-text">å†…å­˜çš„åˆ†é…æ–¹å¼</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9E%E7%BB%AD%E5%88%86%E9%85%8D%E7%AE%A1%E7%90%86"><span class="nav-number">3.2.1.</span> <span class="nav-text">è¿ç»­åˆ†é…ç®¡ç†</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E9%A1%B5%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86"><span class="nav-number">3.2.2.</span> <span class="nav-text">åˆ†é¡µå­˜å‚¨ç®¡ç†</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%B0%E5%9D%80%E5%8F%98%E6%8D%A2"><span class="nav-number">3.2.2.1.</span> <span class="nav-text">åœ°å€å˜æ¢</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BF%AB%E8%A1%A8"><span class="nav-number">3.2.2.2.</span> <span class="nav-text">å¿«è¡¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%A4%E7%BA%A7%E9%A1%B5%E8%A1%A8"><span class="nav-number">3.2.2.3.</span> <span class="nav-text">ä¸¤çº§é¡µè¡¨</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E6%AE%B5%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86"><span class="nav-number">3.2.3.</span> <span class="nav-text">åˆ†æ®µå­˜å‚¨ç®¡ç†</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%AE%B5%E9%A1%B5%E5%BC%8F%E7%AE%A1%E7%90%86"><span class="nav-number">3.2.3.1.</span> <span class="nav-text">æ®µé¡µå¼ç®¡ç†</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98"><span class="nav-number">3.3.</span> <span class="nav-text">è™šæ‹Ÿå†…å­˜</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%B7%E6%B1%82%E5%88%86%E9%A1%B5%E7%AE%A1%E7%90%86%E6%96%B9%E5%BC%8F"><span class="nav-number">3.3.1.</span> <span class="nav-text">è¯·æ±‚åˆ†é¡µç®¡ç†æ–¹å¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B5%E6%A1%86%E5%88%86%E9%85%8D"><span class="nav-number">3.3.2.</span> <span class="nav-text">é¡µæ¡†åˆ†é…</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95"><span class="nav-number">3.3.3.</span> <span class="nav-text">é¡µé¢ç½®æ¢ç®—æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%96%E5%8A%A8%E5%92%8C%E5%B7%A5%E4%BD%9C%E9%9B%86%E5%90%88"><span class="nav-number">3.3.4.</span> <span class="nav-text">æŠ–åŠ¨å’Œå·¥ä½œé›†åˆ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E5%AD%98%E6%98%A0%E5%B0%84"><span class="nav-number">3.3.5.</span> <span class="nav-text">å†…å­˜æ˜ å°„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%B0%E5%9D%80%E7%BF%BB%E8%AF%91"><span class="nav-number">3.3.6.</span> <span class="nav-text">åœ°å€ç¿»è¯‘</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86"><span class="nav-number">4.</span> <span class="nav-text">æ–‡ä»¶ç®¡ç†</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A6%82%E5%BF%B5-2"><span class="nav-number">4.1.</span> <span class="nav-text">æ¦‚å¿µ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C"><span class="nav-number">4.1.1.</span> <span class="nav-text">æ“ä½œ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E4%BF%9D%E6%8A%A4%E5%92%8C%E6%9D%83%E9%99%90"><span class="nav-number">4.1.2.</span> <span class="nav-text">æ–‡ä»¶ä¿æŠ¤å’Œæƒé™</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84"><span class="nav-number">4.1.3.</span> <span class="nav-text">é€»è¾‘ç»“æ„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84"><span class="nav-number">4.1.4.</span> <span class="nav-text">ç‰©ç†ç»“æ„</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%AE%E5%BD%95"><span class="nav-number">4.2.</span> <span class="nav-text">ç›®å½•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="nav-number">4.3.</span> <span class="nav-text">æ–‡ä»¶ç³»ç»Ÿ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%83%E5%B1%80"><span class="nav-number">4.3.1.</span> <span class="nav-text">å¸ƒå±€</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%96%E5%AD%98%E7%AE%A1%E7%90%86"><span class="nav-number">4.3.2.</span> <span class="nav-text">å¤–å­˜ç®¡ç†</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%99%9A%E6%8B%9F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9Fvfs"><span class="nav-number">4.3.3.</span> <span class="nav-text">è™šæ‹Ÿæ–‡ä»¶ç³»ç»ŸVFS</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#io%E8%AE%BE%E5%A4%87"><span class="nav-number">5.</span> <span class="nav-text">I&#x2F;Oè®¾å¤‡</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A6%82%E5%BF%B5-3"><span class="nav-number">5.1.</span> <span class="nav-text">æ¦‚å¿µ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E6%96%B9%E5%BC%8F"><span class="nav-number">5.1.1.</span> <span class="nav-text">æ§åˆ¶æ–¹å¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#io%E8%BD%AF%E4%BB%B6%E5%B1%82%E6%AC%A1"><span class="nav-number">5.1.2.</span> <span class="nav-text">I&#x2F;Oè½¯ä»¶å±‚æ¬¡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%8E%A5%E5%8F%A3"><span class="nav-number">5.1.3.</span> <span class="nav-text">åº”ç”¨ç¨‹åºæ¥å£</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BE%E5%A4%87%E7%8B%AC%E7%AB%8B%E6%80%A7%E8%BD%AF%E4%BB%B6"><span class="nav-number">5.2.</span> <span class="nav-text">è®¾å¤‡ç‹¬ç«‹æ€§è½¯ä»¶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%AB%98%E9%80%9F%E7%BC%93%E5%AD%98%E5%92%8C%E7%BC%93%E5%86%B2%E5%8C%BA"><span class="nav-number">5.2.1.</span> <span class="nav-text">é«˜é€Ÿç¼“å­˜å’Œç¼“å†²åŒº</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E5%A4%87%E5%88%86%E9%85%8D%E4%B8%8E%E5%9B%9E%E6%94%B6"><span class="nav-number">5.2.2.</span> <span class="nav-text">è®¾å¤‡åˆ†é…ä¸å›æ”¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#spooling%E6%8A%80%E6%9C%AF%E5%81%87%E8%84%B1%E6%9C%BA"><span class="nav-number">5.2.3.</span> <span class="nav-text">SPOOLingæŠ€æœ¯(å‡è„±æœº)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E5%A4%87%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F%E6%8E%A5%E5%8F%A3"><span class="nav-number">5.2.4.</span> <span class="nav-text">è®¾å¤‡é©±åŠ¨ç¨‹åºæ¥å£</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A3%81%E7%9B%98%E5%92%8C%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98"><span class="nav-number">5.3.</span> <span class="nav-text">ç£ç›˜å’Œå›ºæ€ç¡¬ç›˜</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A3%81%E7%9B%98"><span class="nav-number">5.3.1.</span> <span class="nav-text">ç£ç›˜</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86"><span class="nav-number">5.3.1.1.</span> <span class="nav-text">ç£ç›˜ç®¡ç†</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A3%81%E7%9B%98%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="nav-number">5.3.1.2.</span> <span class="nav-text">ç£ç›˜è°ƒåº¦ç®—æ³•</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98"><span class="nav-number">5.3.2.</span> <span class="nav-text">å›ºæ€ç¡¬ç›˜</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="thinklive"
      src="/images/thive.png">
  <p class="site-author-name" itemprop="name">thinklive</p>
  <div class="site-description" itemprop="description">èµ·åˆï¼Œä¸–ç•Œæ˜¯ä¸€å›¢æ€ç´¢ï¼Œå®ƒå‘æ‰€æœ‰çš„æ–¹å‘è¿ˆäº†ä¸€æ­¥ï¼Œäºæ˜¯ä¸‡ç‰©ç”±æ­¤è€Œç”Ÿ</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">44</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">19</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">49</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/thinklive1" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;thinklive1" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/t469631989@gmail.com" title="E-Mail â†’ t469631989@gmail.com" rel="noopener me"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://space.bilibili.com/38099250?spm_id_from=333.1007.0.0" title="bilibili â†’ https:&#x2F;&#x2F;space.bilibili.com&#x2F;38099250?spm_id_from&#x3D;333.1007.0.0" rel="noopener me" target="_blank"><i class="fa custom bilibili fa-fw"></i>bilibili</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://steamcommunity.com/id/thinkliving" title="steam â†’ https:&#x2F;&#x2F;steamcommunity.com&#x2F;id&#x2F;thinkliving" rel="noopener me" target="_blank"><i class="fa custom steam fa-fw"></i>steam</a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS â†’ &#x2F;atom.xml" rel="noopener me"><i class="fa fa-rss fa-fw"></i>RSS</a>
      </span>
  </div>

<div style="Text-align:center;width:100%"><div style="margin:0 auto"><canvas id="canvas" style="width:60%" height="100" width="700">å½“å‰æµè§ˆå™¨ä¸æ”¯æŒcanvasï¼Œè¯·æ›´æ¢æµè§ˆå™¨åå†è¯•</canvas></div><script>!function(){function t(t,e){for(var a=0;a<l[e].length;a++)for(var n=0;n<l[e][a].length;n++)1==l[e][a][n]&&(h.beginPath(),h.arc(14*(g+2)*t+2*n*(g+1)+(g+1),2*a*(g+1)+(g+1),g,0,2*Math.PI),h.closePath(),h.fill())}function e(){var t=[],e=/(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date),a=[];a.push(e[1],e[2],10,e[3],e[4],10,e[5],e[6]);for(var r=c.length-1;r>=0;r--)a[r]!==c[r]&&t.push(r+"_"+(Number(c[r])+1)%10);for(var r=0;r<t.length;r++)n.apply(this,t[r].split("_"));c=a.concat()}function a(){for(var t=0;t<d.length;t++)d[t].stepY+=d[t].disY,d[t].x+=d[t].stepX,d[t].y+=d[t].stepY,(d[t].x>i+g||d[t].y>f+g)&&(d.splice(t,1),t--)}function n(t,e){for(var a=[1,2,3],n=["#3BE","#09C","#A6C","#93C","#9C0","#690","#FB3","#F80","#F44","#C00"],r=0;r<l[e].length;r++)for(var o=0;o<l[e][r].length;o++)if(1==l[e][r][o]){var h={x:14*(g+2)*t+2*o*(g+1)+(g+1),y:2*r*(g+1)+(g+1),stepX:Math.floor(4*Math.random()-2),stepY:-2*a[Math.floor(Math.random()*a.length)],color:n[Math.floor(Math.random()*n.length)],disY:1};d.push(h)}}function r(){o.height=100;for(var e=0;e<c.length;e++)t(e,c[e]);for(var e=0;e<d.length;e++)h.beginPath(),h.arc(d[e].x,d[e].y,g,0,2*Math.PI),h.fillStyle=d[e].color,h.closePath(),h.fill()}var l=[[[0,0,1,1,1,0,0],[0,1,1,0,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,0,1,1,0],[0,0,1,1,1,0,0]],[[0,0,0,1,1,0,0],[0,1,1,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[1,1,1,1,1,1,1]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,0,0,1,1],[1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,0,0,0,1,1,0],[0,0,0,1,1,1,0],[0,0,1,1,1,1,0],[0,1,1,0,1,1,0],[1,1,0,0,1,1,0],[1,1,1,1,1,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,1,1]],[[1,1,1,1,1,1,1],[1,1,0,0,0,0,0],[1,1,0,0,0,0,0],[1,1,1,1,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,0,0,0,1,1,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[1,1,1,1,1,1,1],[1,1,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,1,1,0,0,0,0]],[[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0]]],o=document.getElementById("canvas");if(o.getContext){var h=o.getContext("2d"),f=100,i=700;o.height=f,o.width=i,h.fillStyle="#f00",h.fillRect(10,10,50,50);var c=[],d=[],g=o.height/20-1;!function(){var t=/(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date);c.push(t[1],t[2],10,t[3],t[4],10,t[5],t[6])}(),clearInterval(v);var v=setInterval(function(){e(),a(),r()},50)}}()</script></div>
<img class= 'logo' src="/images/thinklive_cyber.png"; z-index: '0'; style="max-width: 100%; width: auto; height: auto;background-color: --content-bg-color;">

        </div>
      </div>
    </div>

    
        <div class="pjax">
        </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://thinklive1.github.io/thinklive/26286/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/thive.png">
      <meta itemprop="name" content="thinklive">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="thinklive">
      <meta itemprop="description" content="èµ·åˆï¼Œä¸–ç•Œæ˜¯ä¸€å›¢æ€ç´¢ï¼Œå®ƒå‘æ‰€æœ‰çš„æ–¹å‘è¿ˆäº†ä¸€æ­¥ï¼Œäºæ˜¯ä¸‡ç‰©ç”±æ­¤è€Œç”Ÿ">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="ç ”distanceâ€”â€”æ“ä½œç³»ç»Ÿéƒ¨åˆ† | thinklive">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          ç ”distanceâ€”â€”æ“ä½œç³»ç»Ÿéƒ¨åˆ†
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2023-11-29 21:12:21" itemprop="dateCreated datePublished" datetime="2023-11-29T21:12:21+08:00">2023-11-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-09 15:53:29" itemprop="dateModified" datetime="2025-09-09T15:53:29+08:00">2025-09-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%80%83%E7%A0%94%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">è€ƒç ”ç¬”è®°</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%80%83%E7%A0%94%E7%AC%94%E8%AE%B0/%E7%A0%94distance/" itemprop="url" rel="index"><span itemprop="name">ç ”distance</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>44k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>2:42</span>
    </span>
</div>

        
        </div>
      </header>
   

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="æ¦‚è®º">æ¦‚è®º</h1>
<p><code>æ“ä½œç³»ç»Ÿ</code>ï¼šæ§åˆ¶ç®¡ç†è®¡ç®—æœºçš„ç¡¬ä»¶ï¼Œåè°ƒæ§åˆ¶èµ„æºåˆ†é…ï¼Œå¹¶ä¸ºåº”ç”¨ç¨‹åºå’Œç”¨æˆ·æä¾›æ¥å£ä»¥ä¾›ä½¿ç”¨</p>
<h2 id="åŸºæœ¬ç‰¹å¾">åŸºæœ¬ç‰¹å¾</h2>
<p><code>æ“ä½œç³»ç»Ÿ</code>çš„åŸºæœ¬ç‰¹å¾åŒ…æ‹¬å¹¶å‘ï¼Œå…±äº«ï¼Œè™šæ‹Ÿå’Œå¼‚æ­¥</p>
<ol type="1">
<li><p>å¹¶å‘<br />
<code>å¹¶å‘</code>æ˜¯æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶é—´é—´éš”å†…å‘ç”Ÿã€‚æ“ä½œç³»ç»Ÿçš„å¹¶å‘æ€§æ˜¯æŒ‡è®¡ç®—æœºç³»ç»Ÿä¸­åŒæ—¶å­˜åœ¨å¤šä¸ªè¿è¡Œçš„ç¨‹åºï¼Œå› æ­¤å®ƒå…·æœ‰å¤„ç†å’Œè°ƒåº¦å¤šä¸ªç¨‹åºåŒæ—¶æ‰§è¡Œçš„èƒ½åŠ›ã€‚è¿™æ˜¯é€šè¿‡ç±»ä¼¼æ—¶é—´ç‰‡è½®è½¬çš„æœºåˆ¶å®ç°çš„ã€‚<br />
<code>å¹¶è¡Œæ€§</code>æ˜¯æŒ‡ç³»ç»Ÿå…·æœ‰åŒæ—¶è¿›è¡Œè¿ç®—æˆ–æ“ä½œçš„ç‰¹æ€§ï¼Œåœ¨åŒä¸€æ—¶åˆ»èƒ½å®Œæˆä¸¤ç§æˆ–ä¸¤ç§ä»¥ä¸Šçš„åŠ¨ä½œï¼Œéœ€è¦ç›¸å…³ç¡¬ä»¶çš„æ”¯æŒ,å¦‚å¤šæµæ°´çº¿æˆ–å¤šå¤„ç†æœºç¡¬ä»¶ç¯å¢ƒ</p></li>
<li><p>å…±äº«<br />
<code>å…±äº«</code>ï¼šç³»ç»Ÿå†…çš„æŸäº›èµ„æºå¯ä»¥ä¾›å¹¶å‘çš„ä¸åŒè¿›ç¨‹ä½¿ç”¨ï¼Œåˆ†ä¸ºä»¥ä¸‹å‡ ç§æ–¹å¼<br />
<span id="more"></span></p>
<ol type="1">
<li>äº’æ–¥å…±äº«<br />
è§„å®šåœ¨ä¸€æ®µæ—¶é—´å†…åªå…è®¸ä¸€ä¸ªè¿›ç¨‹è®¿é—®è¯¥èµ„æºï¼Œç³»ç»Ÿåˆ†é…è¯¥èµ„æºå‰ï¼Œå¿…é¡»ç¡®ä¿æ²¡æœ‰å…¶ä»–è¿›ç¨‹æ­£åœ¨ä½¿ç”¨å®ƒï¼Œåˆ†é…åï¼Œåœ¨è¿›ç¨‹è®¿é—®å¹¶é‡Šæ”¾è¯¥èµ„æºåï¼Œå…¶ä»–è¿›ç¨‹å¯¹èµ„æºçš„ç”³è¯·æ‰ä¼šè¢«æ“ä½œç³»ç»Ÿå…è®¸ã€‚<br />
è¿™ç§ä¸€æ®µæ—¶é—´å†…åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹å æœ‰çš„èµ„æºè¢«ç§°ä¸º<strong>ä¸´ç•Œèµ„æº</strong><br />
å¤§éƒ¨åˆ†ç¡¬ä»¶ï¼ŒæŸäº›è½¯ä»¶çš„æ ˆï¼Œå˜é‡ç­‰éƒ½å±äº<strong>ä¸´ç•Œèµ„æº</strong><br />
</li>
<li>åŒæ—¶è®¿é—®<br />
æŸäº›ç³»ç»Ÿèµ„æºå¯ä»¥åœ¨åŒä¸€æ—¶é—´æ®µå†…è¢«å¤šä¸ªè¿›ç¨‹åŒæ—¶è®¿é—®ï¼Œä¾‹å¦‚æ–‡ä»¶ç³»ç»Ÿï¼Œè¿™ç§åŒæ—¶è®¿é—®å¯èƒ½æ˜¯äº¤æ›¿è¿›è¡Œã€‚<br />
äº’æ–¥å…±äº«è¦æ±‚ä¸€ç§èµ„æºåœ¨ä¸€æ®µæ—¶é—´å†…(å“ªæ€•æ˜¯ä¸€æ®µå¾ˆå°çš„æ—¶é—´)åªèƒ½æ»¡è¶³ä¸€ä¸ªè¯·æ±‚ï¼ŒåŒæ—¶è®¿é—®é€šå¸¸è¦æ±‚ä¸€ä¸ªè¯·æ±‚å¯ä»¥åˆ†æ—¶é—´ç‰‡é—´éš”åœ°å®Œæˆï¼Œæ•ˆæœå’Œè¿ç»­å®Œæˆç›¸åŒ</li>
</ol></li>
</ol>
<p>å¹¶å‘å’Œå…±äº«æ˜¯æ“ä½œç³»ç»Ÿä¸¤ä¸ªæœ€åŸºæœ¬çš„ç‰¹å¾ï¼Œä¸¤è€…ä¹‹é—´äº’ä¸ºå­˜åœ¨çš„æ¡ä»¶ï¼š</p>
<ul>
<li>èµ„æºå…±äº«æ˜¯ä»¥ç¨‹åºçš„å¹¶å‘ä¸ºæ¡ä»¶çš„ï¼šè‹¥ç³»ç»Ÿä¸å…è®¸ç¨‹åºå¹¶å‘æ‰§è¡Œï¼Œåˆ™è‡ªç„¶ä¸å­˜åœ¨èµ„æºå…±äº«é—®é¢˜<br />
</li>
<li>è‹¥ç³»ç»Ÿä¸èƒ½å¯¹èµ„æºå…±äº«å®æ–½æœ‰æ•ˆçš„ç®¡ç†ï¼Œåˆ™å¿…å°†å½±å“åˆ°ç¨‹åºçš„å¹¶å‘æ‰§è¡Œï¼Œå…¶è‡³æ ¹æœ¬æ— æ³•å¹¶å‘æ‰§è¡Œã€‚</li>
</ul>
<ol start="3" type="1">
<li><p>è™šæ‹Ÿ<br />
<code>è™šæ‹Ÿ</code>æ˜¯æŒ‡æŠŠä¸€ä¸ªç‰©ç†ä¸Šçš„å®ä½“å˜ä¸ºè‹¥å¹²é€»è¾‘ä¸Šçš„å¯¹åº”ç‰©ã€‚<br />
è™šæ‹Ÿå¤„ç†å™¨æŠ€æœ¯æ˜¯é€šè¿‡å¤šé“ç¨‹åºè®¾è®¡æŠ€æœ¯ï¼Œé‡‡ç”¨è®©å¤šé“ç¨‹åºå¹¶å‘æ‰§è¡Œçš„æ–¹æ³•ï¼Œæ¥åˆ†æ—¶ä½¿ç”¨ä¸€ä¸ªå¤„ç†å™¨çš„ã€‚æ­¤æ—¶ï¼Œè™½ç„¶åªæœ‰ä¸€ä¸ªå¤„ç†å™¨ï¼Œä½†å®ƒèƒ½åŒæ—¶ä¸ºå¤šä¸ªç”¨æˆ·æœåŠ¡<br />
æŠŠä¸€ä¸ªç‰©ç†cpuè™šæ‹Ÿæˆå¤šä¸ªè™šæ‹Ÿcpu,ç§°ä¸ºè™šæ‹Ÿå¤„ç†å™¨<br />
è™šæ‹ŸæŠ€æœ¯å¯ä»¥åœ¨æ—¶é—´æˆ–è€…ç©ºé—´ä¸Šè¿›è¡Œç›¸åº”çš„ç°å®è™šæ‹Ÿè½¬æ¢</p></li>
<li><p>å¼‚æ­¥<br />
è™½ç„¶è¿›ç¨‹å¯ä»¥å¹¶å‘è¿›è¡Œï¼Œä½†æ¨è¿›é€Ÿåº¦ï¼Œæ—¶é—´ç­‰æ˜¯ä¸ç¡®å®šçš„ï¼Œæ“ä½œç³»ç»Ÿå¿…é¡»ç¡®ä¿ï¼Œç›¸åŒç¯å¢ƒä¸‹ç›¸åŒæ“ä½œçš„è¿›ç¨‹å¾—åˆ°ç›¸åŒçš„ç»“æœï¼Œä¸è®ºæ—¶é—´å¤šä¹…</p></li>
</ol>
<h2 id="åŠŸèƒ½">åŠŸèƒ½</h2>
<ol type="1">
<li>ç®¡ç†ç³»ç»Ÿèµ„æº
<ol type="1">
<li>å¤„ç†æœº(è¿›ç¨‹)çš„ç®¡ç†ï¼ŒåŒ…æ‹¬åˆ›å»ºï¼Œè°ƒåº¦ï¼Œæ­»é”æ£€æµ‹å’Œæ¢å¤ç­‰<br />
</li>
<li>å­˜å‚¨å™¨ç®¡ç†ï¼Œå³å†…å­˜çš„åˆ†é…å’Œç®¡ç†<br />
</li>
<li>æ–‡ä»¶ç®¡ç†ï¼Œå³æ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿç©ºé—´ï¼Œç›®å½•ï¼Œæ ¼å¼ç­‰<br />
</li>
<li>è®¾å¤‡ç®¡ç†ï¼Œå¤„ç†ç”¨æˆ·çš„I/Oè¯·æ±‚<br />
</li>
</ol></li>
<li>æä¾›ç”¨æˆ·æ¥å£æ“ä½œç¡¬ä»¶å’Œç¨‹åº<br />
</li>
<li>å‘½ä»¤æ¥å£
<ol type="1">
<li>è”æœºå‘½ä»¤æ¥å£(äº¤äº’å¼å‘½ä»¤æ¥å£ï¼Œé€‚ç”¨äºå®æ—¶æˆ–åˆ†æ—¶ç³»ç»Ÿ)ï¼šç”¨æˆ·é€šè¿‡ç»ˆç«¯å®æ—¶è¾“å…¥å‘½ä»¤ä¸æ“ä½œç³»ç»Ÿäº¤æ¢ï¼Œè¾“å…¥ä¸€æ¡ï¼Œæ“ä½œç³»ç»Ÿè§£é‡Šå¹¶æ‰§è¡Œä¸€æ¡ï¼Œç„¶åæ‰å¯ä»¥è¾“å…¥ä¸‹ä¸€æ¡(shell)<br />
</li>
<li>è„±æœºå‘½ä»¤æ¥å£(æ‰¹å¤„ç†å‘½ä»¤æ¥å£,é€‚ç”¨äºæ‰¹å¤„ç†ç³»ç»Ÿ)ï¼šç”¨ä½œä¸šæ§åˆ¶å‘½ä»¤å†™æˆä¸€æœ¬ä½œä¸šè¯´æ˜ä¹¦ï¼Œæ“ä½œç³»ç»Ÿè¯»å–è¯´æ˜ä¹¦ï¼Œé€æ¡è§£é‡Šæ‰§è¡Œ(è„šæœ¬)<br />
</li>
</ol></li>
<li>ç¨‹åºæ¥å£ï¼šæœ‰ä¸€ç³»åˆ—ç³»ç»Ÿè°ƒç”¨ç»„æˆï¼Œç”¨æˆ·åœ¨ç¨‹åºä¸­ä½¿ç”¨è¿™äº›ç³»ç»Ÿè°ƒç”¨å‘½ä»¤æ¥è®©æ“ä½œç³»ç»Ÿæä¾›ç›¸åº”æœåŠ¡ï¼Œä¾‹å¦‚GUIç•Œé¢(ä¸¥æ ¼çš„è¯´guiç•Œé¢åªæ˜¯ä½¿ç”¨äº†æ“ä½œç³»ç»Ÿæä¾›çš„å›¾å½¢ç›¸å…³çš„ç³»ç»Ÿè°ƒç”¨)<br />
</li>
<li>å®ç°äº†å¯¹è®¡ç®—æœºèµ„æºçš„æ‰©å……</li>
</ol>
<h2 id="å†å²">å†å²</h2>
<ol type="1">
<li>æ‰‹å·¥æ“ä½œé˜¶æ®µ<br />
ç¼ºç‚¹ï¼š1ï¼Œcpuåˆ©ç”¨ä¸å……åˆ†ã€‚2ï¼Œè®¡ç®—æœºèµ„æºåˆ©ç”¨ç‡ä½ä¸‹<br />
</li>
<li>æ‰¹å¤„ç†é˜¶æ®µ
<ol type="1">
<li>å•é“æ‰¹å¤„ç†ç³»ç»Ÿï¼šæ“ä½œç³»ç»Ÿä¸€æ¬¡åªæ‰§è¡Œä¸€ä¸ªç¨‹åºï¼Œä¾æ¬¡å¤„ç†ï¼Œç‰¹å¾ï¼š
<ol type="1">
<li>è‡ªåŠ¨æ€§ï¼Œç£å¸¦ä¸Šçš„ä½œä¸šå¯ä»¥è‡ªåŠ¨ä¾æ¬¡è¿›è¡Œ<br />
</li>
<li>é¡ºåºæ€§ï¼Œä½œä¸šæœ‰æ˜ç¡®é¡ºåºä¾æ¬¡è¿›å…¥å†…å­˜<br />
</li>
<li>å•é“æ€§ï¼Œå†…å­˜ä¸­åªæœ‰ä¸€ä¸ªç¨‹åºè¿è¡Œï¼Œä»»åŠ¡å®Œæˆæˆ–å¼‚å¸¸åæ‰è°ƒå…¥ä¸‹ä¸€ä¸ª<br />
é—®é¢˜ï¼šä»»åŠ¡é—´éš”ç­‰å¾…ä¸‹ä¸€ä¸ªè°ƒå…¥æ—¶ï¼ŒI/Oæ•ˆç‡ä½ä¸‹<br />
</li>
</ol></li>
<li>å¤šé“æ‰¹å¤„ç†ç¨‹åºï¼Œå†…å­˜ä¸­å¯ä»¥æœ‰å¤šä¸ªç¨‹åºå…±äº«ç³»ç»Ÿèµ„æºï¼Œäº¤æ›¿è¿è¡Œï¼Œé¿å…I/OæœŸé—´çš„ç®—åŠ›æµªè´¹ï¼Œç‰¹ç‚¹æ˜¯ï¼š
<ol type="1">
<li>å¤šé“ï¼Œå†…å­˜å­˜æ”¾å¤šé“ç¨‹åº<br />
</li>
<li>å®è§‚ä¸Šå¹¶è¡Œï¼Œå†…å­˜ä¸­çš„ç¨‹åºéƒ½å¤„äºè¿è¡ŒçŠ¶æ€<br />
</li>
<li>å¾®è§‚ä¸Šä¸²è¡Œï¼Œç¨‹åºäº¤æ›¿ä½¿ç”¨cpu<br />
é—®é¢˜ï¼šå¤„ç†å™¨èµ„æºï¼Œå†…å­˜èµ„æºå’ŒI/Oçš„åˆ†é…ï¼Œä»¥åŠå¦‚ä½•ç»„ç»‡å¤„ç†å¤§é‡çš„ç¨‹åºå’Œæ•°æ®<br />
åœ¨æ‰¹å¤„ç†ç³»ç»Ÿä¸­é‡‡ç”¨å¤šé“ç¨‹åºè®¾è®¡æŠ€æœ¯å°±å½¢æˆäº†å¤šé“æ‰¹å¤„ç†æ“ä½œç³»ç»Ÿã€‚è¯¥ç³»ç»ŸæŠŠç”¨æˆ·æäº¤çš„ä½œä¸šæˆæ‰¹åœ°é€å…¥è®¡ç®—æœºå†…å­˜ï¼Œç„¶åç”±ä½œä¸šè°ƒåº¦ç¨‹åºè‡ªåŠ¨åœ°é€‰æ‹©ä½œä¸šè¿è¡Œã€‚</li>
</ol></li>
</ol></li>
</ol>
<ul>
<li>ä¼˜ç‚¹ï¼šèµ„æºåˆ©ç”¨ç‡é«˜ï¼Œå¤šé“ç¨‹åºå…±äº«è®¡ç®—æœºèµ„æºï¼Œä»è€Œä½¿å„ç§èµ„æºå¾—åˆ°å……åˆ†åˆ©ç”¨ï¼šç³»ç»Ÿååé‡å¤§ï¼ŒCPUå’Œå…¶ä»–èµ„æºä¿æŒâ€œå¿™ç¢Œâ€çŠ¶æ€ã€‚<br />
</li>
<li>ç¼ºç‚¹ï¼šç”¨æˆ·å“åº”çš„æ—¶é—´è¾ƒé•¿ï¼šä¸æä¾›äººæœºäº¤äº’èƒ½åŠ›ï¼Œç”¨æˆ·æ—¢ä¸èƒ½äº†è§£è‡ªå·²çš„ç¨‹åºçš„è¿è¡Œæƒ…å†µï¼Œåˆä¸èƒ½æ§åˆ¶è®¡ç®—æœºã€‚</li>
</ul>
<ol start="3" type="1">
<li><p>åˆ†æ—¶æ“ä½œç³»ç»Ÿ<br />
å°†å¤„ç†å™¨çš„è¿ç®—åˆ†æˆå¾ˆçŸ­çš„æ—¶é—´ç‰‡ï¼ŒæŒ‰æ—¶é—´ç‰‡è½®æµæŠŠå¤„ç†å™¨åˆ†é…ç»™å„è”æœºä½œä¸šä½¿ç”¨ã€‚æ—¶é—´ç‰‡å†…ä¸èƒ½å®Œæˆçš„ä½œä¸šç­‰åˆ°ä¸‹ä¸ªå‘¨æœŸç»§ç»­è¿›è¡Œï¼Œæ—¶é—´ç‰‡å¾ˆçŸ­ï¼Œå› æ­¤å¯¹ç”¨æˆ·æ¥è¯´å‡ ä¹å®æ—¶ã€‚<br />
åˆ†æ—¶æ“ä½œç³»ç»Ÿæ˜¯æŒ‡å¤šä¸ªç”¨æˆ·é€šè¿‡ç»ˆç«¯åŒæ—¶å…±äº«ä¸€å°ä¸»æœºï¼Œè¿™äº›ç»ˆç«¯è¿æ¥åœ¨ä¸»æœºä¸Šï¼Œç”¨æˆ·å¯ä»¥åŒæ—¶ä¸ä¸»æœºè¿›è¡Œäº¤äº’æ“ä½œè€Œäº’ä¸å¹²æ‰°ï¼ŒåŒæ—¶æœ‰è¾ƒå¿«çš„äº¤äº’é€Ÿåº¦<br />
ç‰¹æ€§ï¼š</p>
<ol type="1">
<li>åŒæ—¶æ€§ï¼Œå…è®¸å¤šä¸ªç”¨æˆ·åŒæ—¶ä½¿ç”¨ä¸€å°è®¡ç®—æœº(å¤šç»ˆç«¯)<br />
</li>
<li>äº¤äº’æ€§<br />
</li>
<li>ç‹¬ç«‹æ€§ï¼Œå„ä¸ªç”¨æˆ·ç›¸å¯¹ç‹¬ç«‹ï¼Œä¸ä¼šäº’ç›¸å½±å“<br />
</li>
<li>åŠæ—¶æ€§ï¼Œå¯¹ç”¨æˆ·è¯·æ±‚ç”¨è¾ƒå¿«çš„é€Ÿåº¦å›åº”</li>
</ol></li>
<li><p>å®æ—¶æ“ä½œç³»ç»Ÿ<br />
ä¸€äº›ç‰¹æ®Šåœºåˆ(æ¯”å¦‚é£è¡Œå™¨ç³»ç»Ÿ)ï¼Œå¯¹æ“ä½œçš„æ—¶é™æœ‰ç¡¬æ€§è¦æ±‚(æˆ–è€…è½¯æ€§è¦æ±‚)ï¼Œè¿™æ ·çš„æ“ä½œç³»ç»Ÿå«åšå®æ—¶æ“ä½œç³»ç»Ÿ<br />
å…¶ä¸­ç»å¯¹æ— æ³•è¿åæ—¶é™çš„æ˜¯ç¡¬å®æ—¶ç³»ç»Ÿï¼Œå¶å°”å¯ä»¥è¿åçš„æ˜¯è½¯å®æ—¶ç³»ç»Ÿ<br />
ç‰¹ç‚¹ï¼š</p></li>
</ol>
<ul>
<li>åŠæ—¶æ€§<br />
</li>
<li>å¯é æ€§</li>
</ul>
<ol start="5" type="1">
<li><p>å…¶ä»–<br />
ç½‘ç»œæ“ä½œç³»ç»ŸæŠŠè®¡ç®—æœºç½‘ç»œä¸­çš„å„å°è®¡ç®—æœºæœ‰æœºåœ°ç»“åˆèµ·æ¥ï¼Œæä¾›ä¸€ç§ç»Ÿä¸€ã€ç»æµè€Œæœ‰æ•ˆåœ°ä½¿ç”¨å„å°è®¡ç®—æœºçš„æ–¹æ³•ï¼Œå®ç°å„å°è®¡ç®—æœºä¹‹é—´æ•°æ®çš„äº’ç›¸ä¼ é€ã€‚ç½‘ç»œæ“ä½œç³»ç»Ÿæœ€ä¸»è¦çš„ç‰¹ç‚¹æ˜¯ç½‘ç»œä¸­å„ç§èµ„æºçš„å…±äº«åŠå„å°è®¡ç®—æœºä¹‹é—´çš„é€šä¿¡ã€‚<br />
åˆ†å¸ƒå¼è®¡ç®—æœºç³»ç»Ÿæ˜¯ç”±å¤šå°è®¡ç®—æœºç»„æˆå¹¶æ»¡è¶³ä¸‹åˆ—æ¡ä»¶çš„ç³»ç»Ÿï¼š</p>
<ul>
<li>ç³»ç»Ÿä¸­ä»»æ„ä¸¤å°è®¡ç®—æœºé€šè¿‡é€šä¿¡æ–¹å¼äº¤æ¢ä¿¡æ¯ï¼š<br />
</li>
<li>ç³»ç»Ÿä¸­çš„æ¯å°è®¡ç®—æœºéƒ½å…·æœ‰åŒç­‰çš„åœ°ä½ï¼Œå³æ²¡æœ‰ä¸»æœºä¹Ÿæ²¡æœ‰ä»æœºï¼šæ¯å°è®¡ç®—æœºä¸Šçš„èµ„æºä¸ºæ‰€æœ‰ç”¨æˆ·å…±äº«ï¼š<br />
</li>
<li>ç³»ç»Ÿä¸­çš„ä»»æ„å°è®¡ç®—æœºéƒ½å¯ä»¥æ„æˆä¸€ä¸ªå­ç³»ç»Ÿï¼Œå¹¶ä¸”å¯ä»¥é‡æ„ï¼›<br />
</li>
<li>ä»»ä½•å·¥ä½œéƒ½å¯ä»¥åˆ†å¸ƒåœ¨å‡ å°è®¡ç®—æœºä¸Šï¼Œç”±å®ƒä»¬å¹¶è¡Œå·¥ä½œã€ååŒå®Œæˆã€‚<br />
ç”¨äºç®¡ç†åˆ†å¸ƒå¼è®¡ç®—æœºç³»ç»Ÿçš„æ“ä½œç³»ç»Ÿç§°ä¸ºåˆ†å¸ƒå¼è®¡ç®—æœºç³»ç»Ÿã€‚è¯¥ç³»ç»Ÿçš„ä¸»è¦ç‰¹ç‚¹æ˜¯ï¼šåˆ†å¸ƒæ€§å’Œå¹¶è¡Œæ€§ã€‚åˆ†å¸ƒå¼æ“ä½œç³»ç»Ÿä¸ç½‘ç»œæ“ä½œç³»ç»Ÿçš„æœ¬è´¨ä¸åŒæ˜¯ï¼Œåˆ†å¸ƒå¼æ“ä½œç³»ç»Ÿä¸­çš„è‹¥å¹²è®¡ç®—æœºç›¸äº’ååŒå®ŒæˆåŒä¸€ä»»åŠ¡ã€‚</li>
</ul></li>
<li><p>ä¸ªäººè®¡ç®—æœºæ“ä½œç³»ç»Ÿ<br />
ä¸ªäººè®¡ç®—æœºæ“ä½œç³»ç»Ÿæ˜¯ç›®å‰ä½¿ç”¨æœ€å¹¿æ³›çš„æ“ä½œç³»ç»Ÿï¼Œå¸¸è§çš„æœ‰Windowsã€Linuxå’ŒMacintoshç­‰ã€‚</p></li>
</ol>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231204211804.png" /></p>
<h2 id="è¿è¡Œç¯å¢ƒ">è¿è¡Œç¯å¢ƒ</h2>
<p>cpuä¸€èˆ¬æ‰§è¡Œä¸¤ç§ç¨‹åºï¼Œä¸€ç§æ˜¯æ“ä½œç³»ç»Ÿå†…æ ¸ç¨‹åºï¼Œå¦ä¸€ç§æ˜¯ç”¨æˆ·ç¨‹åºï¼Œå› æ­¤å¯¹cpuæŒ‡ä»¤éœ€è¦åšåŒºåˆ†</p>
<ul>
<li>ç‰¹æƒæŒ‡ä»¤ï¼Œæ˜¯æŒ‡ä¸å…è®¸ç”¨æˆ·ç›´æ¥ä½¿ç”¨çš„æŒ‡ä»¤ï¼Œå¦‚I/OæŒ‡ä»¤ã€ç½®ä¸­æ–­æŒ‡ä»¤ï¼Œå­˜å–ç”¨äºå†…å­˜ä¿æŠ¤çš„å¯„å­˜å™¨ã€é€ç¨‹åºçŠ¶æ€å­—åˆ°ç¨‹åºçŠ¶æ€å­—å¯„å­˜å™¨ç­‰çš„æŒ‡ä»¤ã€‚<br />
</li>
<li>éç‰¹æƒæŒ‡ä»¤ï¼Œæ˜¯æŒ‡å…è®¸ç”¨æˆ·ç›´æ¥ä½¿ç”¨çš„æŒ‡ä»¤ï¼Œå®ƒä¸èƒ½ç›´æ¥è®¿é—®ç³»ç»Ÿä¸­çš„è½¯ç¡¬ä»¶èµ„æºï¼Œä»…é™äºè®¿é—®ç”¨æˆ·çš„åœ°å€ç©ºé—´ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºäº†é˜²æ­¢ç”¨æˆ·ç¨‹åºå¯¹ç³»ç»Ÿé€ æˆç ´åã€‚<br />
åœ¨å…·ä½“å®ç°ä¸Šï¼Œå°†CPUçš„è¿è¡Œæ¨¡å¼åˆ’åˆ†ä¸ºç”¨æˆ·æ€(ç›®æ€)å’Œæ ¸å¿ƒæ€ (åˆç§°ç®¡æ€ï¼Œå†…æ ¸æ€)</li>
</ul>
<h3 id="å†…æ ¸æœºåˆ¶">å†…æ ¸æœºåˆ¶</h3>
<ol type="1">
<li>æ—¶é’Ÿç®¡ç†ï¼Œæä¾›è®¡æ—¶åŠŸèƒ½ï¼Œæ˜¯æ—¶é—´ç‰‡è½®è½¬ï¼Œå®æ—¶ç³»ç»Ÿçš„æˆªæ­¢æ—¶é—´ç­‰åŠŸèƒ½çš„åŸºç¡€<br />
</li>
<li>ä¸­æ–­æœºåˆ¶ï¼Œæ“ä½œç³»ç»Ÿçš„å¤§éƒ¨åˆ†åŠŸèƒ½éƒ½ä¾èµ–ä¸­æ–­ï¼Œå¯ä»¥è¯´ç°ä»£æ“ä½œç³»ç»Ÿæ˜¯ä¸­æ–­é©±åŠ¨çš„ï¼Œä¸­æ–­æœºåˆ¶åªæœ‰ä¸€å°éƒ¨åˆ†å±äºå†…æ ¸ï¼Œè´Ÿè´£ä¿æŠ¤å’Œæ¢å¤ç°åœºç­‰<br />
</li>
<li>åŸè¯­ï¼Œæ“ä½œç³»ç»Ÿçš„åº•å±‚å°ç¨‹åºï¼Œæœ‰ä»¥ä¸‹ç‰¹ç‚¹
<ol type="1">
<li>æœ€åº•å±‚ï¼Œæœ€æ¥è¿‘ç¡¬ä»¶<br />
</li>
<li>æ“ä½œæœ‰åŸå­æ€§ï¼Œä¸å¯åˆ†å‰²<br />
</li>
<li>è¿è¡Œæ—¶é—´çŸ­ï¼Œè°ƒç”¨é¢‘ç¹<br />
</li>
</ol></li>
<li>ç³»ç»Ÿæ§åˆ¶çš„æ•°æ®ç»“æ„å’Œå¤„ç†,å¸¸è§æ“ä½œæœ‰
<ol type="1">
<li>è¿›ç¨‹ç®¡ç†<br />
</li>
<li>å­˜å‚¨å™¨ç®¡ç†<br />
</li>
<li>è®¾å¤‡ç®¡ç†</li>
</ol></li>
</ol>
<h3 id="ä¸­æ–­å’Œå¼‚å¸¸">ä¸­æ–­å’Œå¼‚å¸¸</h3>
<p>ç”±äºç”¨æˆ·æ€çš„æŸäº›æ“ä½œéœ€è¦æ ¸å¿ƒæ€çš„ä¸€äº›åŠŸèƒ½ï¼Œéœ€è¦ä¸­æ–­å’Œå¼‚å¸¸æœºåˆ¶ï¼Œæ¥è®©cpuä»ç”¨æˆ·æ€è¿›å…¥æ ¸å¿ƒæ€(è¿™é€šè¿‡ç¡¬ä»¶å®ç°ï¼Œæ¯”å¦‚ä¸€ä¸ªç‰¹æ®Šå¯„å­˜å™¨)<br />
<code>ä¸­æ–­</code>(Interruption)ä¹Ÿç§°å¤–ä¸­æ–­ï¼Œæ˜¯æŒ‡æ¥è‡ªCPUæ‰§è¡ŒæŒ‡ä»¤å¤–éƒ¨çš„äº‹ä»¶ï¼Œé€šå¸¸ç”¨äºä¿¡æ¯è¾“å…¥/è¾“å‡ºï¼Œå¦‚è®¾å¤‡å‘å‡ºçš„I/Oç»“æŸä¸­æ–­ï¼Œè¡¨ç¤ºè®¾å¤‡è¾“å…¥/è¾“å‡ºå¤„ç†å·²ç»å®Œæˆã€‚æ—¶é’Ÿä¸­æ–­ï¼Œè¡¨ç¤ºä¸€ä¸ªå›ºå®šçš„æ—¶é—´ç‰‡å·²åˆ°ï¼Œè®©å¤„ç†æœºå¤„ç†è®¡æ—¶ã€å¯åŠ¨å®šæ—¶è¿è¡Œçš„ä»»åŠ¡ç­‰<br />
<code>å¼‚å¸¸</code>(Exception)ä¹Ÿç§°å†…ä¸­æ–­ï¼Œæ˜¯æŒ‡æ¥è‡ªCPUæ‰§è¡ŒæŒ‡ä»¤å†…éƒ¨çš„äº‹ä»¶ï¼Œå¦‚ç¨‹åºçš„éæ³•æ“ä½œç ã€åœ°å€è¶Šç•Œã€è¿ç®—æº¢å‡ºã€è™šå­˜ç³»ç»Ÿçš„ç¼ºé¡µåŠä¸“é—¨çš„é™·å…¥æŒ‡ä»¤ç­‰å¼•èµ·çš„äº‹ä»¶ã€‚å¼‚å¸¸ä¸èƒ½è¢«å±è”½ï¼Œä¸€å‡ºç°ï¼Œå°±åº”ç«‹å³å¤„ç†ã€‚<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231204215335.png" /><br />
äºŒè€…çš„åˆ†ç±»å¦‚å›¾ï¼Œå…¶ä¸­ï¼š<br />
æ•…éšœ(Fault)é€šå¸¸æ˜¯ç”±æŒ‡ä»¤æ‰§è¡Œå¼•èµ·çš„å¼‚å¸¸ï¼Œå¦‚éæ³•æ“ä½œç ï¼Œç¼ºé¡µæ•…éšœã€é™¤æ•°ä¸º0ã€è¿ç®—æº¢å‡ºç­‰ã€‚<br />
è‡ªé™·(Trap)æ˜¯ä¸€ç§äº‹å…ˆå®‰æ’çš„â€œå¼‚å¸¸â€äº‹ä»¶ï¼Œç”¨äºåœ¨ç”¨æˆ·æ€ä¸‹è°ƒç”¨æ“ä½œç³»ç»Ÿå†…æ ¸ç¨‹åºã€‚<br />
ç»ˆæ­¢(Abort)æ˜¯æŒ‡å‡ºç°äº†ä½¿å¾—CPUæ— æ³•ç»§ç»­æ‰§è¡Œçš„ç¡¬ä»¶æ•…éšœï¼Œå¦‚æ§åˆ¶å™¨å‡ºé”™ã€å­˜å‚¨å™¨æ ¡éªŒé”™ç­‰ã€‚</p>
<p>æ•…éšœå¼‚å¸¸å’Œè‡ªé™·å¼‚å¸¸å±äºè½¯ä»¶ä¸­æ–­(ç¨‹åºæ€§å¼‚å¸¸)ï¼Œç»ˆæ­¢å¼‚å¸¸å’Œå¤–éƒ¨ä¸­æ–­å±äºç¡¬ä»¶ä¸­æ–­ã€‚</p>
<p>ä¸­æ–­å¤„ç†æµç¨‹ï¼šæ“ä½œç³»ç»Ÿå‘ç°ä¸­æ–­è¯·æ±‚æˆ–è€…å¼‚å¸¸åï¼Œæ‰“æ–­å½“å‰ç¨‹åºï¼Œè°ƒè½¬åˆ°ä¸­æ–­æˆ–è€…å¼‚å¸¸çš„å¤„ç†ç¨‹åºï¼Œå¦‚æœç¨‹åºèƒ½è§£å†³é—®é¢˜ï¼Œå°±å†æ¬¡å›åˆ°ç°åœºç»§ç»­æ‰§è¡Œï¼Œå¦‚æœæ˜¯è‡´å‘½é”™è¯¯ï¼Œåˆ™ç»ˆæ­¢ç¨‹åº</p>
<h3 id="ç³»ç»Ÿè°ƒç”¨">ç³»ç»Ÿè°ƒç”¨</h3>
<p>ä¸€èˆ¬æ¶‰åŠå¯¹ç³»ç»Ÿèµ„æºçš„è¯·æ±‚ï¼Œéƒ½éœ€è¦ç³»ç»Ÿè°ƒç”¨ï¼Œç³»ç»Ÿè°ƒç”¨å¯ä»¥è§†ä¸ºä¸€ç§ç‰¹æ®Šçš„å…¬å…±å­ç¨‹åº<br />
å¸¸è§ç±»å‹ï¼š</p>
<ul>
<li>è®¾å¤‡ç®¡ç†ã€‚å®Œæˆè®¾å¤‡çš„è¯·æ±‚æˆ–é‡Šæ”¾ï¼Œä»¥åŠè®¾å¤‡å¯åŠ¨ç­‰åŠŸèƒ½ã€‚<br />
</li>
<li>æ–‡ä»¶ç®¡ç†ã€‚å®Œæˆæ–‡ä»¶çš„è¯»ã€å†™ã€åˆ›å»ºåŠåˆ é™¤ç­‰åŠŸèƒ½ã€‚<br />
</li>
<li>è¿›ç¨‹æ§åˆ¶ã€‚å®Œæˆè¿›ç¨‹çš„åˆ›å»ºã€æ’¤é”€ã€é˜»å¡åŠå”¤é†’ç­‰åŠŸèƒ½ã€‚<br />
</li>
<li>è¿›ç¨‹é€šä¿¡ã€‚å®Œæˆè¿›ç¨‹ä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’æˆ–ä¿¡å·ä¼ é€’ç­‰åŠŸèƒ½ã€‚<br />
</li>
<li>å†…å­˜ç®¡ç†ã€‚å®Œæˆå†…å­˜çš„åˆ†é…ã€å›æ”¶ä»¥åŠè·å–ä½œä¸šå ç”¨å†…å­˜åŒºå¤§å°åŠå§‹å€ç­‰åŠŸèƒ½</li>
</ul>
<p>ç”¨æˆ·ç¨‹åºå¯ä»¥æ‰§è¡Œé™·å…¥æŒ‡ä»¤(åˆç§°è®¿ç®¡æŒ‡ä»¤æˆ–trapæŒ‡ä»¤)æ¥å‘èµ·ç³»ç»Ÿè°ƒç”¨ï¼Œæ­¤æ—¶ç›¸å½“äºcpuä½¿ç”¨æƒè¢«äº¤ç»™å†…æ ¸ï¼Œæ¥è®©cpuè¿›å…¥æ ¸å¿ƒæ€æ‰§è¡Œç‰¹æƒæŒ‡ä»¤ï¼Œæœ€åç»“æœå’Œcpuè¿”è¿˜ç»™ç¨‹åº<br />
å½“éœ€è¦ç®¡ç†ç¨‹åºæœåŠ¡æ—¶ï¼Œç³»ç»Ÿåˆ™é€šè¿‡ç¡¬ä»¶ä¸­æ–­æœºåˆ¶è¿›å…¥æ ¸å¿ƒæ€ï¼Œè¿è¡Œç®¡ç†ç¨‹åºï¼šä¹Ÿå¯èƒ½æ˜¯ç¨‹åºè¿è¡Œå‡ºç°å¼‚å¸¸æƒ…å†µï¼Œè¢«åŠ¨åœ°éœ€è¦ç®¡ç†ç¨‹åºçš„æœåŠ¡ï¼Œè¿™æ—¶å°±é€šè¿‡å¼‚å¸¸å¤„ç†æ¥è¿›å…¥æ ¸å¿ƒæ€ã€‚<br />
ç®¡ç†ç¨‹åºè¿è¡Œç»“æŸæ—¶ï¼Œç”¨æˆ·ç¨‹åºéœ€è¦ç»§ç»­è¿è¡Œï¼Œæ­¤æ—¶é€šè¿‡ç›¸åº”çš„ä¿å­˜çš„ç¨‹åºç°åœºé€€å‡ºä¸­æ–­å¤„ç†ç¨‹åºæˆ–å¼‚å¸¸å¤„ç†ç¨‹åºï¼Œè¿”å›æ–­ç‚¹å¤„ç»§ç»­æ‰§è¡Œ<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231204220927.png" /></p>
<p>æ‰§è¡Œç³»ç»Ÿè°ƒç”¨çš„è¿‡ç¨‹å¦‚ä¸‹ï¼šæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹å…ˆä¼ é€’ç³»ç»Ÿè°ƒç”¨å‚æ•°ï¼Œç„¶åç”±é™·å…¥(trap)æŒ‡ä»¤è´Ÿè´£å°†ç”¨æˆ·æ€è½¬æ¢ä¸ºå†…æ ¸æ€ï¼Œå¹¶å°†è¿”å›åœ°å€å‹å…¥å †æ ˆä»¥å¤‡åç”¨ï¼Œæ¥ä¸‹æ¥CPUæ‰§è¡Œç›¸åº”çš„å†…æ ¸æ€æœåŠ¡ç¨‹åºï¼Œæœ€åè¿”å›ç”¨æˆ·æ€ã€‚</p>
<div class="note warning"><ul>
<li>ç”±ç”¨æˆ·æ€è¿›å…¥æ ¸å¿ƒæ€ï¼Œä¸ä»…çŠ¶æ€éœ€è¦åˆ‡æ¢ï¼Œè€Œä¸”æ‰€ç”¨çš„å †æ ˆä¹Ÿå¯èƒ½éœ€è¦ç”±ç”¨æˆ·å †æ ˆåˆ‡æ¢ä¸ºç³»ç»Ÿå †æ ˆï¼Œä½†è¿™ä¸ªç³»ç»Ÿå †æ ˆä¹Ÿæ˜¯å±äºè¯¥è¿›ç¨‹çš„,æ­¤å¤–ï¼Œè¿™ä¸ªè½¬å˜æ˜¯ç¡¬ä»¶å®Œæˆçš„ï¼Œæ ¸å¿ƒæ€åˆ°ç”¨æˆ·æ€åˆ™æ˜¯æ“ä½œç³»ç»Ÿå®Œæˆ<br />
</li>
<li>è®¿ç®¡æŒ‡ä»¤åœ¨ç”¨æˆ·æ€ä½¿ç”¨ï¼Œå› æ­¤ä¸æ˜¯ç‰¹æƒæŒ‡ä»¤<br />
</li>
<li>è¾“å…¥è¾“å‡ºè¿™ç§æ¶‰åŠåˆ°ä¸­æ–­æœºåˆ¶çš„æŒ‡ä»¤ï¼Œå¿…é¡»åœ¨æ ¸å¿ƒæ€æ‰§è¡Œ<br />
</li>
<li>å‘½ä»¤è§£é‡Šè¿™ç§ä¸ç”¨æˆ·äº¤äº’çš„ç¨‹åºåœ¨ç”¨æˆ·æ€æ‰§è¡Œï¼Œè€Œè¿›ç¨‹è°ƒåº¦åˆ™éœ€è¦æ ¸å¿ƒæ€(å•ä¸ªç”¨æˆ·ä¸åº”èƒ½å½±å“è¿›ç¨‹è¿™æ ·çš„å…¨å±€çŠ¶æ€ï¼Œå¦åˆ™å°±å¯ä»¥åªè®©è‡ªå·±çš„è¿›ç¨‹ä¼˜å…ˆæ‰§è¡Œ)<br />
</li>
<li>å¤–éƒ¨ä¸­æ–­æ—¶ï¼Œé€šç”¨å¯„å­˜å™¨ç”±æ“ä½œç³»ç»Ÿä¿å­˜ï¼ŒPC(ç¨‹åºè®¡æ•°å™¨)åˆ™ç”±ä¸­æ–­æŒ‡ä»¤è‡ªåŠ¨ä¿å­˜<br />
</li>
<li>æ—¶é’Ÿä¸­æ–­åï¼ŒæœåŠ¡ç¨‹åºåº”å½“æ›´æ–°å†…æ ¸ä¸­æ—¶é’Ÿå˜é‡çš„å€¼,å½“å‰è¿›ç¨‹å ç”¨CPUçš„æ—¶é—´,å½“å‰è¿›ç¨‹åœ¨æ—¶é—´ç‰‡å†…çš„å‰©ä½™æ‰§è¡Œæ—¶é—´ç­‰å…¨éƒ¨æ—¶é’Ÿç›¸å…³çš„æ•°æ®<br />
</li>
<li>æ“ä½œç³»ç»Ÿé€šè¿‡æä¾›ç³»ç»Ÿè°ƒç”¨é¿å…ç”¨æˆ·ç¨‹åºç›´æ¥è®¿é—®å¤–è®¾<br />
</li>
<li>å½“CPUæ£€æµ‹åˆ°ä¸­æ–­ä¿¡å·åï¼Œç”±ç¡¬ä»¶è‡ªåŠ¨ä¿å­˜è¢«ä¸­æ–­ç¨‹åºçš„æ–­ç‚¹(å³ç¨‹åºè®¡æ•°å™¨PC)ï¼Œä¹‹åï¼Œç¡¬ä»¶æ‰¾åˆ°è¯¥ä¸­æ–­ä¿¡å·å¯¹åº”çš„ä¸­æ–­å‘é‡ï¼Œä¸­æ–­å‘é‡æŒ‡æ˜ä¸­æ–­æœåŠ¡ç¨‹åºå…¥å£åœ°å€(å„ä¸­æ–­å‘é‡ä¿å­˜PSWã€ä¿å­˜ä¸­æ–­å±è”½å­—ã€ä¿å­˜å„é€šç”¨å¯„å­˜å™¨çš„å€¼ï¼Œå¹¶æä¾›ä¸ä¸­æ–­ä¿¡å·å¯¹åº”çš„ä¸­æ–­æœåŠ¡ï¼Œä¸­æ–­æœåŠ¡ç¨‹åºå±äºæ“ä½œç³»ç»Ÿå†…æ ¸)<br />
</li>
<li>èƒ½åœ¨å†…æ ¸æ€ä¸‹æ‰§è¡Œã€‚å¸¸è§çš„ç‰¹æƒæŒ‡ä»¤æœ‰ï¼š
<ul>
<li>æœ‰å…³å¯¹IOè®¾å¤‡æ“ä½œçš„æŒ‡ä»¤<br />
</li>
<li>æœ‰å…³è®¿é—®ç¨‹åºçŠ¶æ€çš„æŒ‡ä»¤<br />
</li>
<li>å­˜å–ç‰¹æ®Šå¯„å­˜å™¨çš„æŒ‡ä»¤<br />
</li>
</ul></li>
<li>é€šé“æŠ€æœ¯å’Œä¸­æ–­æŠ€æœ¯ç»“åˆèµ·æ¥å°±å¯å®ç°CPUä¸I/Oè®¾å¤‡å¹¶è¡Œå·¥ä½œï¼Œå³CPUå¯åŠ¨é€šé“ä¼ è¾“æ•°æ®åä¾¿è¿›è¡Œå…¶ä»–ç¨‹åºçš„è®¡ç®—å·¥ä½œï¼Œè€Œé€šé“åˆ™è¿›è¡Œè¾“å…¥è¾“å‡ºæ“ä½œï¼›é€šé“å·¥ä½œç»“æŸåï¼Œé€šè¿‡ä¸­æ–­è®©cpuè¿›è¡Œå¤„ç†ï¼Œå¤„ç†å®Œå†å„è‡ªè¿›è¡Œå¯¹åº”çš„å·¥ä½œ</li>
</ul>
</div>
<h2 id="ç»“æ„">ç»“æ„</h2>
<ol type="1">
<li><p>åˆ†å±‚æ³•<br />
æœ€åº•å±‚ä¸ºç¡¬ä»¶ï¼Œæœ€é«˜å±‚ä¸ºç”¨æˆ·æ¥å£ï¼Œæ¯ä¸ªé«˜å±‚åªèƒ½è°ƒç”¨å®ƒå‘ä¸‹å•å±‚çš„åŠŸèƒ½å’ŒæœåŠ¡<br />
ä¼˜ç‚¹ï¼š</p>
<ol type="1">
<li>ä¾¿äºè°ƒè¯•å’ŒéªŒè¯ï¼Œç”±äºæ¯å±‚éƒ½ç›¸å¯¹ç‹¬ç«‹ï¼Œå¯ä»¥éš”ç»é—®é¢˜ï¼Œåœ¨å•å±‚å®šä½é—®é¢˜<br />
</li>
<li>æ˜“äºæ‰©å……ç»´æŠ¤ï¼Œåªè¦ç¡®ä¿å±‚é—´æ¥å£ä¸ä¾¿ï¼Œå°±å¯ä»¥éšæ„ä¿®æ”¹å•å±‚å†…çš„æ¨¡å—</li>
</ol></li>
</ol>
<p>é—®é¢˜ï¼š1ï¼Œéš¾äºå®šä¹‰å„å±‚ã€‚2ï¼Œç”±äºæœ‰æ—¶éœ€è¦è·¨å¤šå±‚è°ƒç”¨ï¼Œé¢å¤–å¼€é”€è¾ƒå¤§ï¼Œæ•ˆç‡è¾ƒä½</p>
<ol start="2" type="1">
<li><p>æ¨¡å—åŒ–<br />
å°†æ“ä½œç³»ç»Ÿå®šä¹‰æˆå„ç§æœ‰è‡ªå·±æ¥å£çš„æ¨¡å—ï¼Œå„æ¨¡å—é€šè¿‡æ¥å£è¿›è¡Œç»„åˆå’Œé€šä¿¡<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231205144922.png" /><br />
è¿™æ ·çš„ç»“æ„éœ€è¦ä¿è¯æ¨¡å—ä¹‹é—´çš„ç‹¬ç«‹æ€§ï¼Œå³ï¼š</p>
<ul>
<li>å†…èšæ€§ï¼Œæ¨¡å—å†…éƒ¨å„éƒ¨åˆ†é—´è”ç³»çš„ç´§å¯†ç¨‹åº¦ã€‚å†…èšæ€§è¶Šé«˜ï¼Œæ¨¡å—ç‹¬ç«‹æ€§è¶Šå¥½ã€‚<br />
</li>
<li>è€¦åˆåº¦ï¼Œæ¨¡å—é—´ç›¸äº’è”ç³»å’Œç›¸äº’å½±å“çš„ç¨‹åº¦ã€‚è€¦åˆåº¦è¶Šä½ï¼Œæ¨¡å—ç‹¬ç«‹æ€§è¶Šå¥½ã€‚<br />
æ¨¡å—åŒ–çš„ä¼˜ç‚¹ï¼šâ‘ æé«˜äº†æ“ä½œç³»ç»Ÿè®¾è®¡çš„æ­£ç¡®æ€§ã€å¯ç†è§£æ€§å’Œå¯ç»´æŠ¤æ€§ï¼šâ‘¡å¢å¼ºäº†æ“ä½œç³»ç»Ÿçš„å¯é€‚åº”æ€§ï¼šâ‘¢åŠ é€Ÿäº†æ“ä½œç³»ç»Ÿçš„å¼€å‘è¿‡ç¨‹ã€‚<br />
æ¨¡å—åŒ–çš„ç¼ºç‚¹ï¼šâ‘ æ¨¡å—é—´çš„æ¥å£è§„å®šå¾ˆéš¾æ»¡è¶³å¯¹æ¥å£çš„å®é™…éœ€æ±‚ã€‚â‘¡å„æ¨¡å—è®¾è®¡è€…é½å¤´å¹¶è¿›ï¼Œæ¯ä¸ªå†³å®šæ— æ³•å»ºç«‹åœ¨ä¸Šä¸€ä¸ªå·²éªŒè¯çš„æ­£ç¡®å†³å®šçš„åŸºç¡€ä¸Šï¼Œå› æ­¤æ— æ³•æ‰¾åˆ°ä¸€ä¸ªå¯é çš„å†³å®šé¡ºåºã€‚</li>
</ul></li>
<li><p>å®å†…æ ¸<br />
å®å†…æ ¸ï¼ŒæŒ‡å°†ç³»ç»Ÿçš„ä¸»è¦åŠŸèƒ½æ¨¡å—ä½œä¸ºæ•´ä½“è¿è¡Œåœ¨æ ¸å¿ƒæ€ï¼Œä»è€Œä¸ºç”¨æˆ·ç¨‹åºæä¾›é«˜æ€§èƒ½çš„ç³»ç»ŸæœåŠ¡ã€‚å„ç®¡ç†æ¨¡å—ä¹‹é—´å…±äº«ä¿¡æ¯ï¼Œæ€§èƒ½è¾ƒé«˜ï¼›ä½†åŒæ—¶æœ‰æ›´é«˜è€¦åˆæ€§ï¼Œä¸€ä¸ªæ¨¡å—æ•…éšœå¯èƒ½æ³¢åŠæ•´ä¸ªç³»ç»Ÿ<br />
ä¸»æµæ“ä½œç³»ç»Ÿéƒ½ä½¿ç”¨äº†å®å†…æ ¸ï¼Œä½†äº‹å®ä¸Šä¹Ÿåœ¨é€æ¸å¼•è¿›å¾®å†…æ ¸æŠ€æœ¯ï¼Œæˆä¸ºä¸€ç§æ··åˆç»“æ„</p></li>
<li><p>å¾®å†…æ ¸<br />
å¾®å†…æ ¸æ„æ¶ï¼Œæ˜¯æŒ‡å°†å†…æ ¸ä¸­æœ€åŸºæœ¬çš„åŠŸèƒ½ä¿ç•™åœ¨å†…æ ¸ï¼Œè€Œå°†é‚£äº›ä¸éœ€è¦åœ¨æ ¸å¿ƒæ€æ‰§è¡Œçš„åŠŸèƒ½ç§»åˆ°ç”¨æˆ·æ€æ‰§è¡Œï¼Œä»è€Œé™ä½å†…æ ¸çš„è®¾è®¡å¤æ‚æ€§ã€‚é‚£äº›ç§»å‡ºå†…æ ¸çš„æ“ä½œç³»ç»Ÿä»£ç æ ¹æ®åˆ†å±‚çš„åŸåˆ™åˆ’åˆ†æˆè‹¥å¹²æœåŠ¡ç¨‹åºï¼Œå®ƒä»¬çš„æ‰§è¡Œç›¸äº’ç‹¬ç«‹ï¼Œäº¤äº’åˆ™éƒ½å€ŸåŠ©äºå¾®å†…æ ¸è¿›è¡Œé€šä¿¡ã€‚<br />
ä¸€èˆ¬å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š</p></li>
</ol>
<ul>
<li>å¾®å†…æ ¸,å®ç°æ“ä½œç³»ç»Ÿæœ€åŸºæœ¬æ ¸å¿ƒåŠŸèƒ½çš„å°å‹å†…æ ¸
<ul>
<li>ä¸ç¡¬ä»¶ç´§å¯†ç›¸å…³çš„åŠŸèƒ½<br />
</li>
<li>åŸºæœ¬åŠŸèƒ½<br />
</li>
<li>å®¢æˆ·å’ŒæœåŠ¡å™¨çš„é€šä¿¡<br />
</li>
</ul></li>
<li>å¤šä¸ªæœåŠ¡å™¨</li>
</ul>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231205151119.png" /><br />
ä¸ºäº†å®ç°é«˜å¯é æ€§ï¼Œåªæœ‰å¾®å†…æ ¸è¿è¡Œåœ¨å†…æ ¸æ€ï¼Œå…¶ä½™æ¨¡å—éƒ½è¿è¡Œåœ¨ç”¨æˆ·æ€ï¼Œä¸€ä¸ªæ¨¡å—çš„é”™è¯¯ä¸ä¼šå½±å“æ•´ä¸ªç³»ç»Ÿ<br />
å¾®å†…æ ¸çš„åŠŸèƒ½ï¼š</p>
<ul>
<li>è¿›ç¨‹(çº¿ç¨‹)ç®¡ç†ï¼šè¿›ç¨‹çš„é€šä¿¡ï¼Œåˆ‡æ¢ï¼Œè°ƒåº¦ï¼Œå¤šå¤„ç†å™¨çš„åŒæ­¥ç­‰éƒ½åº”è¯¥æ”¾å…¥å¾®å†…æ ¸ï¼Œä½†è¿›ç¨‹åˆ†ç±»ï¼Œä¼˜å…ˆçº§ç¡®å®šç­‰ä¸æ¶‰åŠæœºåˆ¶çš„åŠŸèƒ½å¯ä»¥æ”¾å…¥è¿›ç¨‹ç®¡ç†æœåŠ¡å™¨<br />
</li>
<li>ä½çº§å­˜å‚¨å™¨ç®¡ç†ï¼šæ¯”å¦‚é¡µè¡¨æœºåˆ¶å’Œåœ°å€å˜æ¢æœºåˆ¶ï¼Œè€Œè™šæ‹Ÿå­˜å‚¨å™¨çš„ç®¡ç†ï¼Œé¡µé¢ç½®æ¢ç®—æ³•ç­‰åˆ™ç”±å­˜å‚¨å™¨ç®¡ç†æœåŠ¡å™¨ç®¡ç†<br />
</li>
<li>ä¸­æ–­å’Œé™·å…¥å¤„ç†ï¼Œæ•è·ç›¸å…³äº‹ä»¶ï¼Œè¿›è¡Œä¸­æ–­å“åº”å¤„ç†ï¼Œç„¶åå‘é€ç»™ç›¸å…³æœåŠ¡å™¨æ¥å¤„ç†</li>
</ul>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>æ‹“å±•æ€§å’Œçµæ´»æ€§<br />
</li>
<li>å¯é æ€§å’Œå®‰å…¨æ€§<br />
</li>
<li>å¯ç§»æ¤æ€§(å’Œç¡¬ä»¶æœ‰å…³çš„éƒ½åœ¨å¾®å†…æ ¸ä¸­ï¼Œå…¶ä»–æœåŠ¡å™¨å’Œç¡¬ä»¶æ— å…³)<br />
</li>
<li>åˆ†å¸ƒå¼è®¡ç®—ï¼Œé€šä¿¡é‡‡ç”¨æ¶ˆæ¯ä¼ é€’æœºåˆ¶ï¼Œå¾ˆå¥½çš„æ”¯æŒåˆ†å¸ƒå¼ç³»ç»Ÿå’Œç½‘ç»œç³»ç»Ÿ</li>
</ul>
<p>å¾®å†…æ ¸ç»“æ„çš„ä¸»è¦é—®é¢˜æ˜¯æ€§èƒ½é—®é¢˜ï¼Œå› ä¸ºéœ€è¦é¢‘ç¹åœ°åœ¨æ ¸å¿ƒæ€å’Œç”¨æˆ·æ€ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼Œæ“ä½œç³»ç»Ÿçš„æ‰§è¡Œå¼€é”€åå¤§ã€‚</p>
<ol start="5" type="1">
<li>å¤–æ ¸<br />
ä¸åŒäºè™šæ‹Ÿæœºå…‹éš†çœŸå®æœºå™¨ï¼Œå¦ä¸€ç§ç­–ç•¥æ˜¯å¯¹æœºå™¨è¿›è¡Œåˆ†åŒºï¼Œç»™æ¯ä¸ªç”¨æˆ·æ•´ä¸ªèµ„æºçš„ä¸€ä¸ªå­é›†ã€‚åœ¨åº•å±‚ä¸­ï¼Œä¸€ç§ç§°ä¸ºå¤–æ ¸(exokernel)çš„ç¨‹åºåœ¨å†…æ ¸æ€ä¸­è¿è¡Œã€‚å®ƒçš„ä»»åŠ¡æ˜¯ä¸ºè™šæ‹Ÿæœºåˆ†é…èµ„æºï¼Œå¹¶æ£€æŸ¥ä½¿ç”¨è¿™äº›èµ„æºçš„ä¼å›¾ï¼Œä»¥ç¡®ä¿æ²¡æœ‰æœºå™¨ä¼šä½¿ç”¨ä»–äººçš„èµ„æºã€‚æ¯ä¸ªç”¨æˆ·å±‚çš„è™šæ‹Ÿæœºæœ‰è‡ªå·±çš„æ“ä½œç³»ç»Ÿï¼Œä½†èµ„æºæ˜¯å—é™åˆ¶çš„<br />
å¤–æ ¸æœºåˆ¶çš„ä¼˜ç‚¹æ˜¯å‡å°‘äº†æ˜ å°„å±‚ã€‚åœ¨å…¶ä»–çš„è®¾è®¡ä¸­ï¼Œæ¯ä¸ªè™šæ‹Ÿæœºéƒ½è®¤ä¸ºå®ƒæœ‰è‡ªå·±çš„ç£ç›˜ï¼Œè¿™æ ·è™šæ‹Ÿæœºç›‘æ§ç¨‹åºå°±å¿…é¡»ç»´æŠ¤ä¸€å¼ è¡¨æ ¼ä»¥é‡æ˜ åƒç£ç›˜åœ°å€ï¼Œæœ‰å¤–æ ¸å°±ä¸éœ€è¦ç»´æŠ¤è¿™ä¸ªè¡¨æ ¼äº†ï¼Œå¹¶ä¸”å®ç°äº†å„ä¸ªè™šæ‹Ÿæœºä¹‹é—´çš„å®‰å…¨åˆ’åˆ†ï¼Œæ²¡æœ‰å†²çª</li>
</ol>
<p><img src="/assets/resources/Pasted%20image%2020240208095549.png" /></p>
<h2 id="å¼•å¯¼">å¼•å¯¼</h2>
<p>æ“ä½œç³»ç»Ÿå¼•å¯¼è¿‡ç¨‹ï¼š</p>
<ol type="1">
<li>æ¿€æ´»CPUã€‚æ¿€æ´»çš„CPUè¯»å–ROMä¸­çš„bootç¨‹åºï¼Œå°†æŒ‡ä»¤å¯„å­˜å™¨çš„å†…å®¹ç½®ä¸ºBIOS(åŸºæœ¬è¾“å…¥/è¾“å‡ºç³»ç»Ÿ)çš„ç¬¬ä¸€æ¡æŒ‡ä»¤ï¼Œå³å¼€å§‹æ‰§è¡ŒBIOSçš„æŒ‡ä»¤ã€‚<br />
</li>
<li>ç¡¬ä»¶è‡ªæ£€ã€‚å¯åŠ¨BIOSç¨‹åºåï¼Œå…ˆè¿›è¡Œç¡¬ä»¶è‡ªæ£€ï¼Œæ£€æŸ¥ç¡¬ä»¶æ˜¯å¦å‡ºç°æ•…éšœã€‚å¦‚æœ‰æ•…éšœï¼Œä¸»æ¿ä¼šå‘å‡ºä¸åŒå«ä¹‰çš„èœ‚é¸£ï¼Œå¯åŠ¨ä¸­æ­¢ï¼šå¦‚æœæ²¡æœ‰æ•…éšœï¼Œå±å¹•ä¼šæ˜¾ç¤ºCPUã€å†…å­˜ã€ç¡¬ç›˜ç­‰ä¿¡æ¯ã€‚<br />
</li>
<li>åŠ è½½å¸¦æœ‰æ“ä½œç³»ç»Ÿçš„ç¡¬ç›˜ã€‚ç¡¬ä»¶è‡ªæ£€åï¼ŒBIOSå¼€å§‹è¯»å–BootSequence(é€šè¿‡CMOSé‡Œä¿å­˜çš„å¯åŠ¨é¡ºåºï¼Œæˆ–è€…é€šè¿‡ä¸ç”¨æˆ·äº¤äº’çš„æ–¹å¼)ï¼ŒæŠŠæ§åˆ¶æƒäº¤ç»™å¯åŠ¨é¡ºåºæ’åœ¨ç¬¬ä¸€ä½çš„å­˜å‚¨è®¾å¤‡ï¼Œç„¶åCPUå°†è¯¥å­˜å‚¨è®¾å¤‡å¼•å¯¼æ‰‡åŒºçš„å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­ã€‚<br />
</li>
<li>åŠ è½½ä¸»å¼•å¯¼è®°å½•MBRã€‚ç¡¬ç›˜ä»¥ç‰¹å®šçš„æ ‡è¯†ç¬¦åŒºåˆ†å¼•å¯¼ç¡¬ç›˜å’Œéå¼•å¯¼ç¡¬ç›˜ã€‚å¦‚æœå‘ç°ä¸€ä¸ªå­˜å‚¨è®¾å¤‡ä¸æ˜¯å¯å¼•å¯¼ç›˜ï¼Œå°±æ£€æŸ¥ä¸‹ä¸€ä¸ªå­˜å‚¨è®¾å¤‡ã€‚å¦‚æ— å…¶ä»–å¯åŠ¨è®¾å¤‡ï¼Œå°±ä¼šæ­»æœºã€‚ä¸»å¼•å¯¼è®°å½•MBRçš„ä½œç”¨æ˜¯å‘Šè¯‰CPUå»ç¡¬ç›˜çš„å“ªä¸ªä¸»åˆ†åŒºå»æ‰¾æ“ä½œç³»ç»Ÿã€‚<br />
</li>
<li>æ‰«æç¡¬ç›˜åˆ†åŒºè¡¨ï¼Œå¹¶åŠ è½½ç¡¬ç›˜æ´»åŠ¨åˆ†åŒºã€‚MBRåŒ…å«ç¡¬ç›˜åˆ†åŒºè¡¨ï¼Œç¡¬ç›˜åˆ†åŒºè¡¨ä»¥ç‰¹å®šçš„æ ‡è¯†ç¬¦åŒºåˆ†æ´»åŠ¨åˆ†åŒºå’Œéæ´»åŠ¨åˆ†åŒºã€‚ä¸»å¼•å¯¼è®°å½•æ‰«æç¡¬ç›˜åˆ†åŒºè¡¨ï¼Œè¿›è€Œè¯†åˆ«å«æœ‰æ“ä½œç³»ç»Ÿçš„ç¡¬ç›˜åˆ†åŒº(æ´»åŠ¨åˆ†åŒº)ã€‚æ‰¾åˆ°ç¡¬ç›˜æ´»åŠ¨åˆ†åŒºåï¼Œå¼€å§‹åŠ è½½ç¡¬ç›˜æ´»åŠ¨åˆ†åŒºï¼Œå°†æ§åˆ¶æƒäº¤ç»™æ´»åŠ¨åˆ†åŒºã€‚<br />
</li>
<li>åŠ è½½åˆ†åŒºå¼•å¯¼è®°å½•PBRã€‚è¯»å–æ´»åŠ¨åˆ†åŒºçš„ç¬¬ä¸€ä¸ªæ‰‡åŒºï¼Œè¿™ä¸ªæ‰‡åŒºç§°ä¸ºåˆ†åŒºå¼•å¯¼è®°å½•(PBR)ï¼Œå…¶ä½œç”¨æ˜¯å¯»æ‰¾å¹¶æ¿€æ´»åˆ†åŒºæ ¹ç›®å½•ä¸‹ç”¨äºå¼•å¯¼æ“ä½œç³»ç»Ÿçš„ç¨‹åº(å¯åŠ¨ç®¡ç†å™¨)<br />
</li>
<li>åŠ è½½å¯åŠ¨ç®¡ç†å™¨ã€‚åˆ†åŒºå¼•å¯¼è®°å½•æœç´¢æ´»åŠ¨åˆ†åŒºä¸­çš„å¯åŠ¨ç®¡ç†å™¨ï¼ŒåŠ è½½å¯åŠ¨ç®¡ç†å™¨<br />
</li>
<li>åŠ è½½æ“ä½œç³»ç»Ÿ</li>
</ol>
<p>ç®€å•æ¥è¯´ï¼Œæ˜¯æŒ‡è®¡ç®—æœºåˆ©ç”¨CPUè¿è¡Œbootç¨‹åº(ä¾‹å¦‚ç„Šåœ¨ä¸»æ¿ä¸Šçš„romä¸­)ï¼Œå…ˆè¿›è¡Œè‡ªæ£€ï¼Œç„¶åè¯†åˆ«ç¡¬ç›˜ï¼Œæ‰¾åˆ°æœ‰ç³»ç»Ÿçš„ç¡¬ç›˜(å¤šç³»ç»Ÿåˆ™éœ€è¦æŒ‡å®šé¡ºåº)ï¼Œç”±äºç¡¬ç›˜åˆ†åŒºä¸”æ“ä½œç³»ç»Ÿä»¥åŒºä¸ºå•ä½å­˜æ”¾ï¼Œå› æ­¤éœ€è¦é€šè¿‡MBRä¸­çš„åˆ†åŒºä¿¡æ¯å¯»æ‰¾æ´»åŠ¨åˆ†åŒºï¼Œæœ€åé€šè¿‡åˆ†åŒºå†…ç‰¹å®šçš„å¼•å¯¼ç¨‹åºå¯åŠ¨æ“ä½œç³»ç»Ÿ</p>
<h2 id="è™šæ‹Ÿæœº">è™šæ‹Ÿæœº</h2>
<p>è™šæ‹Ÿæœºæ˜¯ä¸€å°é€»è¾‘è®¡ç®—æœºï¼Œæ˜¯æŒ‡åˆ©ç”¨ç‰¹æ®Šçš„è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œé€šè¿‡éšè—ç‰¹å®šè®¡ç®—å¹³å°çš„å®é™…ç‰©ç†ç‰¹æ€§ï¼Œä¸ºç”¨æˆ·æä¾›æŠ½è±¡çš„ã€ç»Ÿä¸€çš„ã€æ¨¡æ‹Ÿçš„è®¡ç®—ç¯å¢ƒã€‚æœ‰ä¸¤ç±»è™šæ‹ŸåŒ–æ–¹æ³•ã€‚</p>
<ol type="1">
<li>è™šæ‹Ÿæœºç®¡ç†ç¨‹åºä½œä¸ºå”¯ä¸€è¿è¡Œåœ¨æœ€é«˜ç‰¹æƒçš„ç¨‹åºï¼Œåœ¨è£¸æœºä¸Šè¿è¡Œå¹¶ä¸”å…·å¤‡å¤šé“ç¨‹åºåŠŸèƒ½ã€‚ç®¡ç†ç¨‹åºå‘ä¸Šå±‚æä¾›è‹¥å¹²å°è™šæ‹Ÿæœºã€è¿™äº›è™šæ‹Ÿæœºæ˜¯è£¸æœºç¡¬ä»¶çš„ç²¾ç¡®å¤åˆ¶å“ã€‚ç”±äºæ¯å°è™šæ‹Ÿæœºéƒ½ä¸è£¸æœºç›¸åŒï¼Œæ‰€ä»¥åœ¨ä¸åŒçš„è™šæ‹Ÿæœºä¸Šå¯ä»¥è¿è¡Œä»»ä½•ä¸åŒçš„æ“ä½œç³»ç»Ÿã€‚</li>
</ol>
<div class="note info"><p>è™šæ‹Ÿæœºä½œä¸ºç”¨æˆ·æ€çš„ä¸€ä¸ªè¿›ç¨‹è¿è¡Œï¼Œä¸å…è®¸æ‰§è¡Œæ•æ„ŸæŒ‡ä»¤ã€‚ç„¶è€Œï¼Œè™šæ‹Ÿæœºä¸Šçš„æ“ä½œç³»ç»Ÿè®¤ä¸ºè‡ªå·²è¿è¡Œåœ¨å†…æ ¸æ€(å®é™…ä¸Šä¸æ˜¯)ï¼Œç§°ä¸ºè™šæ‹Ÿå†…æ ¸æ€ã€‚è™šæ‹Ÿæœºä¸­çš„ç”¨æˆ·è¿›ç¨‹è®¤ä¸ºè‡ªå·²è¿è¡Œåœ¨ç”¨æˆ·æ€(å®é™…ä¸Šç¡®å®æ˜¯)<br />
å½“è™šæ‹Ÿæœºæ“ä½œç³»ç»Ÿæ‰§è¡Œäº†ä¸€æ¡CPUå¤„äºå†…æ ¸æ€æ‰å…è®¸æ‰§è¡Œçš„æŒ‡ä»¤æ—¶ï¼Œä¼šé™·å…¥è™šæ‹Ÿæœºç®¡ç†ç¨‹åºã€‚åœ¨æ”¯æŒè™šæ‹ŸåŒ–çš„CPUä¸Šï¼Œè™šæ‹Ÿæœºç®¡ç†ç¨‹åºæ£€æŸ¥è¿™æ¡æŒ‡ä»¤æ˜¯ç”±è™šæ‹Ÿæœºä¸­çš„æ“ä½œç³»ç»Ÿæ‰§è¡Œçš„è¿˜æ˜¯ç”±ç”¨æˆ·ç¨‹åºæ‰§è¡Œçš„ã€‚å¦‚æœæ˜¯å‰è€…ï¼Œè™šæ‹Ÿæœºç®¡ç†ç¨‹åºå°†å®‰æ’è¿™æ¡æŒ‡ä»¤åŠŸèƒ½çš„æ­£ç¡®æ‰§è¡Œã€‚å¦åˆ™ï¼Œè™šæ‹Ÿæœºç®¡ç†ç¨‹åºå°†æ¨¡æ‹ŸçœŸå®ç¡¬ä»¶é¢å¯¹ç”¨æˆ·æ€æ‰§è¡Œæ•æ„ŸæŒ‡ä»¤æ—¶çš„è¡Œä¸ºã€‚</p>
</div>
<ol start="2" type="1">
<li>ç±»ä¼¼ä¸€ä¸ªä¾èµ–å®¿ä¸»æœºçš„æ™®é€šè¿›ç¨‹ï¼Œæ“ä½œç³»ç»Ÿå®‰è£…åˆ°è™šæ‹Ÿç£ç›˜ä¸Š(å…¶å®åªæ˜¯å®¿ä¸»æ“ä½œç³»ç»Ÿä¸­çš„ä¸€ä¸ªæ–‡ä»¶)ã€‚å®¢æˆ·æ“ä½œç³»ç»Ÿå®‰è£…å®Œæˆåï¼Œå°±èƒ½å¯åŠ¨å¹¶è¿è¡Œã€‚ æ­¤æ—¶ï¼Œè™šæ‹Ÿæœºç®¡ç†ç¨‹åºä¼ªè£…æˆä¸€å°è®¡ç®—æœº(æ¯”å¦‚vmware)</li>
</ol>
<p>æœ‰çš„æ•™æå°†ç¬¬ä¸€ç±»è™šæ‹ŸåŒ–æŠ€æœ¯ç§°ä¸ºè£¸é‡‘å±æ¶æ„ï¼Œå°†ç¬¬äºŒç±»è™šæ‹ŸåŒ–æŠ€æœ¯ç§°ä¸ºå¯„å±…æ¶æ„</p>
<div class="note warning"><ul>
<li>é€šå¸¸å¯ä»¥ä»å››ä¸ªæ–¹é¢æ¥æè¿°å¾®å†…æ ¸OSï¼šâ‘ å†…æ ¸è¶³å¤Ÿå°ï¼›â‘¡åŸºäºå®¢æˆ·/æœåŠ¡å™¨æ¨¡å¼ï¼›â‘¢åº”ç”¨â€œæœºåˆ¶ä¸ç­–ç•¥åˆ†ç¦»â€åŸç†ï¼›â‘£é‡‡ç”¨é¢å‘å¯¹è±¡æŠ€æœ¯ã€‚<br />
</li>
<li>å¸¸é©»å†…å­˜çš„åªæ˜¯æ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œå…¶ä»–éƒ¨åˆ†ä»…åœ¨éœ€è¦æ—¶æ‰è°ƒå…¥ã€‚<br />
</li>
<li>æ“ä½œç³»ç»Ÿçš„å¼•å¯¼ç¨‹åºä½äºç£ç›˜æ´»åŠ¨åˆ†åŒºçš„å¼•å¯¼æ‰‡åŒºä¸­ã€‚å¼•å¯¼ç¨‹åºåˆ†ä¸ºä¸¤ç§ï¼šä¸€ç§æ˜¯ä½äºROMä¸­çš„è‡ªä¸¾ç¨‹åº(BIOSçš„ç»„æˆéƒ¨åˆ†)ï¼Œç”¨äºå¯åŠ¨å…·ä½“çš„è®¾å¤‡ï¼›å¦ä¸€ç§æ˜¯ä½äºè£…æœ‰æ“ä½œç³»ç»Ÿç¡¬ç›˜çš„æ´»åŠ¨åˆ†åŒºçš„å¼•å¯¼æ‰‡åŒºä¸­çš„å¼•å¯¼ç¨‹åº(ç§°ä¸ºå¯åŠ¨ç®¡ç†å™¨)ï¼Œç”¨äºå¼•å¯¼æ“ä½œç³»ç»Ÿ<br />
</li>
<li>CPUæ¿€æ´»åï¼Œä¼šä»æœ€é¡¶ç«¯çš„åœ°å€FFFF0Hè·å¾—ç¬¬ä¸€æ¡æŒ‡ä»¤æ¥æ‰§è¡Œï¼Œè¿™ä¸ªåœ°å€ä»…ä»…åªæœ‰16å­—èŠ‚ï¼Œæ”¾ä¸ä¸‹ä¸€æ®µç¨‹åºï¼Œæ‰€ä»¥æ˜¯ä¸€æ¡JMPæŒ‡ä»¤ï¼Œä»¥è·³åˆ°æ›´ä½åœ°å€å»æ‰§è¡ŒBIOSç¨‹åºã€‚BIOSç¨‹åºåœ¨å†…å­˜æœ€å¼€å§‹çš„ç©ºé—´æ„å»ºä¸­æ–­å‘é‡è¡¨å’Œç›¸åº”æœåŠ¡ç¨‹åº,åœ¨åç»­POSTè¿‡ç¨‹ä¸­è¦ç”¨åˆ°ä¸­æ–­è°ƒç”¨ç­‰åŠŸèƒ½ã€‚ç„¶åè¿›è¡Œé€šç”µè‡ªæ£€POST (Power-on Self Test)ä»¥æ£€æµ‹ç¡¬ä»¶æ˜¯å¦æœ‰æ•…éšœã€‚å®ŒæˆPOSTåï¼ŒBIOSéœ€è¦åœ¨ç¡¬ç›˜ã€å…‰é©±æˆ–è½¯é©±ç­‰å­˜å‚¨è®¾å¤‡æœå¯»æ“ä½œç³»ç»Ÿå†…æ ¸çš„ä½ç½®ä»¥å¯åŠ¨æ“ä½œç³»ç»Ÿ<br />
</li>
<li>BIOSå°†æ§åˆ¶æƒäº¤ç»™æ’åœ¨é¦–ä½çš„å¯åŠ¨è®¾å¤‡åï¼ŒCPUå°†è¯¥è®¾å¤‡ä¸»å¼•å¯¼æ‰‡åŒºçš„å†…å®¹(ä¸»å¼•å¯¼è®°å½•MBR)åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œç„¶åç”±MBRæ£€æŸ¥åˆ†åŒºè¡¨ï¼ŒæŸ¥æ‰¾æ´»åŠ¨åˆ†åŒºï¼Œå¹¶å°†è¯¥åˆ†åŒºçš„å¼•å¯¼æ‰‡åŒºçš„å†…å®¹(åˆ†åŒºå¼•å¯¼è®°å½•PBR)åŠ è½½åˆ°å†…å­˜åŠ ä»¥æ‰§è¡Œ<br />
</li>
<li>æœºåˆ¶æ˜¯æŒ‡å®ç°æŸä¸€åŠŸèƒ½çš„å…·ä½“æ‰§è¡Œæœºæ„ã€‚ç­–ç•¥åˆ™æ˜¯åœ¨æœºåˆ¶çš„åŸºç¡€ä¸Šå€ŸåŠ©äºæŸäº›å‚æ•°å’Œç®—æ³•æ¥å®ç°è¯¥åŠŸèƒ½çš„ä¼˜åŒ–ï¼Œæˆ–è¾¾åˆ°ä¸åŒçš„åŠŸèƒ½ç›®æ ‡ã€‚åœ¨ä¼ ç»Ÿçš„OSä¸­ï¼Œå°†æœºåˆ¶æ”¾åœ¨OSå†…æ ¸çš„è¾ƒä½å±‚ä¸­ï¼ŒæŠŠç­–ç•¥æ”¾åœ¨å†…æ ¸çš„è¾ƒé«˜å±‚ä¸­ã€‚è€Œåœ¨å¾®å†…æ ¸OSä¸­ï¼Œé€šå¸¸å°†æœºåˆ¶æ”¾åœ¨OSçš„å¾®å†…æ ¸ä¸­ã€‚æ­£å› å¦‚æ­¤ï¼Œæ‰å¯ä»¥å°†å†…æ ¸åšå¾—å¾ˆå°<br />
</li>
<li>å¤„äºç”¨æˆ·æ€çš„ç”¨æˆ·ç¨‹åºä½¿ç”¨è®¿ç®¡æŒ‡ä»¤æ—¶ï¼Œç³»ç»Ÿæ ¹æ®è®¿ç®¡æŒ‡ä»¤çš„æ“ä½œæ•°æ‰§è¡Œè®¿ç®¡ä¸­æ–­å¤„ç†ç¨‹åºï¼Œè®¿ç®¡ä¸­æ–­å¤„ç†ç¨‹åºå°†æŒ‰ç³»ç»Ÿè°ƒç”¨çš„æ“ä½œæ•°å’Œå‚æ•°è½¬åˆ°ç›¸åº”çš„ä¾‹è¡Œå­ç¨‹åºã€‚å®ŒæˆæœåŠ¡åŠŸèƒ½åï¼Œé€€å‡ºä¸­æ–­ï¼Œè¿”å›åˆ°ç”¨æˆ·ç¨‹åºæ–­ç‚¹ç»§ç»­æ‰§è¡Œã€‚</li>
</ul>
</div>
<hr />
<h1 id="è¿›ç¨‹å’Œçº¿ç¨‹">è¿›ç¨‹å’Œçº¿ç¨‹</h1>
<h2 id="è¿›ç¨‹">è¿›ç¨‹</h2>
<p>ä¸ºäº†æ›´å¥½çš„æ§åˆ¶å¹¶å‘çš„å¤šä¸ªç¨‹åºï¼Œå¼•å…¥äº†è¿›ç¨‹(process)çš„æ¦‚å¿µ<br />
è¿›ç¨‹æ˜¯å…·æœ‰ç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºåœ¨ä¸€ä¸ªæ•°æ®é›†åˆä¸Šè¿è¡Œçš„è¿‡ç¨‹ï¼Œå®ƒæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½(<strong>ä½†ä¸æ˜¯æœ€å°çš„</strong>)ã€‚è¿›ç¨‹æ˜¯ä¸€ä¸ªåŠ¨æ€çš„ã€è¿‡ç¨‹æ€§çš„æ¦‚å¿µ,è€Œç¨‹åºåˆ™æ˜¯é™æ€çš„äºŒè¿›åˆ¶ç <br />
å¯¹æ¯ä¸ªè¿›ç¨‹å¿…é¡»ä¸ºä¹‹é…ç½®ä¸€ä¸ªä¸“é—¨çš„æ•°æ®ç»“æ„ï¼Œç§°ä¸ºè¿›ç¨‹æ§åˆ¶å—(Process Control Block, PCB),PCBæ˜¯å¯¹è¿›ç¨‹çš„å”¯ä¸€æ ‡å¿—</p>
<p>ç‰¹å¾ï¼š</p>
<ul>
<li>åŠ¨æ€æ€§<br />
</li>
<li>å¹¶å‘æ€§ï¼Œå¤šä¸ªè¿›ç¨‹å®ä½“åŒæ—¶å­˜åœ¨äºå†…å­˜ï¼Œåœ¨ä¸€æ®µæ—¶é—´å†…å¹¶å‘æ‰§è¡Œ<br />
</li>
<li>ç‹¬ç«‹æ€§ï¼Œè¿›ç¨‹å®ä½“æ˜¯ä¸€ä¸ªèƒ½ç‹¬ç«‹è¿è¡Œã€ç‹¬ç«‹è·å¾—èµ„æºå’Œç‹¬ç«‹æ¥å—è°ƒåº¦çš„åŸºæœ¬å•ä½<br />
</li>
<li>å¼‚æ­¥æ€§ï¼Œè¿›ç¨‹æ¨è¿›çš„é€Ÿåº¦ä¸å¯é¢„çŸ¥ï¼Œå› æ­¤éœ€è¦ç›¸åº”çš„åŒæ­¥ç­–ç•¥</li>
</ul>
<p>çŠ¶æ€(å‰ä¸‰ä¸ªæ˜¯åŸºæœ¬çŠ¶æ€)ï¼š</p>
<ol type="1">
<li>è¿è¡Œæ€ï¼Œåœ¨å¤„ç†æœºä¸Šè¿è¡Œ<br />
</li>
<li>å°±ç»ªæ€ï¼Œè¿›ç¨‹å¾—åˆ°äº†å¤„ç†æœºå¤–çš„æ‰€æœ‰èµ„æºï¼Œå°±ç»ªçš„è¿›ç¨‹ä¸€èˆ¬ç”¨å°±ç»ªé˜Ÿåˆ—ç®¡ç†<br />
</li>
<li>é˜»å¡æ€ï¼Œè¿›ç¨‹æ­£åœ¨ç­‰å¾…æŸä¸ªäº‹ä»¶æˆ–è€…èµ„æºï¼Œä¸€èˆ¬ä¼šç”¨å¤šä¸ªé˜»å¡é˜Ÿåˆ—ç®¡ç†è¿™æ ·çš„è¿›ç¨‹<br />
</li>
<li>åˆ›å»ºæ€ï¼Œè¿›ç¨‹æ­£åœ¨åˆ›å»ºï¼Œè¿˜æ²¡è¿›å…¥å°±ç»ªæ€ï¼Œæ¯”å¦‚æ²¡æœ‰è¶³å¤Ÿåˆ†é…çš„èµ„æºæ—¶åˆ›å»ºè¿›ç¨‹<br />
</li>
<li>ç»ˆæ­¢æ€ï¼Œç»“æŸè¿›ç¨‹æ—¶å…ˆè®¾ç½®æˆç»ˆæ­¢æ€ï¼Œéšåè¿›è¡Œèµ„æºé‡Šæ”¾ç­‰å·¥ä½œ</li>
</ol>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231206201905.png" /></p>
<h3 id="ç»„æˆ">ç»„æˆ</h3>
<ol type="1">
<li><p><strong>PCB</strong><br />
PCBæ˜¯è¿›ç¨‹å®ä½“çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—ï¼Œä¹Ÿè¢«ç”¨äºå­˜å‚¨è¿›ç¨‹çŠ¶æ€ï¼Œæ–­ç‚¹çš„æ¢å¤å’Œä¿å­˜<br />
<div class="note info"><p>å½“æ“ä½œç³»ç»Ÿæ¬²è°ƒåº¦æŸè¿›ç¨‹è¿è¡Œæ—¶ï¼Œè¦ä»è¯¥è¿›ç¨‹çš„PCBä¸­æŸ¥å‡ºå…¶ç°è¡ŒçŠ¶æ€åŠä¼˜å…ˆçº§ï¼›åœ¨è°ƒåº¦åˆ°æŸè¿›ç¨‹åï¼Œè¦æ ¹æ®å…¶PCBä¸­æ‰€ä¿å­˜çš„å¤„ç†æœºçŠ¶æ€ä¿¡æ¯ï¼Œè®¾ç½®è¯¥è¿›ç¨‹æ¢å¤è¿è¡Œçš„ç°åœºï¼Œå¹¶æ ¹æ®å…¶PCBä¸­çš„ç¨‹åºå’Œæ•°æ®çš„å†…å­˜å§‹å€ï¼Œæ‰¾åˆ°å…¶ç¨‹åºå’Œæ•°æ®ï¼›è¿›ç¨‹åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå½“éœ€è¦å’Œä¸ä¹‹åˆä½œçš„è¿›ç¨‹å®ç°åŒæ­¥ã€é€šä¿¡æˆ–è®¿é—®æ–‡ä»¶æ—¶ï¼Œä¹Ÿéœ€è¦è®¿é—®PCBï¼›å½“è¿›ç¨‹ç”±äºæŸç§åŸå› è€Œæš‚åœè¿è¡Œæ—¶ï¼Œåˆéœ€å°†å…¶æ–­ç‚¹çš„å¤„ç†æœºç¯å¢ƒä¿å­˜åœ¨PCBä¸­ã€‚åœ¨è¿›ç¨‹çš„æ•´ä¸ªç”Ÿå‘½æœŸä¸­ï¼Œç³»ç»Ÿé€šè¿‡PCBå¯¹è¿›ç¨‹è¿›è¡Œæ§åˆ¶</p>
</div><br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231206202831.png" /><br />
PCBçš„ç»„æˆå¦‚å›¾ï¼Œå…¶ä¸­å¯„å­˜å™¨å€¼ä¸€èˆ¬ç”¨äºåˆ‡æ¢è¿›ç¨‹æ—¶ä¿æŠ¤ç°åœºï¼Œä»¥å¤‡ä¹‹åä»æ–­ç‚¹æ‰§è¡Œï¼Œè¿™äº›ä¿¡æ¯ä¹Ÿè¢«ç§°ä¸Šä¸‹æ–‡ã€‚<br />
å¯¹è¿›ç¨‹çš„ç®¡ç†ä¸€èˆ¬é€šè¿‡å¯¹PCBè¿›è¡Œç»„ç»‡æ¥è¿›è¡Œï¼Œä¸€èˆ¬å¯ä»¥åˆ†ä¸ºé“¾è¡¨å’Œç´¢å¼•ä¸¤ç§ç»„ç»‡æ–¹å¼ï¼Œä¸åŒè¿›ç¨‹çŠ¶æ€å¯¹åº”ä¸åŒç´¢å¼•æˆ–é˜Ÿåˆ—(é“¾å¼é˜Ÿåˆ—)</p></li>
<li><p><strong>ç¨‹åºæ®µ</strong><br />
ç¨‹åºæ®µå°±æ˜¯èƒ½è¢«è¿›ç¨‹è°ƒåº¦ç¨‹åºè°ƒåº¦åˆ°CPUæ‰§è¡Œçš„ç¨‹åºä»£ç æ®µã€‚æ³¨æ„ï¼Œç¨‹åºå¯è¢«å¤šä¸ªè¿›ç¨‹å…±äº«ï¼Œå³å¤šä¸ªè¿›ç¨‹å¯ä»¥è¿è¡ŒåŒä¸€ä¸ªç¨‹åºã€‚<br />
è¿›ç¨‹æ§åˆ¶çš„ä¸»è¦åŠŸèƒ½æ˜¯å¯¹ç³»ç»Ÿä¸­çš„æ‰€æœ‰è¿›ç¨‹å®æ–½æœ‰æ•ˆçš„ç®¡ç†ï¼Œå®ƒå…·æœ‰åˆ›å»ºæ–°è¿›ç¨‹ã€æ’¤é”€å·²æœ‰è¿›ç¨‹ã€å®ç°è¿›ç¨‹çŠ¶æ€è½¬æ¢ç­‰åŠŸèƒ½ã€‚åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œä¸€èˆ¬æŠŠè¿›ç¨‹æ§åˆ¶ç”¨çš„ç¨‹åºæ®µç§°ä¸º<strong>åŸè¯­</strong></p></li>
<li><p><strong>æ•°æ®æ®µ</strong><br />
ä¸€ä¸ªè¿›ç¨‹çš„æ•°æ®æ®µï¼Œå¯ä»¥æ˜¯è¿›ç¨‹å¯¹åº”çš„ç¨‹åºåŠ å·¥å¤„ç†çš„åŸå§‹æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ˜¯ç¨‹åºæ‰§è¡Œæ—¶äº§ç”Ÿçš„ä¸­é—´æˆ–æœ€ç»ˆç»“æœã€‚</p></li>
</ol>
<h3 id="æ§åˆ¶">æ§åˆ¶</h3>
<ol type="1">
<li><p><strong>åˆ›å»º</strong><br />
å­è¿›ç¨‹å¯ä»¥ç»§æ‰¿çˆ¶è¿›ç¨‹æ‰€æ‹¥æœ‰çš„èµ„æºã€‚å½“å­è¿›ç¨‹è¢«æ’¤é”€æ—¶ï¼Œåº”å°†å…¶ä»çˆ¶è¿›ç¨‹é‚£é‡Œè·å¾—çš„èµ„æºå½’è¿˜ç»™çˆ¶è¿›ç¨‹ã€‚æ­¤å¤–ï¼Œåœ¨æ’¤é”€çˆ¶è¿›ç¨‹æ—¶ï¼Œé€šå¸¸ä¹Ÿä¼šåŒæ—¶æ’¤é”€å…¶æ‰€æœ‰çš„å­è¿›ç¨‹ã€‚<br />
æ“ä½œç³»ç»Ÿåˆ›å»ºä¸€ä¸ªæ–°è¿›ç¨‹çš„è¿‡ç¨‹å¦‚ä¸‹(åˆ›å»ºåŸè¯­)ï¼š</p>
<ol type="1">
<li>ä¸ºæ–°è¿›ç¨‹åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„è¿›ç¨‹æ ‡è¯†å·ï¼Œå¹¶ç”³è¯·ä¸€ä¸ªç©ºç™½PCB (PCBæ˜¯æœ‰é™çš„)ã€‚è‹¥PCBç”³è¯·å¤±è´¥ï¼Œåˆ™åˆ›å»ºå¤±è´¥ã€‚<br />
</li>
<li>ä¸ºè¿›ç¨‹åˆ†é…å…¶è¿è¡Œæ‰€éœ€çš„èµ„æºï¼Œå¦‚å†…å­˜ã€æ–‡ä»¶ã€I/Oè®¾å¤‡å’ŒCPUæ—¶é—´ç­‰(åœ¨PCBä¸­ä½“ç°)ã€‚è¿™äº›èµ„æºæˆ–ä»æ“ä½œç³»ç»Ÿè·å¾—ï¼Œæˆ–ä»…ä»å…¶çˆ¶è¿›ç¨‹è·å¾—ã€‚å¦‚æœèµ„æºä¸è¶³(å¦‚å†…å­˜)ï¼Œåˆ™å¹¶ä¸æ˜¯åˆ›å»ºå¤±è´¥ï¼Œè€Œæ˜¯å¤„äºåˆ›å»ºæ€ï¼Œç­‰å¾…å†…å­˜èµ„æºã€‚<br />
</li>
<li>åˆå§‹åŒ–PCB,ä¸»è¦åŒ…æ‹¬åˆå§‹åŒ–æ ‡å¿—ä¿¡æ¯ã€åˆå§‹åŒ–å¤„ç†æœºçŠ¶æ€ä¿¡æ¯å’Œåˆå§‹åŒ–å¤„ç†æœºæ§åˆ¶ä¿¡æ¯ï¼Œä»¥åŠè®¾ç½®è¿›ç¨‹çš„ä¼˜å…ˆçº§ç­‰ã€‚<br />
</li>
<li>è‹¥è¿›ç¨‹å°±ç»ªé˜Ÿåˆ—èƒ½å¤Ÿæ¥çº³æ–°è¿›ç¨‹ï¼Œåˆ™å°†æ–°è¿›ç¨‹æ’å…¥å°±ç»ªé˜Ÿåˆ—ï¼Œç­‰å¾…è¢«è°ƒåº¦è¿è¡Œ</li>
</ol></li>
<li><p><strong>ç»ˆæ­¢</strong><br />
å¼•èµ·è¿›ç¨‹ç»ˆæ­¢çš„äº‹ä»¶ä¸»è¦æœ‰ï¼š</p>
<ul>
<li>æ­£å¸¸ç»“æŸï¼Œè¿›ç¨‹çš„ä»»åŠ¡å·±å®Œæˆå¹¶å‡†å¤‡é€€å‡ºè¿è¡Œã€‚<br />
</li>
<li>å¼‚å¸¸ç»“æŸï¼Œè¿›ç¨‹åœ¨è¿è¡Œæ—¶ï¼Œå‘ç”Ÿäº†æŸç§å¼‚å¸¸äº‹ä»¶ï¼Œå¦‚å­˜å‚¨åŒºè¶Šç•Œã€I/Oæ•…éšœç­‰ã€‚<br />
</li>
<li>å¤–ç•Œå¹²é¢„ï¼ŒæŒ‡è¿›ç¨‹åº”å¤–ç•Œçš„è¯·æ±‚è€Œç»ˆæ­¢è¿è¡Œï¼Œå¦‚æ“ä½œå‘˜æˆ–æ“ä½œç³»ç»Ÿå¹²é¢„ã€çˆ¶è¿›ç¨‹è¯·æ±‚å’Œçˆ¶è¿›ç¨‹ç»ˆæ­¢</li>
</ul></li>
<li><p><strong>é˜»å¡å’Œå”¤é†’</strong><br />
æ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹ï¼Œç”±äºæœŸå¾…çš„æŸäº›äº‹ä»¶æœªå‘ç”Ÿï¼Œå¦‚è¯·æ±‚ç³»ç»Ÿèµ„æºå¤±è´¥ç­‰ï¼Œè¿›ç¨‹ä¾¿é€šè¿‡è°ƒç”¨é˜»å¡åŸè¯­(Block),ä½¿è‡ªå·±ç”±è¿è¡Œæ€å˜ä¸ºé˜»å¡æ€ã€‚</p></li>
</ol>
<p>é˜»å¡åŸè¯­çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol type="1">
<li>æ‰¾åˆ°å°†è¦è¢«é˜»å¡è¿›ç¨‹çš„æ ‡è¯†å·å¯¹åº”çš„PCB<br />
</li>
<li>è‹¥è¯¥è¿›ç¨‹ä¸ºè¿è¡Œæ€ï¼Œåˆ™ä¿æŠ¤å…¶ç°åœºï¼Œå°†å…¶çŠ¶æ€è½¬ä¸ºé˜»å¡æ€ï¼Œåœæ­¢è¿è¡Œã€‚<br />
</li>
<li>æŠŠè¯¥PCBæ’å…¥ç›¸åº”äº‹ä»¶çš„ç­‰å¾…é˜Ÿåˆ—ï¼Œå°†å¤„ç†æœºèµ„æºè°ƒåº¦ç»™å…¶ä»–å°±ç»ªè¿›ç¨‹</li>
</ol>
<p>å½“è¢«é˜»å¡è¿›ç¨‹æ‰€æœŸå¾…çš„äº‹ä»¶å‡ºç°æ—¶ï¼Œå¦‚å®ƒæ‰€æœŸå¾…çš„I/Oæ“ä½œå·²å®Œæˆæˆ–å…¶æ‰€æœŸå¾…çš„æ•°æ®å·²åˆ°è¾¾ï¼Œç”±æœ‰å…³è¿›ç¨‹è°ƒç”¨å”¤é†’åŸè¯­(Wakeup),å°†ç­‰å¾…è¯¥äº‹ä»¶çš„è¿›ç¨‹å”¤é†’ã€‚</p>
<p>å”¤é†’åŸè¯­çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol type="1">
<li>åœ¨è¯¥äº‹ä»¶çš„ç­‰å¾…é˜Ÿåˆ—ä¸­æ‰¾åˆ°ç›¸åº”è¿›ç¨‹çš„PCB<br />
</li>
<li>å°†å…¶ä»ç­‰å¾…é˜Ÿåˆ—ä¸­ç§»å‡ºï¼Œå¹¶ç½®å…¶çŠ¶æ€ä¸ºå°±ç»ªæ€ã€‚<br />
</li>
<li>æŠŠè¯¥PCBæ’å…¥å°±ç»ªé˜Ÿåˆ—ï¼Œç­‰å¾…è°ƒåº¦ç¨‹åºè°ƒåº¦ã€‚</li>
</ol>
<div class="note info"><p>å°±åƒc++çš„newå’Œdeleteä¸€æ ·ï¼Œé˜»å¡å’Œå”¤é†’å¿…é¡»æˆå¯¹è¿›è¡Œï¼Œå¦åˆ™å°±ä¼šå‡ºç°"ç¡ç¾äºº"</p>
</div>
<h3 id="é€šä¿¡">é€šä¿¡</h3>
<p>è¿›ç¨‹é€šä¿¡æ˜¯æŒ‡è¿›ç¨‹ä¹‹é—´çš„ä¿¡æ¯äº¤æ¢</p>
<ol type="1">
<li><p><strong>å…±äº«å­˜å‚¨</strong><br />
åœ¨é€šä¿¡çš„è¿›ç¨‹ä¹‹é—´å­˜åœ¨ä¸€å—å¯ç›´æ¥è®¿é—®çš„å…±äº«ç©ºé—´ï¼Œé€šè¿‡å¯¹è¿™ç‰‡å…±äº«ç©ºé—´è¿›è¡Œå†™/è¯»æ“ä½œå®ç°è¿›ç¨‹ä¹‹é—´çš„ä¿¡æ¯äº¤æ¢,æ­¤æ—¶éœ€è¦PVç­‰æœºåˆ¶æ¥è¿›è¡ŒåŒæ­¥ã€‚<br />
å…±äº«å­˜å‚¨åˆåˆ†ä¸ºä¸¤ç§ï¼š</p>
<ul>
<li>ä½çº§æ–¹å¼çš„å…±äº«æ˜¯åŸºäºæ•°æ®ç»“æ„çš„å…±äº«<br />
</li>
<li>é«˜çº§æ–¹å¼çš„å…±äº«åˆ™æ˜¯åŸºäºå­˜å‚¨åŒºçš„å…±äº«<br />
<div class="note info"><p>è¿›ç¨‹è¿è¡ŒæœŸé—´ä¸€èˆ¬ä¸èƒ½è®¿é—®å…¶ä»–è¿›ç¨‹çš„ç©ºé—´ï¼Œæƒ³è®©ä¸¤ä¸ªè¿›ç¨‹å…±äº«ç©ºé—´ï¼Œå¿…é¡»é€šè¿‡ç‰¹æ®Šçš„ç³»ç»Ÿè°ƒç”¨å®ç°ï¼Œè€Œè¿›ç¨‹å†…çš„çº¿ç¨‹æ˜¯è‡ªç„¶å…±äº«è¿›ç¨‹ç©ºé—´çš„</p>
</div></li>
</ul></li>
<li><p><strong>æ¶ˆæ¯ä¼ é€’</strong><br />
åœ¨æ¶ˆæ¯ä¼ é€’ç³»ç»Ÿä¸­ï¼Œè¿›ç¨‹é—´çš„æ•°æ®äº¤æ¢ä»¥æ ¼å¼åŒ–çš„æ¶ˆæ¯(Message)ä¸ºå•ä½ã€‚è¿›ç¨‹é€šè¿‡ç³»ç»Ÿæä¾›çš„å‘é€æ¶ˆæ¯å’Œæ¥æ”¶æ¶ˆæ¯ä¸¤ä¸ªåŸè¯­è¿›è¡Œæ•°æ®äº¤æ¢ã€‚ è¿™ç§æ–¹å¼å…¬å¼€é€æ˜ï¼Œç®€åŒ–äº†ç¨‹åºçš„è®¾è®¡ï¼Œå› æ­¤åº”ç”¨æ¯”è¾ƒå¹¿æ³›<br />
åœ¨å¾®å†…æ ¸æ“ä½œç³»ç»Ÿä¸­ï¼Œå¾®å†…æ ¸ä¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡å°±é‡‡ç”¨äº†æ¶ˆæ¯ä¼ é€’æœºåˆ¶ã€‚ç”±äºè¯¥æœºåˆ¶èƒ½å¾ˆå¥½åœ°æ”¯æŒå¤šå¤„ç†æœºç³»ç»Ÿã€åˆ†å¸ƒå¼ç³»ç»Ÿå’Œè®¡ç®—æœºç½‘ç»œï¼Œå› æ­¤ä¹Ÿæˆä¸ºè¿™äº›é¢†åŸŸæœ€ä¸»è¦çš„é€šä¿¡å·¥å…·ã€‚<br />
åˆ†ä¸ºï¼š</p>
<ol type="1">
<li>ç›´æ¥é€šä¿¡æ–¹å¼ã€‚å‘é€è¿›ç¨‹ç›´æ¥æŠŠæ¶ˆæ¯å‘é€ç»™æ¥æ”¶è¿›ç¨‹ï¼Œå¹¶å°†å®ƒæŒ‚åœ¨æ¥æ”¶è¿›ç¨‹çš„æ¶ˆæ¯ç¼“å†²é˜Ÿåˆ—ä¸Šï¼Œæ¥æ”¶è¿›ç¨‹ä»æ¶ˆæ¯ç¼“å†²é˜Ÿåˆ—ä¸­å–å¾—æ¶ˆæ¯<br />
</li>
<li>é—´æ¥é€šä¿¡æ–¹å¼ã€‚å‘é€è¿›ç¨‹æŠŠæ¶ˆæ¯å‘é€åˆ°æŸä¸ªä¸­é—´å®ä½“ï¼Œæ¥æ”¶è¿›ç¨‹ä»ä¸­é—´å®ä½“å–å¾—æ¶ˆæ¯ã€‚è¿™ç§ä¸­é—´å®ä½“ä¸€èˆ¬ç§°ä¸ºä¿¡ç®±ã€‚è¯¥é€šä¿¡æ–¹å¼å¹¿æ³›åº”ç”¨äºè®¡ç®—æœºç½‘ç»œä¸­ã€‚</li>
</ol></li>
<li><p><strong>ç®¡é“é€šä¿¡</strong><br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231206213642.png" /><br />
ç®¡é“é€šä¿¡å…è®¸ä¸¤ä¸ªè¿›ç¨‹æŒ‰ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ–¹å¼è¿›è¡Œé€šä¿¡,ç”Ÿäº§è€…å‘ç®¡é“çš„ä¸€ç«¯å†™ï¼Œæ¶ˆè´¹è€…ä»ç®¡é“çš„å¦ä¸€ç«¯è¯»ã€‚<br />
æ•°æ®åœ¨ç®¡é“ä¸­æ˜¯å…ˆè¿›å…ˆå‡ºçš„ã€‚åªè¦ç®¡é“éç©ºï¼Œè¿›ç¨‹å°±èƒ½ä»ç®¡é“ä¸­è¯»å‡ºæ•°æ®ï¼Œè‹¥æ•°æ®è¢«è¯»ç©ºï¼Œåˆ™è¯»è¿›ç¨‹é˜»å¡ï¼Œç›´åˆ°å†™è¿›ç¨‹å¾€ç®¡é“ä¸­å†™å…¥æ–°çš„æ•°æ®ï¼Œå†å°†è¯»è¿›ç¨‹å”¤é†’ã€‚<br />
åªè¦ç®¡é“ä¸æ»¡ï¼Œå†™è¿›ç¨‹å°±èƒ½å¾€ç®¡é“ä¸­å†™å…¥æ•°æ®ï¼Œè‹¥ç®¡é“å†™æ»¡ï¼Œåˆ™å†™è¿›ç¨‹é˜»å¡ï¼Œç›´åˆ°è¯»è¿›ç¨‹è¯»å‡ºæ•°æ®ï¼Œå†å°†å†™è¿›ç¨‹å”¤é†’ã€‚<br />
ä¸ºäº†åè°ƒåŒæ–¹çš„é€šä¿¡ï¼Œç®¡é“æœºåˆ¶å¿…é¡»æä¾›ä¸‰æ–¹é¢çš„åè°ƒèƒ½åŠ›ï¼šäº’æ–¥ã€åŒæ­¥å’Œç¡®å®šå¯¹æ–¹çš„å­˜åœ¨ã€‚<br />
<div class="note info"><p>å®ä¾‹ï¼š<br />
åœ¨linuxä¸­ï¼Œç®¡é“æ˜¯ä¸€ç§æ–‡ä»¶ï¼Œå‡†ç¡®çš„è¯´æ˜¯ä¸€ä¸ªå›ºå®šå¤§å°(4KB)çš„ç¼“å†²åŒºï¼Œå†™æ»¡æ—¶è‡ªåŠ¨é˜»å¡ï¼Œç›´åˆ°éƒ¨åˆ†æ•°æ®è¢«è¯»å–ï¼Œè¢«è¯»ç©ºæ—¶ï¼Œåˆ™å¯¹è¯»æ“ä½œé˜»å¡ï¼Œç›´åˆ°æœ‰æ–°çš„å†…å®¹å†™å…¥</p>
</div><br />
ç®¡é“åªèƒ½ç”±åˆ›å»ºè¿›ç¨‹æ‰€è®¿é—®ï¼Œå½“çˆ¶è¿›ç¨‹åˆ›å»ºä¸€ä¸ªç®¡é“åï¼Œç”±äºç®¡é“æ˜¯ä¸€ç§ç‰¹æ®Šæ–‡ä»¶ï¼Œå­è¿›ç¨‹ä¼šç»§æ‰¿çˆ¶è¿›ç¨‹çš„æ‰“å¼€æ–‡ä»¶ï¼Œå› æ­¤å­è¿›ç¨‹ä¹Ÿç»§æ‰¿çˆ¶è¿›ç¨‹çš„ç®¡é“ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥ä¸çˆ¶è¿›ç¨‹è¿›è¡Œé€šä¿¡</p></li>
</ol>
<h2 id="çº¿ç¨‹å’Œå¤šçº¿ç¨‹æ¨¡å‹">çº¿ç¨‹å’Œå¤šçº¿ç¨‹æ¨¡å‹</h2>
<h3 id="æ¦‚å¿µ">æ¦‚å¿µ</h3>
<p>çº¿ç¨‹æœ€ç›´æ¥çš„ç†è§£å°±æ˜¯â€œè½»é‡çº§è¿›ç¨‹â€ï¼Œå®ƒæ˜¯ä¸€ä¸ªåŸºæœ¬çš„CPUæ‰§è¡Œå•å…ƒï¼Œä¹Ÿæ˜¯ç¨‹åºæ‰§è¡Œæµçš„æœ€å°å•å…ƒï¼Œç”±çº¿ç¨‹IDã€ç¨‹åºè®¡æ•°å™¨ã€å¯„å­˜å™¨é›†åˆå’Œå †æ ˆç»„æˆã€‚<br />
çº¿ç¨‹æ˜¯è¿›ç¨‹ä¸­çš„ä¸€ä¸ªå®ä½“ï¼Œæ˜¯è¢«ç³»ç»Ÿç‹¬ç«‹è°ƒåº¦å’Œåˆ†æ´¾çš„åŸºæœ¬å•ä½ï¼Œçº¿ç¨‹è‡ªå·±ä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æºï¼Œä½†å®ƒå¯ä¸åŒå±ä¸€ä¸ªè¿›ç¨‹çš„å…¶ä»–çº¿ç¨‹å…±äº«è¿›ç¨‹æ‰€æ‹¥æœ‰çš„å…¨éƒ¨èµ„æºã€‚<br />
ä¸€ä¸ªçº¿ç¨‹å¯ä»¥åˆ›å»ºå’Œæ’¤é”€å¦ä¸€ä¸ªçº¿ç¨‹ï¼ŒåŒä¸€è¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹ä¹‹é—´å¯ä»¥å¹¶å‘æ‰§è¡Œã€‚ç”±äºçº¿ç¨‹ä¹‹é—´çš„ç›¸äº’åˆ¶çº¦ï¼Œè‡´ä½¿çº¿ç¨‹åœ¨è¿è¡Œä¸­å‘ˆç°å‡ºé—´æ–­æ€§ã€‚<br />
<div class="note info"><p>çº¿ç¨‹ä¹Ÿæœ‰å°±ç»ªã€é˜»å¡å’Œè¿è¡Œä¸‰ç§åŸºæœ¬çŠ¶æ€<br />
è¿›ç¨‹æ˜¯é™¤CPUå¤–çš„ç³»ç»Ÿèµ„æºçš„åˆ†é…å•å…ƒï¼Œè€Œçº¿ç¨‹åˆ™ä½œä¸ºå¤„ç†æœºçš„åˆ†é…å•å…ƒã€‚</p>
</div></p>
<p><strong>å’Œè¿›ç¨‹çš„æ¯”è¾ƒ</strong>ï¼š</p>
<ol type="1">
<li>è°ƒåº¦ï¼Œå¼•å…¥çº¿ç¨‹åï¼Œçº¿ç¨‹æ‰æ˜¯ç‹¬ç«‹è°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œè€Œçº¿ç¨‹åˆ‡æ¢çš„ä»£ä»·è¿œä½äºè¿›ç¨‹,åŒä¸€è¿›ç¨‹çš„çº¿ç¨‹å¯ä»¥éšæ„åˆ‡æ¢ï¼Œè€Œé¿å…è¾ƒå¤§çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€<br />
</li>
<li>å¹¶å‘ï¼Œå¼•å…¥çº¿ç¨‹åï¼Œä¸€ä¸ªè¿›ç¨‹çš„çº¿ç¨‹ï¼Œä»¥åŠä¸åŒè¿›ç¨‹çš„çº¿ç¨‹éƒ½å¯ä»¥å¹¶å‘æ‰§è¡Œï¼Œæé«˜äº†ç³»ç»Ÿçš„èµ„æºåˆ©ç”¨ç‡å’Œååé‡<br />
</li>
<li>æ‹¥æœ‰èµ„æºï¼Œè¿›ç¨‹æ˜¯æ‹¥æœ‰ç³»ç»Ÿèµ„æºçš„æœ€å°å•ä½ï¼Œçº¿ç¨‹é™¤äº†æå°‘å¿…è¦èµ„æºä¸å æœ‰èµ„æºï¼ŒåŒä¸€è¿›ç¨‹çš„çº¿ç¨‹æœ‰ç›¸åŒçš„åœ°å€ç©ºé—´ï¼Œå¯ä»¥å…±äº«è¯¥è¿›ç¨‹èµ„æº<br />
</li>
<li>ç‹¬ç«‹æ€§ï¼Œè¿›ç¨‹ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œé™¤äº†å…±äº«èµ„æºæ— æ³•äº’ç›¸è®¿é—®ï¼Œçº¿ç¨‹åˆ™å¯ä»¥å…±äº«èµ„æºå’Œåœ°å€ç©ºé—´<br />
</li>
<li>ç³»ç»Ÿå¼€é”€ï¼Œç”±äºé¿å…åˆ›å»ºPCBï¼Œåˆ†é…èµ„æºï¼Œåˆ‡æ¢ä¸Šä¸‹æ–‡ï¼Œé€šä¿¡ç­‰å¼€é”€,çº¿ç¨‹å¼€é”€æ›´å°<br />
</li>
<li>æ”¯æŒå¤šå¤„ç†å™¨ç³»ç»Ÿï¼Œä¸€ä¸ªè¿›ç¨‹çš„ä¸åŒçº¿ç¨‹å¯ä»¥ç”¨å¤šä¸ªå¤„ç†å™¨åŒæ—¶è¿ç®—</li>
</ol>
<h3 id="å±æ€§å’ŒçŠ¶æ€">å±æ€§å’ŒçŠ¶æ€</h3>
<ol type="1">
<li>æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ç¬¦å’Œä¸€ä¸ªçº¿ç¨‹æ§åˆ¶å—ï¼Œçº¿ç¨‹æ§åˆ¶å—è®°å½•äº†çº¿ç¨‹æ‰§è¡Œçš„å¯„å­˜å™¨å’Œæ ˆç­‰ç°åœºçŠ¶æ€ã€‚<br />
</li>
<li>ä¸åŒçš„çº¿ç¨‹å¯ä»¥æ‰§è¡Œç›¸åŒçš„ç¨‹åºï¼Œå³åŒä¸€ä¸ªæœåŠ¡ç¨‹åºè¢«ä¸åŒçš„ç”¨æˆ·è°ƒç”¨æ—¶ï¼Œæ“ä½œç³»ç»ŸæŠŠå®ƒä»¬åˆ›å»ºæˆä¸åŒçš„çº¿ç¨‹ã€‚<br />
</li>
<li>åŒä¸€è¿›ç¨‹ä¸­çš„å„ä¸ªçº¿ç¨‹å…±äº«è¯¥è¿›ç¨‹æ‰€æ‹¥æœ‰çš„èµ„æºã€‚<br />
</li>
<li>çº¿ç¨‹æ˜¯å¤„ç†æœºçš„ç‹¬ç«‹è°ƒåº¦å•ä½,å¯ä»¥å¹¶å‘æ‰§è¡Œã€‚åœ¨å•CPUçš„è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œå„çº¿ç¨‹äº¤æ›¿åœ°å ç”¨CPUï¼›åœ¨å¤šCPUçš„è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œå„çº¿ç¨‹å¯åŒæ—¶å ç”¨ä¸åŒçš„CPU,è‹¥å„ä¸ªCPUåŒæ—¶ä¸ºä¸€ä¸ªè¿›ç¨‹å†…çš„å„çº¿ç¨‹æœåŠ¡ï¼Œåˆ™å¯ç¼©çŸ­è¿›ç¨‹çš„å¤„ç†æ—¶é—´ã€‚<br />
</li>
<li>ä¸€ä¸ªçº¿ç¨‹è¢«åˆ›å»ºåï¼Œä¾¿å¼€å§‹äº†å®ƒçš„ç”Ÿå‘½å‘¨æœŸï¼Œç›´è‡³ç»ˆæ­¢ã€‚çº¿ç¨‹åœ¨ç”Ÿå‘½å‘¨æœŸå†…ä¼šç»å†é˜»å¡æ€ã€å°±ç»ªæ€å’Œè¿è¡Œæ€ç­‰å„ç§çŠ¶æ€å˜åŒ–ã€‚</li>
</ol>
<ul>
<li>æ‰§è¡ŒçŠ¶æ€ï¼šçº¿ç¨‹å·±è·å¾—å¤„ç†æœºè€Œæ­£åœ¨è¿è¡Œã€‚<br />
</li>
<li>å°±ç»ªçŠ¶æ€ï¼šçº¿ç¨‹å·²å…·å¤‡å„ç§æ‰§è¡Œæ¡ä»¶ï¼Œåªéœ€å†è·å¾—CPUä¾¿å¯ç«‹å³æ‰§è¡Œã€‚<br />
</li>
<li>é˜»å¡çŠ¶æ€ï¼šçº¿ç¨‹åœ¨æ‰§è¡Œä¸­å› æŸäº‹ä»¶å—é˜»è€Œå¤„äºæš‚åœçŠ¶æ€</li>
</ul>
<div class="note info"><p><strong>çº¿ç¨‹çš„ç»„ç»‡ä¸æ§åˆ¶</strong></p>
<ul>
<li>çº¿ç¨‹æ§åˆ¶å—é€šå¸¸åŒ…æ‹¬ï¼šâ‘ çº¿ç¨‹æ ‡è¯†ç¬¦ï¼›â‘¡ä¸€ç»„å¯„å­˜å™¨ï¼ŒåŒ…æ‹¬ç¨‹åºè®¡æ•°å™¨ã€çŠ¶æ€å¯„å­˜å™¨å’Œé€šç”¨å¯„å­˜å™¨ï¼›â‘¢çº¿ç¨‹è¿è¡ŒçŠ¶æ€ï¼Œç”¨äºæè¿°çº¿ç¨‹æ­£å¤„äºä½•ç§çŠ¶æ€ï¼›â‘£ä¼˜å…ˆçº§ï¼›â‘¤çº¿ç¨‹ä¸“æœ‰å­˜å‚¨åŒºï¼Œçº¿ç¨‹åˆ‡æ¢æ—¶ç”¨äºä¿å­˜ç°åœºç­‰ï¼›â‘¥å †æ ˆæŒ‡é’ˆï¼Œç”¨äºè¿‡ç¨‹è°ƒç”¨æ—¶ä¿å­˜å±€éƒ¨å˜é‡åŠè¿”å›åœ°å€ç­‰ã€‚<br />
</li>
<li>å„ä¸ªçº¿ç¨‹éƒ½å¯ä»¥è®¿é—®è¿›ç¨‹åœ°å€ç©ºé—´çš„æ¯ä¸ªå•å…ƒï¼Œæ‰€ä»¥ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è¯»ã€å†™æˆ–ç”šè‡³æ¸…é™¤å¦ä¸€ä¸ªçº¿ç¨‹çš„å †æ ˆã€‚<br />
</li>
<li>ç”¨æˆ·ç¨‹åºå¯åŠ¨æ—¶ï¼Œé€šå¸¸ä»…æœ‰ä¸€ä¸ªç§°ä¸ºâ€œåˆå§‹åŒ–çº¿ç¨‹â€çš„çº¿ç¨‹æ­£åœ¨æ‰§è¡Œï¼Œå…¶ä¸»è¦åŠŸèƒ½æ˜¯ç”¨äºåˆ›å»ºæ–°çº¿ç¨‹ã€‚åœ¨åˆ›å»ºæ–°çº¿ç¨‹æ—¶ï¼Œéœ€è¦åˆ©ç”¨ä¸€ä¸ªçº¿ç¨‹åˆ›å»ºå‡½æ•°ï¼Œå¹¶æä¾›ç›¸åº”çš„å‚æ•°ï¼Œå¦‚æŒ‡å‘çº¿ç¨‹ä¸»ç¨‹åºçš„å…¥å£æŒ‡é’ˆã€å †æ ˆçš„å¤§å°ã€çº¿ç¨‹ä¼˜å…ˆçº§ç­‰ã€‚çº¿ç¨‹åˆ›å»ºå‡½æ•°æ‰§è¡Œå®Œåï¼Œå°†è¿”å›ä¸€ä¸ªçº¿ç¨‹æ ‡è¯†ç¬¦<br />
</li>
<li>é€šå¸¸ï¼Œçº¿ç¨‹è¢«ç»ˆæ­¢åå¹¶ä¸ç«‹å³é‡Šæ”¾å®ƒæ‰€å æœ‰çš„èµ„æºï¼Œåªæœ‰å½“è¿›ç¨‹ä¸­çš„å…¶ä»–çº¿ç¨‹æ‰§è¡Œäº†åˆ†ç¦»å‡½æ•°åï¼Œè¢«ç»ˆæ­¢çº¿ç¨‹æ‰ä¸èµ„æºåˆ†ç¦»ï¼Œæ­¤æ—¶çš„èµ„æºæ‰èƒ½è¢«å…¶ä»–çº¿ç¨‹åˆ©ç”¨ã€‚è¢«ç»ˆæ­¢ä½†å°šæœªé‡Šæ”¾èµ„æºçš„çº¿ç¨‹ä»å¯è¢«å…¶ä»–çº¿ç¨‹è°ƒç”¨ï¼Œä»¥ä½¿è¢«ç»ˆæ­¢çº¿ç¨‹é‡æ–°æ¢å¤è¿è¡Œ</li>
</ul>
</div>
<p><strong>åˆ†ç±»</strong></p>
<ol type="1">
<li><p>ç”¨æˆ·çº§çº¿ç¨‹(ULT)<br />
ç”¨æˆ·çº§çº¿ç¨‹çš„æ‰€æœ‰ç®¡ç†éƒ½åœ¨ç”¨æˆ·ç©ºé—´è¿›è¡Œï¼Œå’Œå†…æ ¸æ— å…³ï¼Œé€šå¸¸åº”ç”¨ä»å•çº¿ç¨‹å¼€å§‹ï¼Œè¿è¡Œä¸­å¯ä»¥éšæ„åˆ›å»ºåˆ é™¤çº¿ç¨‹<br />
ä¼˜ç‚¹ï¼š</p>
<ol type="1">
<li>ä¸éœ€è¦åˆ‡æ¢åˆ°å†…æ ¸ç©ºé—´ï¼Œå‡å°‘å¼€é”€<br />
</li>
<li>è°ƒåº¦ç®—æ³•å¯ä»¥å„ä¸ªè¿›ç¨‹ä¸“ç”¨ï¼Œä¾¿äºçµæ´»é€‰æ‹©<br />
</li>
<li>ä¸ä¼šå½±å“åˆ°æ“ä½œç³»ç»Ÿå±‚ï¼Œæ‰€æœ‰çº¿ç¨‹åªæ˜¯åº”ç”¨ç¨‹åºï¼Œæ¯”è¾ƒç¨³å®š</li>
</ol></li>
</ol>
<p>ç¼ºç‚¹ï¼š</p>
<pre><code>1. ä¸€ä¸ªçº¿ç¨‹å‘èµ·ç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œæ‰€æœ‰åŒè¿›ç¨‹çš„çº¿ç¨‹éƒ½è¦é˜»å¡  
2. ä¸èƒ½å‘æŒ¥å¤šå¤„ç†æœºä¼˜åŠ¿  </code></pre>
<ol start="2" type="1">
<li>å†…æ ¸çº§çº¿ç¨‹(KLT)</li>
</ol>
<p>çº¿ç¨‹ç®¡ç†åœ¨å†…æ ¸ç©ºé—´è¿›è¡Œï¼Œç”±å†…æ ¸åˆ†é…çº¿ç¨‹ç®¡ç†å—ï¼ŒåŠ ä»¥ç®¡ç†</p>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231207185300.png" /><br />
ä¼˜ç‚¹ï¼š</p>
<pre><code>1. å‘æŒ¥å¤šå¤„ç†æœºä¼˜åŠ¿ï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥å¹¶è¡Œ    
2. ä¸€ä¸ªçº¿ç¨‹è¢«é˜»å¡ï¼ŒåŒè¿›ç¨‹çš„å…¶ä»–çº¿ç¨‹ä¾ç„¶å¯ä»¥è¢«è°ƒåº¦    
3. å†…æ ¸æ”¯æŒçš„çº¿ç¨‹ä¼šå ç”¨æ›´å°çš„ç©ºé—´ï¼Œå¹¶æœ‰æ›´å°çš„å¼€é”€    
4. å†…æ ¸ä¹Ÿå¯ä»¥ä½¿ç”¨å¤šçº¿ç¨‹ï¼Œæ›´åŠ çµæ´»åœ°è°ƒåº¦çº¿ç¨‹    </code></pre>
<p>ç¼ºç‚¹ï¼š</p>
<pre><code>1. å¯¹åŒä¸€è¿›ç¨‹çš„çº¿ç¨‹åˆ‡æ¢ï¼Œç”±äºéœ€è¦åˆ‡æ¢åˆ°å†…æ ¸æ€æ‰èƒ½åˆ‡æ¢ï¼Œä¼šäº§ç”Ÿè¾ƒå¤§å¼€é”€     </code></pre>
<ol start="3" type="1">
<li>ç»„åˆæ–¹å¼</li>
</ol>
<p>å†…æ ¸å’Œç”¨æˆ·ç©ºé—´å„è‡ªå¯ä»¥åˆ›å»ºçº¿ç¨‹ï¼Œä¸€äº›å†…æ ¸çº§çº¿ç¨‹å¯¹åº”å¤šä¸ªç”¨æˆ·çº§çº¿ç¨‹ï¼Œè¿™æ˜¯ç”¨æˆ·çº§çº¿ç¨‹é€šè¿‡æ—¶åˆ†å¤šè·¯å¤ç”¨å†…æ ¸çº§çº¿ç¨‹å®ç°çš„ã€‚åŒä¸€è¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶åœ¨å¤šå¤„ç†æœºä¸Šå¹¶è¡Œæ‰§è¡Œï¼Œä¸”åœ¨é˜»å¡ä¸€ä¸ªçº¿ç¨‹æ—¶ä¸éœ€è¦å°†æ•´ä¸ªè¿›ç¨‹é˜»å¡</p>
<div class="note info"><p><strong>çº¿ç¨‹åº“</strong>(thread library)æ˜¯ä¸ºç¨‹åºå‘˜æä¾›åˆ›å»ºå’Œç®¡ç†çº¿ç¨‹çš„APIã€‚å®ç°çº¿ç¨‹åº“ä¸»è¦çš„æ–¹æ³•æœ‰å¦‚ä¸‹ä¸¤ç§ï¼š</p>
<ul>
<li>åœ¨ç”¨æˆ·ç©ºé—´ä¸­æä¾›ä¸€ä¸ªæ²¡æœ‰å†…æ ¸æ”¯æŒçš„åº“ã€‚è¿™ç§åº“çš„æ‰€æœ‰ä»£ç å’Œæ•°æ®ç»“æ„éƒ½ä½äºç”¨æˆ·ç©ºé—´ä¸­ã€‚è¿™æ„å‘³ç€ï¼Œè°ƒç”¨åº“å†…çš„ä¸€ä¸ªå‡½æ•°åªå¯¼è‡´ç”¨æˆ·ç©ºé—´ä¸­çš„ä¸€ä¸ªæœ¬åœ°å‡½æ•°çš„è°ƒç”¨ã€‚<br />
</li>
<li>å®ç°ç”±æ“ä½œç³»ç»Ÿç›´æ¥æ”¯æŒçš„å†…æ ¸çº§çš„ä¸€ä¸ªåº“ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œåº“å†…çš„ä»£ç å’Œæ•°æ®ç»“æ„ä½äºå†…æ ¸ç©ºé—´ã€‚è°ƒç”¨åº“ä¸­çš„ä¸€ä¸ªAPIå‡½æ•°é€šå¸¸ä¼šå¯¼è‡´å¯¹å†…æ ¸çš„ç³»ç»Ÿè°ƒç”¨ã€‚</li>
</ul>
<p>ç›®å‰ä½¿ç”¨çš„ä¸‰ç§ä¸»è¦çº¿ç¨‹åº“æ˜¯ï¼šPOSIX Pthreadsã€Windows APL Java., Pthreadsä½œä¸ºPOSIXæ ‡å‡†çš„æ‰©å±•ï¼Œå¯ä»¥æä¾›ç”¨æˆ·çº§æˆ–å†…æ ¸çº§çš„åº“ã€‚Windows APIæ˜¯ç”¨äºWindowsç³»ç»Ÿçš„å†…æ ¸çº§çº¿ç¨‹åº“ã€‚Javaçº¿ç¨‹APIå…è®¸çº¿ç¨‹åœ¨Javaç¨‹åºä¸­ç›´æ¥åˆ›å»ºå’Œç®¡ç†ã€‚ç”±äºJVMå®ä¾‹é€šå¸¸è¿è¡Œåœ¨å®¿ä¸»æ“ä½œç³»ç»Ÿä¹‹ä¸Šï¼ŒJavaçº¿ç¨‹APIé€šå¸¸é‡‡ç”¨å®¿ä¸»ç³»ç»Ÿçš„çº¿ç¨‹åº“æ¥å®ç°ï¼Œå› æ­¤åœ¨Windowsç³»ç»Ÿä¸­Javaçº¿ç¨‹é€šå¸¸é‡‡ç”¨Windows APIæ¥å®ç°ï¼Œåœ¨ç±»UNIXç³»ç»Ÿä¸­é‡‡ç”¨Pthreadsæ¥å®ç°ã€‚</p>
</div>
<h3 id="å¤šçº¿ç¨‹æ¨¡å‹">å¤šçº¿ç¨‹æ¨¡å‹</h3>
<ol type="1">
<li>å¤šå¯¹ä¸€æ¨¡å‹ï¼Œå¤šä¸ªç”¨æˆ·çº¿ç¨‹(ä¸€èˆ¬å±äºåŒä¸€è¿›ç¨‹)æ˜ å°„åˆ°ä¸€ä¸ªå†…æ ¸çº¿ç¨‹,çº¿ç¨‹ç®¡ç†åœ¨ç”¨æˆ·ç©ºé—´è¿›è¡Œï¼Œéœ€è¦å†…æ ¸è®¿é—®æ—¶ï¼ŒæŒ‚è½½åˆ°ä¸€ä¸ªå†…æ ¸çº¿ç¨‹(æ¯æ¬¡åªèƒ½ä¸€å¯¹ä¸€æ˜ å°„)<br />
ä¼˜ç‚¹ï¼šç”¨æˆ·ç©ºé—´ç®¡ç†è¿›ç¨‹æ•ˆç‡è¾ƒé«˜<br />
ç¼ºç‚¹ï¼šæ— æ³•å¤šå¤„ç†æœºè¿è¡Œï¼ŒæŒ‚è½½å†…æ ¸çº¿ç¨‹æ—¶çº¿ç¨‹å µå¡åˆ™æ•´ä¸ªè¿›ç¨‹å µå¡<br />
</li>
<li>ä¸€å¯¹ä¸€æ¨¡å‹,ä¸€ä¸ªç”¨æˆ·çº¿ç¨‹æ˜ å°„ä¸€ä¸ªå†…æ ¸çº¿ç¨‹<br />
ä¼˜ç‚¹ï¼šå½“ä¸€ä¸ªçº¿ç¨‹è¢«é˜»å¡åï¼Œå…è®¸è°ƒåº¦å¦ä¸€ä¸ªçº¿ç¨‹è¿è¡Œï¼Œæ‰€ä»¥å¹¶å‘èƒ½åŠ›è¾ƒå¼ºã€‚<br />
ç¼ºç‚¹ï¼šæ¯åˆ›å»ºä¸€ä¸ªç”¨æˆ·çº¿ç¨‹ï¼Œç›¸åº”åœ°å°±éœ€è¦åˆ›å»ºä¸€ä¸ªå†…æ ¸çº¿ç¨‹ï¼Œå¼€é”€è¾ƒå¤§ã€‚<br />
</li>
<li>å¤šå¯¹å¤šæ¨¡å‹ã€‚å°†nä¸ªç”¨æˆ·çº¿ç¨‹æ˜ å°„åˆ°mä¸ªå†…æ ¸çº§çº¿ç¨‹ä¸Šï¼Œè¦æ±‚n&gt;=mã€‚å…‹æœäº†å¤šå¯¹ä¸€æ¨¡å‹å¹¶å‘åº¦ä¸é«˜çš„ç¼ºç‚¹ï¼Œä¹Ÿå…‹æœäº†ä¸€å¯¹ä¸€æ¨¡å‹çš„ä¸€ä¸ªç”¨æˆ·è¿›ç¨‹å ç”¨å¤ªå¤šå†…æ ¸çº§çº¿ç¨‹è€Œå¼€é”€å¤ªå¤§çš„ç¼ºç‚¹ã€‚ä½†å®ç°è¾ƒå¤æ‚ã€‚</li>
</ol>
<div class="note warning"><ul>
<li>ç¨‹åºè¿™ç§é™æ€æ¦‚å¿µéš¾ä»¥æè¿°ç¨‹åºçš„å¹¶å‘æ‰§è¡Œï¼Œå› æ­¤éœ€è¦è¿›ç¨‹è¿™æ ·çš„åŠ¨æ€æ¦‚å¿µ<br />
</li>
<li>å¼•å…¥çº¿ç¨‹åï¼Œè¿›ç¨‹ä»ç„¶æ˜¯èµ„æºåˆ†é…çš„å•ä½ã€‚å†…æ ¸çº§çº¿ç¨‹æ˜¯å¤„ç†å™¨è°ƒåº¦å’Œåˆ†æ´¾çš„å•ä½<br />
</li>
<li>PCBå†…æ‰€å«çš„æ•°æ®ç»“æ„å†…å®¹ï¼Œä¸»è¦æœ‰å››å¤§ç±»ï¼šè¿›ç¨‹æ ‡å¿—ä¿¡æ¯ã€è¿›ç¨‹æ§åˆ¶ä¿¡æ¯ã€è¿›ç¨‹èµ„æºä¿¡æ¯ã€CPUç°åœºä¿¡æ¯<br />
</li>
<li>å”¯æœ‰è¿›ç¨‹ä¸­æŸçº¿ç¨‹çš„æ ˆæŒ‡é’ˆ(åŒ…å«åœ¨çº¿ç¨‹TCBä¸­)æ˜¯å±äºçº¿ç¨‹çš„ï¼Œå±äºè¿›ç¨‹çš„èµ„æºå¯ä»¥å…±äº«ï¼Œå±äºçº¿ç¨‹çš„æ ˆæŒ‡é’ˆæ˜¯ç‹¬äº«çš„ï¼Œå¯¹å…¶ä»–çº¿ç¨‹é€æ˜<br />
</li>
<li>çˆ¶è¿›ç¨‹å¯ä¸å­è¿›ç¨‹å…±äº«ä¸€éƒ¨åˆ†èµ„æºï¼Œ<strong>ä½†ä¸èƒ½å…±äº«è™šæ‹Ÿåœ°å€ç©ºé—´</strong>ï¼Œåœ¨åˆ›å»ºå­è¿›ç¨‹æ—¶ï¼Œä¼šä¸ºå­è¿›ç¨‹åˆ†é…èµ„æºï¼Œå¦‚è™šæ‹Ÿåœ°å€ç©ºé—´ç­‰<br />
</li>
<li>æ‰§è¡Œä¸€æ¡å‘½ä»¤æˆ–è¿è¡Œä¸€ä¸ªåº”ç”¨ç¨‹åºæ—¶ï¼Œè¿›ç¨‹å’Œç¨‹åºä¹‹é—´å½¢æˆä¸€å¯¹ä¸€çš„å…³ç³»ã€‚è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯ä»¥åŠ è½½æ‰§è¡Œä¸åŒçš„åº”ç”¨ç¨‹åºï¼Œä»è€Œå½¢æˆä¸€å¯¹å¤šçš„å…³ç³»ï¼›ä»¥ä¸åŒçš„å‚æ•°æˆ–æ•°æ®å¤šæ¬¡æ‰§è¡ŒåŒä¸€ä¸ªåº”ç”¨ç¨‹åºæ—¶ï¼Œå½¢æˆå¤šå¯¹ä¸€çš„å…³ç³»ï¼›å¹¶å‘åœ°æ‰§è¡Œä¸åŒçš„åº”ç”¨ç¨‹åºæ—¶ï¼Œå½¢æˆå¤šå¯¹å¤šçš„å…³ç³»<br />
</li>
<li>çˆ¶è¿›ç¨‹ä¸å­è¿›ç¨‹åŒæ—¶æ‰§è¡Œ(å¹¶å‘)ã€‚ä¸»ç¨‹åºè°ƒç”¨å­ç¨‹åºåï¼Œä¸»ç¨‹åºæš‚åœåœ¨è°ƒç”¨ç‚¹ï¼Œå­ç¨‹åºå¼€å§‹æ‰§è¡Œ<br />
</li>
<li>ä¸»è¦çš„è¿›ç¨‹é€šä¿¡æ–¹å¼ï¼šå…±äº«å†…å­˜ï¼Œå…±äº«æ–‡ä»¶ï¼Œç®¡é“ï¼Œæ¶ˆæ¯ä¼ é€’<br />
</li>
<li>äºŒè¿›åˆ¶ä»£ç å’Œå¸¸é‡å­˜æ”¾åœ¨æ­£æ–‡æ®µï¼ŒåŠ¨æ€åˆ†é…çš„å­˜å‚¨åŒºåœ¨æ•°æ®å †æ®µï¼Œä¸´æ—¶ä½¿ç”¨çš„å˜é‡åœ¨æ•°æ®æ ˆæ®µ</li>
</ul>
</div>
<h2 id="å¤„ç†æœºè°ƒåº¦">å¤„ç†æœºè°ƒåº¦</h2>
<p><code>å¤„ç†æœºè°ƒåº¦</code>æ˜¯å¯¹å¤„ç†æœºè¿›è¡Œåˆ†é…ï¼Œå³ä»å°±ç»ªé˜Ÿåˆ—ä¸­æŒ‰ç…§ä¸€å®šçš„ç®—æ³•é€‰æ‹©ä¸€ä¸ªè¿›ç¨‹å¹¶å°†å¤„ç†æœºåˆ†é…ç»™å®ƒè¿è¡Œï¼Œä»¥å®ç°è¿›ç¨‹å¹¶å‘åœ°æ‰§è¡Œã€‚<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231207212550.png" /></p>
<p><strong>è°ƒåº¦çš„å±‚çº§</strong></p>
<ol type="1">
<li>é«˜çº§è°ƒåº¦(ä½œä¸šè°ƒåº¦)ï¼Œä»å¤–å­˜çš„åå¤‡é˜Ÿåˆ—ä¸­ä½œä¸šä¸­é€‰å–ä¸€ä¸ªè°ƒå…¥å†…å­˜ï¼Œå¹¶åˆ†é…èµ„æºï¼Œå»ºç«‹è¿›ç¨‹ã€‚å¤šè§äºå¤šé“æ‰¹å¤„ç†ç³»ç»Ÿ<br />
</li>
<li>ä¸­çº§è°ƒåº¦(å†…å­˜è°ƒåº¦)ï¼ŒæŠŠæš‚æ—¶ä¸èƒ½è¿è¡Œçš„è¿›ç¨‹è°ƒåˆ°å¤–å­˜ç­‰å¾…ï¼Œè¿›ç¨‹è¿›å…¥æŒ‚èµ·æ€ï¼Œç­‰å†…å­˜æœ‰æ‰€ç©ºä½™æ—¶è°ƒå…¥è¿›å…¥å°±ç»ªæ€çš„è¿›ç¨‹è¿›å…¥å†…å­˜ï¼Œä¿®æ”¹æˆå°±ç»ªæ€ï¼Œå…¥é˜Ÿå°±ç»ªé˜Ÿåˆ—<br />
</li>
<li>ä½çº§è°ƒåº¦(è¿›ç¨‹è°ƒåº¦)ï¼Œä»å°±ç»ªé˜Ÿåˆ—é€‰å–ä¸€ä¸ªè¿›ç¨‹äº¤ç»™å¤„ç†æœºï¼Œæœ€å¸¸è§æœ€é¢‘ç¹çš„è°ƒåº¦</li>
</ol>
<p>ä½œä¸šè°ƒåº¦ä»å¤–å­˜çš„åå¤‡é˜Ÿåˆ—ä¸­é€‰æ‹©ä¸€æ‰¹ä½œä¸šè¿›å…¥å†…å­˜ï¼Œä¸ºå®ƒä»¬å»ºç«‹è¿›ç¨‹ï¼Œè¿™äº›è¿›ç¨‹è¢«é€å…¥å°±ç»ªé˜Ÿåˆ—ï¼Œè¿›ç¨‹è°ƒåº¦ä»å°±ç»ªé˜Ÿåˆ—ä¸­é€‰å‡ºä¸€ä¸ªè¿›ç¨‹ï¼Œå¹¶æŠŠå…¶çŠ¶æ€æ”¹ä¸ºè¿è¡Œæ€ï¼ŒæŠŠCPUåˆ†é…ç»™å®ƒã€‚ä¸­çº§è°ƒåº¦æ˜¯ä¸ºäº†æé«˜å†…å­˜çš„åˆ©ç”¨ç‡ï¼Œç³»ç»Ÿå°†é‚£äº›æš‚æ—¶ä¸èƒ½è¿è¡Œçš„è¿›ç¨‹æŒ‚èµ·æ¥ã€‚<br />
æŒ‚èµ·æŒ‡çš„æ˜¯è¿›ç¨‹è¢«è°ƒåˆ°å¤–å­˜ï¼Œæ˜¯å†…å­˜è°ƒåº¦çš„å·¥ä½œï¼Œå¯åˆ†ä¸ºå°±ç»ªæŒ‚èµ·å’Œé˜»å¡æŒ‚èµ·ï¼Œä¸é˜»å¡ä¸åŒçš„æ˜¯ï¼Œé˜»å¡åªæ˜¯æš‚æ—¶æ— æ³•è·å¾—cpuï¼Œä½†è¿›ç¨‹è¿˜åœ¨å†…å­˜ä¸­</p>
<p><strong>è°ƒåº¦çš„ç›®æ ‡</strong></p>
<ol type="1">
<li>CPUåˆ©ç”¨ç‡(cpuæœ‰æ•ˆå·¥ä½œæ—¶é—´/(æœ‰æ•ˆå·¥ä½œæ—¶é—´+ç­‰å¾…æ—¶é—´))<br />
</li>
<li>ç³»ç»Ÿååé‡ï¼Œå•ä½æ—¶é—´å†…cpuå®Œæˆä½œä¸šçš„æ•°é‡<br />
</li>
<li>å‘¨è½¬æ—¶é—´ï¼Œä½œä¸šå®Œæˆæ—¶é—´-ä½œä¸šæäº¤æ—¶é—´ã€‚
<ol type="1">
<li>å¹³å‡å‘¨è½¬æ—¶é—´<br />
</li>
<li>å¸¦æƒå‘¨è½¬æ—¶é—´(ä½œä¸šå‘¨è½¬æ—¶é—´/ä½œä¸šå®é™…è¿è¡Œæ—¶é—´)<br />
</li>
<li>å¹³å‡å¸¦æƒå‘¨è½¬æ—¶é—´ï¼Œå¸¦æƒå‘¨è½¬æ—¶é—´çš„å¹³å‡å€¼<br />
</li>
</ol></li>
<li>ç­‰å¾…æ—¶é—´ï¼Œè¿›ç¨‹ç­‰å¾…æ—¶é—´ä¹‹å’Œ<br />
</li>
<li>å“åº”æ—¶é—´ï¼Œç”¨æˆ·æäº¤éœ€æ±‚åˆ°ç³»ç»Ÿé¦–æ¬¡å“åº”éœ€è¦çš„æ—¶é—´ï¼Œå¯¹äº¤äº’å¼ç³»ç»Ÿæ˜¯ä¸€ä¸ªé‡è¦æŒ‡æ ‡</li>
</ol>
<p>ä»¥ä¸ŠæŒ‡æ ‡ä¸å¯èƒ½å…¼é¡¾ï¼Œå¿…é¡»æœ‰æ‰€å–èˆ</p>
<h3 id="å®ç°">å®ç°</h3>
<p>ç”¨äºè°ƒåº¦å’Œåˆ†æ´¾CPUçš„ç»„ä»¶ç§°ä¸ºè°ƒåº¦ç¨‹åºï¼Œä¸€èˆ¬ç”±ä¸‰éƒ¨åˆ†ç»„æˆ</p>
<ol type="1">
<li>æ’é˜Ÿå™¨ï¼ŒæŠŠç³»ç»Ÿå†…éƒ¨çš„å°±ç»ªè¿›ç¨‹æ’åˆ—æˆä¸€ä¸ªæˆ–è€…å¤šä¸ªå°±ç»ªé˜Ÿåˆ—<br />
</li>
<li>åˆ†æ´¾å™¨ï¼Œæ ¹æ®è°ƒåº¦ç¨‹åºé€‰æ‹©çš„è¿›ç¨‹ï¼ŒæŠŠæŒ‡å®šè¿›ç¨‹ä»é˜Ÿåˆ—ä¸­æ‹‰å‡ºï¼Œåˆ†é…cpu<br />
</li>
<li>ä¸Šä¸‹æ–‡åˆ‡æ¢å™¨ï¼Œéœ€è¦è¿›è¡Œä¸¤ä¸ªä¸Šä¸‹æ–‡æ“ä½œ
<ol type="1">
<li>ä¿å­˜å½“å‰ç¨‹åºçš„ä¸Šä¸‹æ–‡åˆ°å…¶PCB,è£…å…¥åˆ†æ´¾ç¨‹åºçš„ä¸Šä¸‹æ–‡<br />
</li>
<li>ç§»å‡ºåˆ†æ´¾ç¨‹åºçš„ä¸Šä¸‹æ–‡ï¼Œå°†å…¶PCBå†…çš„cpuç°åœºä¿¡æ¯è£…å…¥cpuçš„å¯„å­˜å™¨</li>
</ol></li>
</ol>
<p>é€šå¸¸é‡‡ç”¨ä¸¤ç»„å¯„å­˜å™¨ï¼Œå…¶ä¸­ä¸€ç»„ä¾›å†…æ ¸ä½¿ç”¨ï¼Œä¸€ç»„ä¾›ç”¨æˆ·ä½¿ç”¨ã€‚è¿™æ ·ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢æ—¶ï¼Œåªéœ€æ”¹å˜æŒ‡é’ˆï¼Œè®©å…¶æŒ‡å‘å½“å‰å¯„å­˜å™¨ç»„å³å¯<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231208111859.png" /></p>
<div class="note info"><p><strong>ä¸èƒ½ç«‹åˆ»è¿›è¡Œè°ƒåº¦çš„ç‰¹æ®Šæƒ…å†µ</strong>ï¼š</p>
<ol type="1">
<li>å¤„ç†ä¸­æ–­æ—¶ï¼Œç†è®ºä¸Šä¸­æ–­æ˜¯ç³»ç»Ÿçº§å·¥ä½œï¼Œä¸åº”è¢«è¿›ç¨‹å½±å“<br />
</li>
<li>è¿›ç¨‹åœ¨ç³»ç»Ÿå†…æ ¸ä¸´ç•ŒåŒºï¼Œç”±äºæ­¤æ—¶ä¸€èˆ¬è¿›ç¨‹è¢«åŠ é”ï¼Œè§£é”å‰ä¸åº”åˆ‡æ¢è¿›ç¨‹(æ™®é€šä¸´ç•ŒåŒºåˆ™å¯ä»¥)<br />
</li>
<li>å…¶ä»–éœ€è¦å±è”½ä¸­æ–­çš„åŸå­æ“ä½œ</li>
</ol>
<p><strong>éœ€è¦è¿›è¡Œè°ƒåº¦çš„æƒ…å†µ</strong>ï¼š</p>
<ol type="1">
<li>å‘ç”Ÿå¼•èµ·è°ƒåº¦æ¡ä»¶ä¸”å½“å‰è¿›ç¨‹æ— æ³•ç»§ç»­è¿è¡Œä¸‹å»æ—¶ï¼Œå¯ä»¥é©¬ä¸Šè¿›è¡Œè°ƒåº¦ä¸åˆ‡æ¢ã€‚å±äºéå‰¥å¤ºè°ƒåº¦ã€‚<br />
</li>
<li>ä¸­æ–­å¤„ç†ç»“æŸæˆ–è‡ªé™·å¤„ç†ç»“æŸåï¼Œè¿”å›è¢«ä¸­æ–­è¿›ç¨‹çš„ç”¨æˆ·æ€ç¨‹åºæ‰§è¡Œç°åœºå‰ï¼Œè‹¥ç½®ä¸Šè¯·æ±‚è°ƒåº¦æ ‡å¿—ï¼Œå³å¯é©¬ä¸Šè¿›è¡Œè¿›ç¨‹è°ƒåº¦ä¸åˆ‡æ¢ã€‚å±äºå‰¥å¤ºæ–¹å¼çš„è°ƒåº¦</li>
</ol>
<p>ç°åœºåˆ‡æ¢æ—¶ï¼Œæ“ä½œç³»ç»Ÿå†…æ ¸å°†åŸè¿›ç¨‹çš„ç°åœºä¿¡æ¯æ¨å…¥å½“å‰è¿›ç¨‹çš„å†…æ ¸å †æ ˆæ¥ä¿å­˜å®ƒä»¬ï¼Œå¹¶æ›´æ–°å †æ ˆæŒ‡é’ˆã€‚å†…æ ¸å®Œæˆä»æ–°è¿›ç¨‹çš„å†…æ ¸æ ˆä¸­è£…å…¥æ–°è¿›ç¨‹çš„ç°åœºä¿¡æ¯ã€æ›´æ–°å½“å‰è¿è¡Œè¿›ç¨‹ç©ºé—´æŒ‡é’ˆã€é‡è®¾PCå¯„å­˜å™¨ç­‰ç›¸å…³å·¥ä½œä¹‹åï¼Œå¼€å§‹è¿è¡Œæ–°çš„è¿›ç¨‹ã€‚</p>
<p>æœ‰ä¸€ç§ç‰¹æ®Šçš„é—²é€›è¿›ç¨‹ï¼Œåœ¨æ²¡æœ‰å°±ç»ªè¿›ç¨‹æ—¶è¢«å¤„ç†æœºè¿è¡Œï¼Œä¸€æ—¦æœ‰å°±ç»ªè¿›ç¨‹å°±è¢«æŠ¢å </p>
</div>
<p>è¿›ç¨‹è°ƒåº¦åˆ†ä¸ºä¸¤ç§ï¼š</p>
<ul>
<li>æŠ¢å è°ƒåº¦(å‰¥å¤ºæ–¹å¼)ï¼Œä¸€ä¸ªè¿›ç¨‹åœ¨å¤„ç†æœºæ‰§è¡Œæ—¶ï¼Œå…è®¸æš‚åœè¯¥è¿›ç¨‹åˆ†é…å¤„ç†æœºç»™å¦ä¸€ä¸ªè¿›ç¨‹<br />
</li>
<li>éæŠ¢å è°ƒåº¦(éå‰¥å¤ºæ–¹å¼)ï¼Œåœ¨è¿›ç¨‹è¿è¡Œå®Œæˆæˆ–è€…è¿›å…¥é˜»å¡æ€å‰ï¼Œä¸å…è®¸å…¶ä»–è¿›ç¨‹è·å¾—å®ƒçš„å¤„ç†æœº</li>
</ul>
<p>çº¿ç¨‹è°ƒåº¦ï¼š</p>
<ul>
<li>ç”¨æˆ·çº§çº¿ç¨‹ï¼Œè°ƒåº¦å’Œå†…æ ¸æ— å…³ï¼Œäº¤ç»™è¿›ç¨‹è°ƒåº¦<br />
</li>
<li>å†…æ ¸çº§çº¿ç¨‹ï¼Œå†…æ ¸é€‰æ‹©ä¸€ä¸ªç‰¹å®šçº¿ç¨‹è¿è¡Œï¼Œé€šå¸¸ä¸ç”¨è€ƒè™‘è¯¥çº¿ç¨‹å±äºå“ªä¸ªè¿›ç¨‹ã€‚å¯¹è¢«é€‰æ‹©çš„çº¿ç¨‹èµ‹äºˆä¸€ä¸ªæ—¶é—´ç‰‡ï¼Œå¦‚æœè¶…è¿‡äº†æ—¶é—´ç‰‡ï¼Œå°±ä¼šå¼ºåˆ¶æŒ‚èµ·è¯¥çº¿ç¨‹ã€‚</li>
</ul>
<h3 id="è°ƒåº¦ç®—æ³•">è°ƒåº¦ç®—æ³•</h3>
<ol type="1">
<li><p><strong>FCFSå…ˆæ¥å…ˆæœåŠ¡</strong>(éæŠ¢å )<br />
è¿›ç¨‹å…ˆè¿›å…ˆå‡ºåœ°è¿›å…¥é˜Ÿåˆ—ï¼Œç®—æ³•æ¯æ¬¡éƒ½é€‰å–æœ€å…ˆè¿›å…¥å°±ç»ªé˜Ÿåˆ—çš„è¿›ç¨‹è¿è¡Œï¼Œç›´åˆ°å®Œæˆæˆ–é˜»å¡æ‰é‡Šæ”¾<br />
ç›¸å¯¹åˆ©å¥½é•¿ä½œä¸šå’Œcpuå¯†é›†ä½œä¸š</p></li>
<li><p><strong>SJFçŸ­ä½œä¸šä¼˜å…ˆ</strong>(éæŠ¢å )<br />
ä»å°±ç»ªé˜Ÿåˆ—ä¸­é€‰æ‹©ä¸€ä¸ªä¼°è®¡è¿è¡Œæ—¶é—´æœ€çŸ­çš„è¿›ç¨‹ï¼Œå°†å¤„ç†æœºåˆ†é…ç»™å®ƒï¼Œä½¿ä¹‹ç«‹å³æ‰§è¡Œï¼Œç›´åˆ°å®Œæˆæˆ–å‘ç”ŸæŸäº‹ä»¶è€Œé˜»å¡æ—¶ï¼Œæ‰é‡Šæ”¾å¤„ç†æœº<br />
æ‰€æœ‰è¿›ç¨‹éƒ½å‡ ä¹åŒæ—¶åˆ°è¾¾æ—¶ï¼ŒSJFè°ƒåº¦ç®—æ³•çš„å¹³å‡ç­‰å¾…æ—¶é—´ã€å¹³å‡å‘¨è½¬æ—¶é—´æœ€å°‘,ä½†ä¼šäº§ç”Ÿé¥¥é¥¿é—®é¢˜ï¼Œä¸”æ²¡æœ‰è€ƒè™‘ä¼˜å…ˆçº§ï¼Œä¾èµ–çš„ä¼°è®¡ä¹Ÿæœªå¿…å‡†ç¡®<br />
æŠ¢å å¼çš„çŸ­ä½œä¸š/è¿›ç¨‹ä¼˜å…ˆè°ƒåº¦ç®—æ³•(æœ€çŸ­å‰©ä½™æ—¶é—´ä¼˜å…ˆ, SRNTç®—æ³•)çš„å¹³å‡ç­‰å¾…æ—¶é—´ã€å¹³å‡å‘¨è½¬æ—¶é—´æœ€å°‘</p></li>
<li><p><strong>ä¼˜å…ˆçº§è°ƒåº¦</strong></p></li>
</ol>
<p>è°ƒåº¦ç®—æ³•æŒ‰ç…§ä¼˜å…ˆçº§ä»å°±ç»ªé˜Ÿåˆ—è°ƒå…¥è¿›ç¨‹ç»™å¤„ç†æœºï¼Œå¯åˆ†ä¸ºæŠ¢å ä¸éæŠ¢å <br />
æ ¹æ®ä¼˜å…ˆçº§æ˜¯å¦æ”¹å˜ï¼Œä¹Ÿå¯ä»¥åˆ†ä¸ºé™æ€å’ŒåŠ¨æ€ä¼˜å…ˆçº§<br />
ä¼˜å…ˆçº§è®¾ç½®çš„å¯èƒ½åŸåˆ™ï¼š</p>
<ul>
<li>ç³»ç»Ÿè¿›ç¨‹&gt;ç”¨æˆ·è¿›ç¨‹<br />
</li>
<li>äº¤äº’è¿›ç¨‹&gt;éäº¤äº’è¿›ç¨‹<br />
</li>
<li>I/Oå¯†é›†å¤§äºcpuå¯†é›†</li>
</ul>
<ol start="4" type="1">
<li>é«˜å“åº”æ¯”ä¼˜å…ˆ</li>
</ol>
<p>å“åº”æ¯”Rp=((ç­‰å¾…æ—¶é—´+è¦æ±‚æœåŠ¡æ—¶é—´)/è¦æ±‚æœåŠ¡æ—¶é—´)<br />
ç­‰å¾…æ—¶é—´ç›¸åŒæ—¶ç±»ä¼¼SJFï¼Œè¦æ±‚æœåŠ¡æ—¶é—´ç›¸åŒæ—¶ç±»ä¼¼FCFSï¼Œä½†è§£å†³äº†é¥¥é¥¿é—®é¢˜</p>
<ol start="5" type="1">
<li>æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦</li>
</ol>
<p>ä¸»è¦é€‚ç”¨äºåˆ†æ—¶ç³»ç»Ÿï¼ŒæŒ‰æ—¶é—´ç‰‡ä»¥æ­¤é€‰å–è¿›ç¨‹è¿è¡Œ</p>
<ol start="6" type="1">
<li>å¤šçº§é˜Ÿåˆ—è°ƒåº¦</li>
</ol>
<p>è®¾ç½®å¤šä¸ªå°±ç»ªé˜Ÿåˆ—ï¼Œæ¯ä¸ªé˜Ÿåˆ—æœ‰ä¸åŒçš„è°ƒåº¦ç­–ç•¥</p>
<ol start="7" type="1">
<li>å¤šçº§åé¦ˆé˜Ÿåˆ—è°ƒåº¦</li>
</ol>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231209141033.png" /></p>
<ul>
<li>è®¾ç½®å¤šä¸ªå°±ç»ªé˜Ÿåˆ—ï¼Œä¼˜å…ˆçº§ä¾æ¬¡é€’å‡ï¼Œä¼˜å…ˆçº§è¶Šé«˜çš„é˜Ÿåˆ—ï¼Œæ—¶é—´ç‰‡è¶ŠçŸ­<br />
</li>
<li>å¯¹ä¸€ä¸ªæ–°è¿›ç¨‹æ¥è¯´ï¼Œé¦–å…ˆè¿›å…¥ç¬¬ä¸€ä¸ªé˜Ÿåˆ—æœ«å°¾ï¼Œå¦‚æœåœ¨ç¬¬ä¸€ä¸ªæ—¶é—´ç‰‡å†…æˆåŠŸåˆ™æ’¤ç¦»ï¼Œå¦åˆ™è¿›å…¥ç¬¬äºŒä¸ªé˜Ÿåˆ—æœ«å°¾ï¼Œè¿™æ ·ä¾æ¬¡è¿›è¡Œï¼Œæœ€åä¸€çº§é˜Ÿåˆ—æŒ‰æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦<br />
</li>
<li>åªæœ‰å‰é¢çš„é˜Ÿåˆ—ä¸ºç©ºï¼Œæ‰ä¼šè½®åˆ°ä¸‹ä¸€çº§çš„é˜Ÿåˆ—ï¼Œå¦‚æœæœ‰æ›´é«˜ä¼˜å…ˆçº§çš„è¿›ç¨‹æ¥åˆ°ï¼Œå¯ä»¥æŠ¢å ä½ä¼˜å…ˆçº§æˆ–è€…è¯´ä½å±‚çš„è¿›ç¨‹ï¼Œè¢«æŠ¢å çš„è¿›ç¨‹æ”¾åˆ°è¯¥é˜Ÿåˆ—æœ«å°¾</li>
</ul>
<p><code>ä¸Šä¸‹æ–‡åˆ‡æ¢</code>ï¼šåˆ‡æ¢è¿›ç¨‹æ—¶,ä¿å­˜ä¸Šä¸€ä¸ªè¿›ç¨‹çš„çŠ¶æ€ï¼Œå¹¶æ¢å¤å¦ä¸€ä¸ªè¿›ç¨‹çš„çŠ¶æ€<br />
<strong>ä¸Šä¸‹æ–‡åˆ‡æ¢çš„è¿‡ç¨‹</strong></p>
<ol type="1">
<li>æŒ‚èµ·ä¸€ä¸ªè¿›ç¨‹ï¼Œä¿å­˜CPUä¸Šä¸‹æ–‡ï¼ŒåŒ…æ‹¬ç¨‹åºè®¡æ•°å™¨å’Œå…¶ä»–å¯„å­˜å™¨<br />
</li>
<li>æ›´æ–°PCBä¿¡æ¯<br />
</li>
<li>æŠŠè¿›ç¨‹çš„PCBç§»å…¥ç›¸åº”çš„é˜Ÿåˆ—ï¼Œå¦‚å°±ç»ªã€åœ¨æŸäº‹ä»¶é˜»å¡ç­‰é˜Ÿåˆ—<br />
</li>
<li>é€‰æ‹©å¦ä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œï¼Œå¹¶æ›´æ–°å…¶PCB<br />
</li>
<li>è·³è½¬åˆ°æ–°è¿›ç¨‹PCBä¸­çš„ç¨‹åºè®¡æ•°å™¨æ‰€æŒ‡å‘çš„ä½ç½®æ‰§è¡Œ<br />
</li>
<li>æ¢å¤å¤„ç†æœºä¸Šä¸‹æ–‡</li>
</ol>
<ul>
<li>ä¸Šä¸‹æ–‡åˆ‡æ¢å¯¹ç³»ç»Ÿæ¥è¯´æ„å‘³ç€æ¶ˆè€—å¤§é‡çš„CPUæ—¶é—´ã€‚æœ‰äº›å¤„ç†å™¨æä¾›å¤šä¸ªå¯„å­˜å™¨ç»„ï¼Œè¿™æ ·ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢å°±åªéœ€è¦ç®€å•æ”¹å˜å½“å‰å¯„å­˜å™¨ç»„çš„æŒ‡é’ˆ<br />
</li>
<li>ç”¨æˆ·æ€å’Œå†…æ ¸æ€ä¹‹é—´çš„åˆ‡æ¢ç§°ä¸ºæ¨¡å¼åˆ‡æ¢ï¼Œè€Œä¸æ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå› ä¸ºæ²¡æœ‰æ”¹å˜å½“å‰çš„è¿›ç¨‹ã€‚ä¸Šä¸‹æ–‡åˆ‡æ¢åªèƒ½å‘ç”Ÿåœ¨å†…æ ¸æ€ï¼Œå®ƒæ˜¯å¤šä»»åŠ¡æ“ä½œç³»ç»Ÿä¸­çš„ä¸€ä¸ªå¿…éœ€çš„ç‰¹æ€§<br />
</li>
<li>ä¸€èˆ¬æ¥è¯´ï¼Œå…ˆæœ‰èµ„æºçš„è°ƒåº¦ï¼Œç„¶åæ‰æœ‰è¿›ç¨‹çš„åˆ‡æ¢</li>
</ul>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231209141146.png" /></p>
<div class="note warning"><ul>
<li>å½“è¿›ç¨‹å¤„äºä¸´ç•ŒåŒºæ—¶ï¼Œè¯´æ˜è¿›ç¨‹æ­£åœ¨å ç”¨å¤„ç†æœºï¼Œåªè¦ä¸ç ´åä¸´ç•Œèµ„æºçš„ä½¿ç”¨è§„åˆ™ï¼Œå°±ä¸ä¼šå½±å“å¤„ç†æœºçš„è°ƒåº¦<br />
</li>
<li>ä¸€èˆ¬æ¥è¯´ï¼Œå› ä¸ºI/Oæ“ä½œéœ€è¦åŠæ—¶å®Œæˆï¼ŒI/Oå‹ä½œä¸šçš„ä¼˜å…ˆæƒé«˜äºè®¡ç®—å‹ä½œä¸šçš„ä¼˜å…ˆæƒ<br />
</li>
<li>0æ—¶åˆ»çš„è°ƒåº¦ä¹Ÿè®¡å…¥è°ƒåº¦æ¬¡æ•°<br />
</li>
<li>ä¸€èˆ¬æ¥è¯´cpuå¯†é›†å‹ä½œä¸šç›¸å¯¹è¾ƒé•¿</li>
</ul>
</div>
<h2 id="åŒæ­¥ä¸äº’æ–¥">åŒæ­¥ä¸äº’æ–¥</h2>
<p>ä¸ºäº†åè°ƒè¿›ç¨‹ä¹‹é—´çš„ç›¸äº’åˆ¶çº¦å…³ç³»ï¼Œå¼•å…¥äº†è¿›ç¨‹åŒæ­¥çš„æ¦‚å¿µ</p>
<ol type="1">
<li><strong>ä¸´ç•Œèµ„æº</strong>:ä¸€æ¬¡ä»…å…è®¸ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨çš„èµ„æºï¼Œå¯¹å…¶çš„è®¿é—®å¯åˆ†ä¸º
<ol type="1">
<li>è¿›å…¥åŒºï¼Œéœ€è¦åœ¨æ­¤æ£€æŸ¥æ˜¯å¦å¯ä»¥è¿›å…¥ï¼Œåœ¨è¿›å…¥åè®¾ç½®æ ‡å¿—ï¼Œé˜»æ­¢å…¶ä»–è¿›ç¨‹è¿›å…¥<br />
</li>
<li>ä¸´ç•ŒåŒºï¼Œè¿›ç¨‹è®¿é—®ä¸´ç•Œèµ„æºçš„ä»£ç <br />
</li>
<li>é€€å‡ºåŒºï¼Œå°†å¯¹ä¸´ç•Œèµ„æºçš„è®¿é—®æ ‡å¿—æ¸…é™¤<br />
</li>
<li>å‰©ä½™åŒºï¼Œä»£ç å‰©ä½™çš„éƒ¨åˆ†<br />
</li>
</ol></li>
<li><strong>åŒæ­¥</strong>,è¿›ç¨‹ä¹‹é—´ç”±äºæ¬¡åºå…³ç³»äº§ç”Ÿçš„ç­‰å¾…ï¼Œä¼ é€’ä¿¡æ¯çš„åˆ¶çº¦å…³ç³»<br />
</li>
<li><strong>äº’æ–¥</strong>ï¼Œä¹Ÿç§°é—´æ¥åˆ¶çº¦å…³ç³»ï¼Œä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ä¸´ç•Œèµ„æºæ—¶ï¼Œå¦ä¸€ä¸ªè¿›ç¨‹å¿…é¡»ç­‰å¾…</li>
</ol>
<p>åŒæ­¥æœºåˆ¶åº”è¯¥éµå®ˆä»¥ä¸‹å‡†åˆ™ï¼š</p>
<ol type="1">
<li>ç©ºé—²è®©è¿›ï¼Œä¸´ç•ŒåŒºç©ºé—²æ—¶å…è®¸è¿›å…¥<br />
</li>
<li>å¿™åˆ™ç­‰å¾…,æœ‰è¿›ç¨‹åœ¨ä¸´ç•ŒåŒºå†…ï¼Œå…¶ä»–è¿›ç¨‹å¿…é¡»ç­‰å¾…<br />
</li>
<li>æœ‰é™ç­‰å¾…ï¼Œå¯¹æ‰€æœ‰è¯·æ±‚è¿›ç¨‹ï¼Œåº”è¯¥ä¿è¯æœ‰é™æ—¶é—´å†…èƒ½è¿›å…¥ä¸´ç•ŒåŒº<br />
</li>
<li>è®©æƒç­‰å¾…ï¼Œè¿›ç¨‹ä¸èƒ½è¿›å…¥æ—¶ï¼Œåº”è¯¥é‡Šæ”¾å¤„ç†å™¨é˜²æ­¢å¿™ç­‰å¾…</li>
</ol>
<h3 id="å®ç°äº’æ–¥çš„æ–¹æ³•">å®ç°äº’æ–¥çš„æ–¹æ³•</h3>
<p><strong>è½¯ä»¶å®ç°</strong>ï¼š</p>
<ol type="1">
<li>å•æ ‡å¿—æ³•</li>
</ol>
<p>è®¾ç½®æ ‡å¿—turn,è‹¥turn = 0,åˆ™å…è®¸P0è¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒº<br />
ä¸¤ä¸ªè¿›ç¨‹å¿…é¡»äº¤æ›¿è¿›å…¥ä¸´ç•ŒåŒºï¼Œè‹¥æŸä¸ªè¿›ç¨‹ä¸å†è¿›å…¥ä¸´ç•ŒåŒºï¼Œåˆ™å¦ä¸€ä¸ªè¿›ç¨‹ä¹Ÿå°†æ— æ³•è¿›å…¥ä¸´ç•ŒåŒº,è¿åäº†<strong>ç©ºé—²è®©è¿›</strong>åŸåˆ™</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="co">//p0è¿›ç¨‹  </span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a><span class="cf">while</span>(turn!=<span class="dv">0</span>); <span class="co">//è¿›å…¥åŒº  </span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a>critical section; <span class="co">//ä¸´ç•ŒåŒº  </span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a>turn=<span class="dv">1</span>; <span class="co">//é€€å‡ºåŒº  </span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a>remainder section;   </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true"></a>  </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true"></a><span class="co">//p1è¿›ç¨‹  </span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true"></a><span class="cf">while</span>(turn!=<span class="dv">1</span>); <span class="co">//è¿›å…¥åŒº  </span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true"></a>critical section; <span class="co">//ä¸´ç•ŒåŒº  </span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true"></a>turn=<span class="dv">0</span>; <span class="co">//é€€å‡ºåŒº  </span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true"></a>remainder section; <span class="co">//å‰©ä½™åŒº  </span></span></code></pre></div>
<ol start="2" type="1">
<li>åŒæ ‡å¿—æ³•å…ˆæ£€æŸ¥</li>
</ol>
<p>åœ¨æ¯ä¸ªè¿›ç¨‹è®¿é—®ä¸´ç•ŒåŒºèµ„æºä¹‹å‰ï¼Œå…ˆæŸ¥çœ‹ä¸´ç•Œèµ„æºæ˜¯å¦æ­£è¢«è®¿é—®ï¼Œè‹¥æ­£è¢«è®¿é—®ï¼Œè¯¥è¿›ç¨‹éœ€ç­‰å¾…ï¼›å¦åˆ™ï¼Œè¿›ç¨‹æ‰è¿›å…¥è‡ªå·±çš„ä¸´ç•ŒåŒºã€‚<br />
è®¾ç½®æ•°ç»„flag,å¦‚ç¬¬iä¸ªå…ƒç´ <code>flag[i]</code>ä¸ºFALSE,è¡¨ç¤ºPiè¿›ç¨‹æœªè¿›å…¥ä¸´ç•ŒåŒºï¼Œå¦‚ä¸ºTRUE,è¡¨ç¤ºPiè¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒºã€‚</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="co">//Piè¿›ç¨‹  </span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a><span class="cf">while</span>(flag[j]);   </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a>flag[i]=TRUE;  <span class="co">//è¿›å…¥åŒº  </span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a>critical section; <span class="co">//ä¸´ç•ŒåŒº  </span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a>flag[i]=FALSE; <span class="co">//é€€å‡ºåŒº  </span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a>remainder section; <span class="co">//å‰©ä½™åŒº  </span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true"></a>  </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true"></a><span class="co">//Pjè¿›ç¨‹  </span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true"></a><span class="cf">while</span>(flag[i]);   </span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true"></a>flag[j]=TRUE;  <span class="co">//è¿›å…¥åŒº  </span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true"></a>critical section; <span class="co">//ä¸´ç•ŒåŒº  </span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true"></a>flag[j]=FALSE; <span class="co">//é€€å‡ºåŒº  </span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true"></a>remainder section; <span class="co">//å‰©ä½™åŒº  </span></span></code></pre></div>
<p>åœ¨æ£€æŸ¥å¯¹æ–¹çš„flagåå’Œåˆ‡æ¢è‡ªå·±çš„flagå‰æœ‰ä¸€æ®µæ—¶é—´ï¼Œæœ‰å¯èƒ½éƒ½æ£€æŸ¥é€šè¿‡,ä¾‹å¦‚åŒæ–¹è¿‘ä¹åŒæ—¶æ£€æŸ¥äº†ï¼Œéšåå°±ä¼šä¸€èµ·è¿›å…¥ä¸´ç•ŒåŒº<br />
è¿å<strong>å¿™åˆ™ç­‰å¾…</strong>åŸåˆ™</p>
<ol start="3" type="1">
<li>åŒæ ‡å¿—æ³•åæ£€æŸ¥</li>
</ol>
<p>å…ˆå°†è‡ªå·±çš„æ ‡å¿—è®¾ç½®ä¸ºTRUE,å†æ£€æµ‹å¯¹æ–¹çš„çŠ¶æ€æ ‡å¿—ï¼Œè‹¥å¯¹æ–¹æ ‡å¿—ä¸ºTRUE,åˆ™è¿›ç¨‹ç­‰å¾…ï¼›å¦åˆ™è¿›å…¥ä¸´ç•ŒåŒºã€‚<br />
å½“ä¸¤ä¸ªè¿›ç¨‹å‡ ä¹åŒæ—¶éƒ½æƒ³è¿›å…¥ä¸´ç•ŒåŒºæ—¶ï¼Œå®ƒä»¬åˆ†åˆ«å°†è‡ªå·±çš„æ ‡å¿—å€¼flagè®¾ç½®ä¸ºTRUEï¼Œç»“æœå¯¼è‡´éƒ½æ— æ³•è¿›å…¥çš„é¥¥é¥¿é—®é¢˜,è¿èƒŒç©ºé—²è®©è¿›ä¸æœ‰é™ç­‰å¾…</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a><span class="co">//Piè¿›ç¨‹  </span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a>flag[i]=TRUE;   </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true"></a><span class="cf">while</span>(flag[j]);   </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true"></a>critical section;  </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true"></a>flag[i]=FALSE;   </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true"></a>remainder section;   </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true"></a>  </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true"></a><span class="co">//Pjè¿›ç¨‹  </span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true"></a>flag[j]=TRUE;  </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true"></a><span class="cf">while</span>(flag[i]);  </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true"></a>critical section;  </span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true"></a>flag[j]=FALSE;  </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true"></a>remainder section;  </span></code></pre></div>
<ol start="4" type="1">
<li>Peterson's Algorithm</li>
</ol>
<p>æ¯ä¸ªè¿›ç¨‹åœ¨å…ˆè®¾ç½®è‡ªå·±çš„æ ‡å¿—åå†è®¾ç½®turnæ ‡å¿—ã€‚è¿™æ—¶ï¼Œå†åŒæ—¶æ£€æµ‹å¦ä¸€ä¸ªè¿›ç¨‹çŠ¶æ€æ ‡å¿—å’Œå…è®¸è¿›å…¥æ ‡å¿—ï¼Œä»¥ä¾¿ä¿è¯ä¸¤ä¸ªè¿›ç¨‹åŒæ—¶è¦æ±‚è¿›å…¥ä¸´ç•ŒåŒºæ—¶ï¼Œåªå…è®¸ä¸€ä¸ªè¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒºã€‚</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a><span class="co">//Piè¿›ç¨‹  </span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a>flag [i] =TRUE; turn=j ;   </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true"></a><span class="cf">while</span>(flag[j]&amp;&amp;turn==j);  </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true"></a>critical section;  </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true"></a>flag[i]=FALSE;  </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true"></a>remainder section;  </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true"></a>  </span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true"></a><span class="co">//Pjè¿›ç¨‹  </span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true"></a>flag [j] =TRUE; turn=i ;   </span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true"></a><span class="cf">while</span>(flag[i]&amp;&amp;turn==i);  </span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true"></a>critical section;  </span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true"></a>flag[j]=FALSE;  </span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true"></a>remainder section;  </span></code></pre></div>
<p>flagè¡¨ç¤ºè¿›å…¥æ„æ„¿ï¼Œturnè¡¨ç¤ºä¼˜å…ˆçº§ï¼Œå¦‚æœå¯¹æ–¹æƒ³è¿›å…¥ä¸”æ›´ä¼˜å…ˆï¼Œåˆ™è‡ªå·±è¦å¿™ç­‰å¾…ï¼Œåˆ©ç”¨flagè§£å†³ä¸´ç•Œèµ„æºçš„äº’æ–¥è®¿é—®ï¼Œè€Œåˆ©ç”¨turnè§£å†³"é¥¥é¥¿â€ç°è±¡ï¼Œå› ä¸ºéœ€è¦å¿™ç­‰å¾…ï¼Œè¿èƒŒäº†<strong>è®©æƒç­‰å¾…</strong>åŸåˆ™</p>
<p><strong>ç¡¬ä»¶å®ç°</strong></p>
<ol type="1">
<li>ä¸­æ–­å±è”½æ–¹æ³•</li>
</ol>
<p>ä¸€ä¸ªè¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒºåç›´æ¥ç¦æ­¢ä¸­æ–­çš„äº§ç”Ÿï¼Œè¿™ç§æ–¹æ³•æœ‰æŸå¤„ç†æœºè¿è¡Œæ•ˆç‡ï¼Œä¸”æœ‰ä¸­æ–­ä¸è¢«å†æ¬¡å¯ç”¨çš„é£é™©ï¼Œä¸”åªé€‚ç”¨äºç³»ç»Ÿå†…æ ¸çš„è¿›ç¨‹</p>
<pre><code>å…³ä¸­æ–­ï¼›  
ä¸´ç•ŒåŒºï¼›  
å¼€ä¸­æ–­ï¼›  </code></pre>
<ol start="2" type="1">
<li>ç¡¬ä»¶æŒ‡ä»¤æ–¹æ³•</li>
</ol>
<p>lockè¡¨ç¤ºèµ„æºçš„ä¸¤ç§çŠ¶æ€ï¼štrueè¡¨ç¤ºæ­£è¢«å ç”¨ï¼Œåˆå€¼ä¸ºfalseã€‚è¿›ç¨‹åœ¨è¿›å…¥ä¸´ç•ŒåŒºä¹‹å‰ï¼Œåˆ©ç”¨TestAndSetæ£€æŸ¥æ ‡å¿—lock,è‹¥æ— è¿›ç¨‹åœ¨ä¸´ç•ŒåŒºï¼Œè¿”å›å€¼ä¸ºfalse,å¯ä»¥è¿›å…¥ï¼Œå…³é—­ä¸´ç•Œèµ„æºï¼ŒæŠŠlockç½®ä¸ºtrue,ä½¿ä»»ä½•è¿›ç¨‹éƒ½ä¸èƒ½è¿›å…¥ä¸´ç•ŒåŒºï¼›è‹¥æœ‰è¿›ç¨‹åœ¨ä¸´ç•ŒåŒºï¼Œåˆ™å¾ªç¯æ£€æŸ¥ï¼Œç›´åˆ°è¿›ç¨‹é€€å‡ºã€‚<br />
è¿™æ ·çš„æ–¹æ³•ä¾æ—§è®©å…¶ä»–è¿›ç¨‹ä¼šå¿™ç­‰å¾…<br />
Swapç±»ä¼¼TSL(Test and Set Lock),åªæ˜¯æ”¹ç”¨äº¤æ¢çš„æ–¹å¼æ£€æŸ¥æ ‡å¿—</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a>boolean TestAndSet(boolean *lock) &#123;<span class="co">//åŸå­æŒ‡ä»¤,è®¾ç½®æŸä¸ªæ ‡å¿—ä¸ºçœŸï¼Œå¹¶è¯»å‡ºæ—§æ ‡å¿—  </span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true"></a>    boolean old;  </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true"></a>    old=*lock;  </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true"></a>    *lock=<span class="kw">true</span>;  </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true"></a>    <span class="cf">return</span> old;  </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true"></a>&#125;  </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true"></a>  </span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true"></a>Swap(boolean *a, boolean *b) &#123;  </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true"></a>    boolean temp;  </span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true"></a>    temp=*a;  </span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true"></a>    *a=*b; .  </span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true"></a>    *b=temp;  </span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true"></a>&#125;  </span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true"></a>  </span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true"></a><span class="co">//testandsetå®ç°äº’æ–¥  </span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true"></a><span class="cf">while</span> TestAndSet(&amp;lock) ;  </span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true"></a><span class="co">//è¿›ç¨‹çš„ä¸´ç•ŒåŒºä»£ç æ®µï¼›  </span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true"></a>lock=<span class="kw">false</span>;  </span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true"></a><span class="co">//è¿›ç¨‹çš„å…¶ä»–ä»£ç ï¼›  </span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true"></a>  </span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true"></a><span class="co">//ç”¨swapå®ç°äº’æ–¥  </span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true"></a><span class="dt">bool</span> key=<span class="kw">true</span>;  </span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true"></a><span class="cf">while</span>(key!=<span class="kw">false</span>) Swap(&amp;lock, &amp;key);  </span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true"></a><span class="co">//è¿›ç¨‹çš„ä¸´ç•ŒåŒºä»£ç æ®µï¼›  </span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true"></a>lock=<span class="kw">false</span>;  </span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true"></a><span class="co">//è¿›ç¨‹çš„å…¶ä»–ä»£ç ï¼›  </span></span></code></pre></div>
<p><strong>ç¡¬ä»¶å®ç°çš„ä¼˜ç‚¹</strong></p>
<ul>
<li>é€‚ç”¨äºä»»æ„æ•°ç›®çš„è¿›ç¨‹ï¼Œè€Œä¸ç®¡æ˜¯å•å¤„ç†æœºè¿˜æ˜¯å¤šå¤„ç†æœºï¼›<br />
</li>
<li>ç®€å•ã€å®¹æ˜“éªŒè¯å…¶æ­£ç¡®æ€§ã€‚<br />
</li>
<li>å¯ä»¥æ”¯æŒè¿›ç¨‹å†…æœ‰å¤šä¸ªä¸´ç•ŒåŒºï¼Œåªéœ€ä¸ºæ¯ä¸ªä¸´ç•ŒåŒºè®¾ç«‹ä¸€ä¸ªå¸ƒå°”å˜é‡</li>
</ul>
<p><strong>ç¡¬ä»¶å®ç°çš„ç¼ºç‚¹</strong></p>
<ul>
<li>è¿›ç¨‹ç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒºæ—¶è¦è€—è´¹å¤„ç†æœºæ—¶é—´ï¼Œä¸èƒ½å®ç°è®©æƒç­‰å¾…ã€‚<br />
</li>
<li>ä»ç­‰å¾…è¿›ç¨‹ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªè¿›å…¥ä¸´ç•ŒåŒºï¼Œæœ‰çš„è¿›ç¨‹å¯èƒ½ä¸€ç›´é€‰ä¸ä¸Šï¼Œä»è€Œå¯¼è‡´"é¥¥é¥¿â€ç°è±¡</li>
</ul>
<h3 id="äº’æ–¥é”">äº’æ–¥é”</h3>
<p>è§£å†³ä¸´ç•Œé—®é¢˜çš„æœ‰æ•ˆæœºåˆ¶æ˜¯<code>äº’æ–¥é”</code>ï¼Œè¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒºå‰å¾—åˆ°é”ï¼Œé€€å‡ºæ—¶é‡Šæ”¾é”</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a>acquire()&#123;<span class="co">//åŸå­  </span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true"></a>    <span class="cf">while</span>(!available); <span class="co">//å¿™ç­‰å¾…  </span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true"></a>    available=<span class="kw">false</span>; <span class="co">//è·å¾—é”  </span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true"></a>    &#125;  </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true"></a>release()&#123;<span class="co">//åŸå­  </span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true"></a>    available=<span class="kw">true</span>; <span class="co">//é‡Šæ”¾é”  </span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true"></a>&#125;  </span></code></pre></div>
<p>é€‚ç”¨äºå¤šå¤„ç†å™¨ç³»ç»Ÿï¼Œä¸é€‚ç”¨äºå•å¤„ç†å™¨ï¼Œè¿™ç§éœ€è¦å¿™ç­‰å¾…çš„é”ç§°ä¸ºè‡ªæ—‹é”ï¼Œé€šå¸¸ç¡¬ä»¶å®ç°ï¼ŒTSLä¹Ÿæ˜¯æ­¤ç±»<br />
ä»¥ä¸Šæ‰€æœ‰æ–¹æ³•éƒ½æ— æ³•å®ç°è®©æƒç­‰å¾…ï¼Œå› æ­¤éœ€è¦ä¿¡å·é‡æœºåˆ¶</p>
<h3 id="ä¿¡å·é‡">ä¿¡å·é‡</h3>
<p>å¦ä¸€ç§æœ‰æ•ˆæœºåˆ¶æ˜¯ä¿¡å·é‡,å®ƒåªèƒ½è¢«ä¸¤ä¸ªæ ‡å‡†çš„åŸè¯­wait(P)å’Œsignal(S)è®¿é—®ï¼Œä¹Ÿå¯è®°ä¸ºâ€œPæ“ä½œâ€å’Œ"Væ“ä½œâ€(é¦–å­—æ¯æ¥æºäºè·å…°è¯­)<br />
<a target="_blank" rel="noopener" href="https://zhouhaoran.notion.site/9a9a88d8d507460690d12220cfb74fc0">ä¿¡å·é‡ä¾‹é¢˜</a></p>
<h4 id="åˆ†ç±»">åˆ†ç±»</h4>
<ol type="1">
<li>æ•´å‹ä¿¡å·é‡</li>
</ol>
<div class="sourceCode" id="cb11"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a>wait(S)&#123;  </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true"></a>    <span class="cf">while</span>(S&lt;=<span class="dv">0</span>);  </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true"></a>    S=S-<span class="dv">1</span>;  </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true"></a>&#125;  </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true"></a>  </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true"></a>signal(S)&#123;  </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true"></a>    S=S+<span class="dv">1</span>;  </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true"></a>&#125;  </span></code></pre></div>
<p>åªè¦ä¿¡å·é‡S&lt;=0,å°±ä¼šä¸æ–­åœ°å¿™ç­‰å¾…ã€‚å› æ­¤å¹¶æœªéµå¾ªâ€œè®©æƒç­‰å¾…â€çš„å‡†åˆ™ã€‚</p>
<ol start="2" type="1">
<li>è®°å½•å‹ä¿¡å·é‡</li>
</ol>
<p>é™¤äº†éœ€è¦ä¸€ä¸ªç”¨äºä»£è¡¨èµ„æºæ•°ç›®çš„æ•´å‹å˜é‡valueå¤–ï¼Œå†å¢åŠ ä¸€ä¸ªè¿›ç¨‹é“¾è¡¨L,ç”¨äºé“¾æ¥æ‰€æœ‰ç­‰å¾…è¯¥èµ„æºçš„è¿›ç¨‹</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a><span class="kw">typedef</span> <span class="kw">struct</span>&#123;  </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true"></a><span class="dt">int</span> value;  </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true"></a><span class="kw">struct</span> process *L;  </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true"></a>&#125; semaphore;  </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true"></a>  </span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true"></a><span class="dt">void</span> wait (semaphore S) &#123; <span class="co">//ç›¸å½“äºç”³è¯·èµ„æº  </span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true"></a>    S.value--;  </span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true"></a>    <span class="cf">if</span>(S.value&lt;<span class="dv">0</span>) &#123;  </span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true"></a>    <span class="co">//add this process to S.L;  </span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true"></a>    block(S.L);  </span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true"></a>    &#125;  </span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true"></a>&#125;  </span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true"></a><span class="dt">void</span> signal (semaphore S) &#123; <span class="co">//ç›¸å½“äºé‡Šæ”¾èµ„æº  </span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true"></a>    S.value ++;  </span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true"></a>    <span class="cf">if</span> (S. value&lt;=<span class="dv">0</span>) &#123;  </span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true"></a>    <span class="co">//remove a process P from S.L;  </span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true"></a>    wakeup(P);  </span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true"></a>    &#125;  </span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true"></a>&#125;  </span></code></pre></div>
<p>è¿™æ ·ä¸€æ¥ä¿¡å·é‡çš„valueå€¼ï¼Œè‹¥æ˜¯è‡ªç„¶æ•°è¡¨ç¤ºå‰©ä½™èµ„æºï¼Œè‹¥æ˜¯è´Ÿæ•°ï¼Œå…¶ç»å¯¹å€¼å°±æ˜¯é˜»å¡çš„è¿›ç¨‹æ•°é‡</p>
<h4 id="åŸºäºä¿¡å·é‡çš„åŒæ­¥">åŸºäºä¿¡å·é‡çš„åŒæ­¥</h4>
<div class="sourceCode" id="cb13"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a>semaphore S=<span class="dv">0</span>; <span class="co">//åˆå§‹åŒ–ä¿¡å·é‡  </span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true"></a>P1() &#123;  </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true"></a>    <span class="co">//å…¶ä»–  </span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true"></a>    x;  </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true"></a>    V(S);<span class="co">//å‘Šè¯‰è¿›ç¨‹P2,è¯­å¥xå·³ç»å®Œæˆ  </span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true"></a>    <span class="co">//å…¶ä»–  </span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true"></a>&#125;  </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true"></a>  </span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true"></a>P2() &#123;  </span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true"></a>    <span class="co">//å…¶ä»–æ“ä½œ  </span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true"></a>    P(S);<span class="co">//æ£€æŸ¥è¯­å¥xæ˜¯å¦è¿è¡Œå®Œæˆ  </span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true"></a>    y;<span class="co">//æ£€æŸ¥æ— è¯¯ï¼Œè¿è¡Œyè¯­å¥  </span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true"></a>    <span class="co">//å…¶ä»–  </span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true"></a>&#125;  </span></code></pre></div>
<p>yæƒ³è¦è¿è¡Œå¿…é¡»å¾—åˆ°Xé‡Šæ”¾çš„ä¿¡å·é‡ï¼Œç”±æ­¤å®ç°äº†åŒæ­¥</p>
<h4 id="ä¿¡å·é‡å®ç°äº’æ–¥">ä¿¡å·é‡å®ç°äº’æ–¥</h4>
<div class="sourceCode" id="cb14"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a>semaphore S=<span class="dv">1</span>; <span class="co">//åˆå§‹åŒ–ä¿¡å·é‡  </span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true"></a>P1() &#123;  </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true"></a>    <span class="co">//å…¶ä»–  </span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true"></a>    P(S);<span class="co">//åŠ é”  </span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true"></a>    <span class="co">//ä¸´ç•ŒåŒº  </span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true"></a>    V(S);<span class="co">//è§£é”  </span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true"></a>    <span class="co">//å…¶ä»–  </span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true"></a>&#125;  </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true"></a>  </span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true"></a>P2() &#123;  </span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true"></a>    <span class="co">//å…¶ä»–æ“ä½œ  </span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true"></a>    P(S);<span class="co">//åŠ é”  </span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true"></a>    <span class="co">//ä¸´ç•ŒåŒº  </span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true"></a>    V(S);<span class="co">//è®¿é—®ç»“æŸï¼Œè§£é”  </span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true"></a>    <span class="co">//å…¶ä»–  </span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true"></a>&#125;  </span></code></pre></div>
<p>å½“æ²¡æœ‰è¿›ç¨‹åœ¨ä¸´ç•ŒåŒºæ—¶ï¼Œä»»æ„ä¸€ä¸ªè¿›ç¨‹è¦è¿›å…¥ä¸´ç•ŒåŒºï¼Œå°±è¦æ‰§è¡ŒPæ“ä½œï¼ŒæŠŠSçš„å€¼å‡ä¸º0,ç„¶åè¿›å…¥ä¸´ç•ŒåŒºï¼›å½“æœ‰è¿›ç¨‹å­˜åœ¨äºä¸´ç•ŒåŒºæ—¶ï¼ŒSçš„å€¼ä¸º0,å†æœ‰è¿›ç¨‹è¦è¿›å…¥ä¸´ç•ŒåŒºï¼Œæ‰§è¡ŒPæ“ä½œæ—¶å°†ä¼šè¢«é˜»å¡ï¼Œç›´è‡³åœ¨ä¸´ç•ŒåŒºä¸­çš„è¿›ç¨‹é€€å‡ºï¼Œè¿™æ ·ä¾¿å®ç°äº†ä¸´ç•ŒåŒºçš„äº’æ–¥ã€‚<br />
äº’æ–¥é—®é¢˜ä¸­ï¼ŒP, Væ“ä½œè¦ç´§å¤¹ä½¿ç”¨äº’æ–¥èµ„æºçš„é‚£ä¸ªè¡Œä¸ºï¼Œä¸­é—´ä¸èƒ½æœ‰å…¶ä»–å†—ä½™ä»£ç ã€‚</p>
<h4 id="ä¿¡å·é‡å®ç°å‰é©±å…³ç³»">ä¿¡å·é‡å®ç°å‰é©±å…³ç³»</h4>
<div class="sourceCode" id="cb15"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a>semaphore a1=a2=b1=b2=c=d=e=<span class="dv">0</span>;  </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true"></a>Sl() &#123; <span class="co">//åˆå§‹åŒ–ä¿¡å·é‡  </span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true"></a>    <span class="co">//å…¶ä»–  </span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true"></a>    V(a1); V(a2); <span class="co">//S1å·²ç»è¿è¡Œå®Œæˆ  </span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true"></a>&#125;  </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true"></a>S2() &#123;  </span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true"></a>    P(a1); <span class="co">//æ£€æŸ¥S1æ˜¯å¦è¿è¡Œå®Œæˆ  </span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true"></a>    <span class="co">//å…¶ä»–  </span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true"></a>    V(b1);V(b2); <span class="co">//S2å·²ç»è¿è¡Œå®Œæˆ  </span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true"></a>&#125;  </span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true"></a>S3() &#123;  </span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true"></a>    P(a2); <span class="co">//æ£€æŸ¥S1æ˜¯å¦å·±ç»è¿è¡Œå®Œæˆ  </span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true"></a>    <span class="co">//å…¶ä»–  </span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true"></a>    V(c); <span class="co">//S3å·±ç»è¿è¡Œå®Œæˆ  </span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true"></a>&#125;  </span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true"></a>S4() &#123;  </span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true"></a>    P(b1); <span class="co">//æ£€æŸ¥S2æ˜¯å¦å·²ç»è¿è¡Œå®Œæˆ  </span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true"></a>    <span class="co">//å…¶ä»–  </span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true"></a>    v(d); <span class="co">//S4å·²ç»è¿è¡Œå®Œæˆ  </span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true"></a>&#125;  </span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true"></a>S5() &#123;  </span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true"></a>    P(b2); <span class="co">//æ£€æŸ¥S2æ˜¯å¦å·²ç»è¿è¡Œå®Œæˆ  </span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true"></a>    <span class="co">//å…¶ä»–  </span></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true"></a>    V(e); <span class="co">//S5å·²ç»è¿è¡Œå®Œæˆ  </span></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true"></a>&#125;  </span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true"></a>S6() &#123;  </span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true"></a>    P(c); <span class="co">//æ£€æŸ¥S3æ˜¯å¦å·²ç»è¿è¡Œå®Œæˆ  </span></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true"></a>    P(d); <span class="co">//æ£€æŸ¥S4æ˜¯å¦å·²ç»è¿è¡Œå®Œæˆ  </span></span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true"></a>    P(e); <span class="co">//æ£€æŸ¥S5æ˜¯å¦å·²ç»è¿è¡Œå®Œæˆ  </span></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true"></a>    <span class="co">//å…¶ä»–  </span></span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true"></a>&#125;  </span></code></pre></div>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œäº’æ–¥æ“ä½œæ˜¯å…ˆPåœ¨Vï¼ŒåŒæ­¥æ—¶ï¼Œå‰é¢çš„è¿›ç¨‹å…ˆVï¼Œåé¢çš„è¿›ç¨‹Pæ“ä½œæ‰ä¸ä¼šé˜»å¡</p>
<h3 id="ç®¡ç¨‹">ç®¡ç¨‹</h3>
<div class="note info"><p>åˆ©ç”¨å…±äº«æ•°æ®ç»“æ„æŠ½è±¡åœ°è¡¨ç¤ºç³»ç»Ÿä¸­çš„å…±äº«èµ„æºï¼Œè€ŒæŠŠå¯¹è¯¥æ•°æ®ç»“æ„å®æ–½çš„æ“ä½œå®šä¹‰ä¸ºä¸€ç»„è¿‡ç¨‹ã€‚è¿›ç¨‹å¯¹å…±äº«èµ„æºçš„ç”³è¯·ã€é‡Šæ”¾ç­‰æ“ä½œï¼Œéƒ½é€šè¿‡è¿™ç»„è¿‡ç¨‹æ¥å®ç°ï¼Œè¿™ç»„è¿‡ç¨‹è¿˜å¯ä»¥æ ¹æ®èµ„æºæƒ…å†µï¼Œæˆ–æ¥å—æˆ–é˜»å¡è¿›ç¨‹çš„è®¿é—®ï¼Œç¡®ä¿æ¯æ¬¡ä»…æœ‰ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨å…±äº«èµ„æºï¼Œè¿™æ ·å°±å¯ä»¥ç»Ÿä¸€ç®¡ç†å¯¹å…±äº«èµ„æºçš„æ‰€æœ‰è®¿é—®ï¼Œå®ç°è¿›ç¨‹äº’æ–¥ã€‚è¿™ä¸ªä»£è¡¨å…±äº«èµ„æºçš„æ•°æ®ç»“æ„ï¼Œä»¥åŠç”±å¯¹è¯¥å…±äº«æ•°æ®ç»“æ„å®æ–½æ“ä½œçš„ä¸€ç»„è¿‡ç¨‹æ‰€ç»„æˆçš„èµ„æºç®¡ç†ç¨‹åºï¼Œç§°ä¸º<code>ç®¡ç¨‹(monitor)</code>ã€‚</p>
</div>
<p>ç®¡ç¨‹çš„ç‰¹æ€§ä¿è¯äº†è¿›ç¨‹äº’æ–¥ï¼Œæ— é¡»ç¨‹åºå‘˜è‡ªå·±å®ç°äº’æ–¥ï¼Œä»è€Œé™ä½äº†æ­»é”å‘ç”Ÿçš„å¯èƒ½æ€§ã€‚åŒæ—¶ç®¡ç¨‹æä¾›äº†æ¡ä»¶å˜é‡ï¼Œå¯ä»¥è®©ç¨‹åºå‘˜çµæ´»åœ°å®ç°è¿›ç¨‹åŒæ­¥ã€‚<br />
<strong>ç®¡ç¨‹çš„ç»„æˆ</strong>:</p>
<ol type="1">
<li>åç§°<br />
</li>
<li>ç®¡ç¨‹å†…éƒ¨çš„å…±äº«æ•°æ®ç»“æ„è¯´æ˜<br />
</li>
<li>å¯¹è¯¥æ•°æ®ç»“æ„æ“ä½œçš„ä¸€ç»„è¿‡ç¨‹<br />
</li>
<li>å¯¹ç®¡ç¨‹å†…éƒ¨å…±äº«æ•°æ®è®¾ç½®åˆå€¼çš„è¯­å¥</li>
</ol>
<div class="sourceCode" id="cb16"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a>monitor Demo&#123; <span class="co">//1.å®šä¹‰ä¸€ä¸ªåç§°ä¸ºâ€œDemoâ€çš„ç®¡ç¨‹  </span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true"></a>    <span class="co">//2.å®šä¹‰å…±äº«æ•°æ®ç»“æ„ï¼Œå¯¹åº”ç³»ç»Ÿä¸­çš„æŸç§å…±äº«èµ„æº  </span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true"></a>    <span class="co">//å…±äº«æ•°æ®ç»“æ„ S;  </span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true"></a>    <span class="co">//4.å¯¹å…±äº«æ•°æ®ç»“æ„åˆå§‹åŒ–çš„è¯­å¥  </span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true"></a>    init_code() &#123;  </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true"></a>        S=<span class="dv">5</span>; <span class="co">//åˆå§‹èµ„æºæ•°ç­‰äº5  </span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true"></a>    &#125;  </span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true"></a>    <span class="co">//3.è¿‡ç¨‹1:ç”³è¯·ä¸€ä¸ªèµ„æº  </span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true"></a>    take_away()&#123;  </span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true"></a>        å¯¹å…±äº«æ•°æ®ç»“æ„xçš„ä¸€ç³»åˆ—å¤„ç†ï¼›  </span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true"></a>        S --; <span class="co">//å¯ç”¨èµ„æºæ•°-1  </span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true"></a>        <span class="co">//å…¶ä»–  </span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true"></a>    &#125;  </span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true"></a>    <span class="co">//3.è¿‡ç¨‹2ï¼›å½’è¿˜ä¸€ä¸ªèµ„æº  </span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true"></a>    give_back() &#123;  </span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true"></a>        <span class="co">//å¯¹å…±äº«æ•°æ®ç»“æ„xçš„ä¸€ç³»åˆ—å¤„ç†ï¼›  </span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true"></a>        S++; <span class="co">//å¯ç”¨èµ„æºæ•°+1  </span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true"></a>        <span class="co">//å…¶ä»–  </span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true"></a>    &#125;  </span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true"></a>&#125;  </span></code></pre></div>
<ul>
<li>ä¸€ä¸ªè¿›ç¨‹åªæœ‰é€šè¿‡è°ƒç”¨ç®¡ç¨‹å†…çš„è¿‡ç¨‹æ‰èƒ½è¿›å…¥ç®¡ç¨‹è®¿é—®å…±äº«èµ„æº<br />
</li>
<li>æ¯æ¬¡åªå…è®¸ä¸€ä¸ªè¿›ç¨‹è¿›å…¥ç®¡ç¨‹ï¼Œå¦‚æœå¤šä¸ªè¿›ç¨‹æƒ³è¿›å…¥ï¼Œåªèƒ½ä¾æ¬¡è¿›è¡Œ</li>
</ul>
<p><strong>æ¡ä»¶å˜é‡</strong><br />
å°†é˜»å¡åŸå› å®šä¹‰ä¸ºæ¡ä»¶å˜é‡conditionï¼Œåœ¨ç®¡ç¨‹ä¸­è®¾ç½®äº†å¤šä¸ªæ¡ä»¶å˜é‡ã€‚æ¯ä¸ªæ¡ä»¶å˜é‡ä¿å­˜äº†ä¸€ä¸ªç­‰å¾…é˜Ÿåˆ—ï¼Œç”¨äºè®°å½•å› è¯¥æ¡ä»¶å˜é‡è€Œé˜»å¡çš„æ‰€æœ‰è¿›ç¨‹ï¼Œå¯¹æ¡ä»¶å˜é‡åªèƒ½è¿›è¡Œä¸¤ç§æ“ä½œï¼Œå³waitå’ŒsignaL<br />
x.waitï¼šå½“xå¯¹åº”çš„æ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œæ­£åœ¨è°ƒç”¨ç®¡ç¨‹çš„è¿›ç¨‹è°ƒç”¨x.waitå°†è‡ªå·±æ’å…¥xæ¡ä»¶çš„ç­‰å¾…é˜Ÿåˆ—ï¼Œå¹¶é‡Šæ”¾ç®¡ç¨‹ã€‚æ­¤æ—¶å…¶ä»–è¿›ç¨‹å¯ä»¥ä½¿ç”¨è¯¥ç®¡ç¨‹ã€‚<br />
x.signalï¼š xå¯¹åº”çš„æ¡ä»¶å‘ç”Ÿäº†å˜åŒ–ï¼Œåˆ™è°ƒç”¨x.signal,å”¤é†’ä¸€ä¸ªå› xæ¡ä»¶è€Œé˜»å¡çš„è¿›ç¨‹</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a>monitor Demo &#123;  </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true"></a>    <span class="co">//å…±äº«æ•°æ®ç»“æ„S;  </span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true"></a>    condition x; <span class="co">//å®šä¹‰ä¸€ä¸ªæ¡ä»¶å˜é‡x  </span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true"></a>    init_code()&#123;<span class="co">/*å…¶ä»–*/</span> &#125;  </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true"></a>    take_away()&#123;  </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true"></a>        <span class="cf">if</span> (S&lt;=<span class="dv">0</span>) x.wait (); <span class="co">//èµ„æºä¸å¤Ÿï¼Œåœ¨æ¡ä»¶å˜é‡xä¸Šé˜»å¡ç­‰å¾…  </span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true"></a>        <span class="co">//èµ„æºè¶³å¤Ÿï¼Œåˆ†é…èµ„æºï¼Œåšä¸€ç³»åˆ—ç›¸åº”å¤„ç†ï¼š  </span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true"></a>    &#125;  </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true"></a>    give_back() &#123;  </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true"></a>        <span class="co">//å½’è¿˜èµ„æºï¼Œåšä¸€ç³»åˆ—ç›¸åº”å¤„ç†ï¼›  </span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true"></a>        <span class="cf">if</span> (<span class="co">/*æœ‰è¿›ç¨‹åœ¨ç­‰å¾…*/) x.signal () ;//å”¤é†’ä¸€ä¸ªé˜»å¡è¿›ç¨‹  </span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true"></a><span class="co">    &#125;  </span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true"></a><span class="co">&#125;  </span></span></code></pre></div>
<p>ä¸ä¿¡å·é‡ä¸åŒçš„æ˜¯ï¼Œæ¡ä»¶å˜é‡ä¸éœ€è¦è®°å½•å‰©ä½™èµ„æºæ•°ï¼Œè¿™ä¸ªéƒ¨åˆ†ç”±ç®¡ç¨‹çš„å…±äº«æ•°æ®ç»“æ„è®°å½•</p>
<h3 id="åŒæ­¥é—®é¢˜å®ä¾‹">åŒæ­¥é—®é¢˜å®ä¾‹</h3>
<h4 id="ç”Ÿäº§è€…-æ¶ˆè´¹è€…">ç”Ÿäº§è€…-æ¶ˆè´¹è€…</h4>
<p>ä¸€ç»„ç”Ÿäº§è€…è¿›ç¨‹å’Œä¸€ç»„æ¶ˆè´¹è€…è¿›ç¨‹å…±äº«ä¸€ä¸ªåˆå§‹ä¸ºç©ºã€å¤§å°ä¸ºnçš„ç¼“å†²åŒºï¼Œåªæœ‰ç¼“å†²åŒºæ²¡æ»¡æ—¶ï¼Œç”Ÿäº§è€…æ‰èƒ½æŠŠæ¶ˆæ¯æ”¾å…¥ç¼“å†²åŒºï¼Œå¦åˆ™å¿…é¡»ç­‰å¾…ï¼›åªæœ‰ç¼“å†²åŒºä¸ç©ºæ—¶ï¼Œæ¶ˆè´¹è€…æ‰èƒ½ä»ä¸­å–å‡ºæ¶ˆæ¯ï¼Œå¦åˆ™å¿…é¡»ç­‰å¾…ã€‚ç”±äºç¼“å†²åŒºæ˜¯ä¸´ç•Œèµ„æºï¼›å®ƒåªå…è®¸ä¸€ä¸ªç”Ÿäº§è€…æ”¾å…¥æ¶ˆæ¯ï¼Œæˆ–ä¸€ä¸ªæ¶ˆè´¹è€…ä»ä¸­å–å‡ºæ¶ˆæ¯ã€‚</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true"></a>semaphore mutex=<span class="dv">1</span>; <span class="co">//ä¸´ç•ŒåŒºäº’æ–¥ä¿¡å·é‡  </span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true"></a>semaphore empty=n;<span class="co">//ç©ºé—²ç¼“å†²åŒº  </span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true"></a>semaphore full=O;<span class="co">//ç¼“å†²åŒºåˆå§‹åŒ–ä¸ºç©º  </span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true"></a><span class="co">/*ä¿¡å·é‡mutexä½œä¸ºäº’æ–¥ä¿¡å·é‡ï¼Œç”¨äºæ§åˆ¶äº’æ–¥è®¿é—®ç¼“å†²æ± ï¼Œäº’æ–¥ä¿¡å·é‡åˆå€¼ä¸º1;ä¿¡å·é‡fullç”¨äºè®°å½•å½“å‰ç¼“å†²æ± ä¸­çš„æ»¡ç¼“å†²åŒºæ•°ï¼Œåˆå€¼ä¸º0ã€‚ä¿¡å·é‡emptyç”¨äºè®°å½•å½“å‰ç¼“å†²æ± ä¸­çš„ç©ºç¼“å†²åŒºæ•°ï¼Œåˆå€¼ä¸ºn*/</span>  </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true"></a>producer() &#123;<span class="co">//ç”Ÿäº§è€…è¿›ç¨‹  </span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true"></a>    <span class="cf">while</span> (<span class="dv">1</span>) &#123;  </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true"></a>        <span class="co">//produce an item in nextp;ç”Ÿäº§æ•°æ®  </span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true"></a>        P (empty);<span class="co">//è·å–ç©ºç¼“å†²åŒºå•å…ƒ  </span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true"></a>        P (mutex);<span class="co">//è¿›å…¥ä¸´ç•ŒåŒº  </span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true"></a>        <span class="co">//add nextp to buffer;//å°†æ•°æ®æ”¾å…¥ç¼“å†²åŒº  </span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true"></a>        V (mutex);<span class="co">//ç¦»å¼€ä¸´ç•ŒåŒºï¼Œé‡Šæ”¾äº’æ–¥ä¿¡å·é‡  </span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true"></a>        V(full);<span class="co">//æ»¡ç¼“å†²åŒºæ•°åŠ 1  </span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true"></a>    &#125;  </span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true"></a>&#125;  </span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true"></a>  </span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true"></a>consumer() &#123;<span class="co">//æ¶ˆè´¹è€…è¿›ç¨‹  </span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true"></a>    <span class="cf">while</span>(<span class="dv">1</span>)&#123;  </span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true"></a>        P(full);<span class="co">//è·å–æ»¡ç¼“å†²åŒºå•å…ƒ  </span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true"></a>        P(mutex);<span class="co">//è¿›å…¥ä¸´ç•ŒåŒº  </span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true"></a>        <span class="co">//remove an item from buffer;ä»ç¼“å†²åŒºä¸­å–å‡ºæ•°æ®  </span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true"></a>        V(mutex);<span class="co">//ç¦»å¼€ä¸´ç•ŒåŒºï¼Œé‡Šæ”¾äº’æ–¥ä¿¡å·é‡  </span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true"></a>        V(empty);<span class="co">//ç©ºç¼“å†²åŒºæ•°åŠ 1  </span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true"></a>        consume the item;<span class="co">//æ¶ˆè´¹æ•°æ®  </span></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true"></a>    &#125;  </span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true"></a>&#125;  </span></code></pre></div>
<p>å¿…é¡»ç¡®ä¿å…ˆè·å–ä¸€ä¸ªç¼“å†²åŒºå•å…ƒå†è¿›å…¥ä¸´ç•ŒåŒºï¼Œå¦åˆ™ç¼“å†²åŒºæ»¡æ—¶ï¼Œç”±äºä¸´ç•ŒåŒºå·²ç»é”ä½ï¼Œåªèƒ½æ— é™ç­‰å¾…å¯¹æ–¹é‡Šæ”¾ç©º/æ»¡ç¼“å†²åŒºï¼Œé™·å…¥æ­»é”</p>
<p><strong>æ›´å¤æ‚çš„å˜ç§</strong>ï¼š</p>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231212105100.png" /><br />
æ¡Œå­ä¸Šæœ‰ä¸€ä¸ªç›˜å­ï¼Œæ¯æ¬¡åªèƒ½å‘å…¶ä¸­æ”¾å…¥ä¸€ä¸ªæ°´æœã€‚çˆ¸çˆ¸ä¸“å‘ç›˜å­ä¸­æ”¾è‹¹æœï¼Œå¦ˆå¦ˆä¸“å‘ç›˜å­ä¸­æ”¾æ©˜å­ï¼Œå„¿å­ä¸“ç­‰åƒç›˜å­ä¸­çš„æ©˜å­ï¼Œå¥³å„¿ä¸“ç­‰åƒç›˜å­ä¸­çš„è‹¹æœã€‚åªæœ‰ç›˜å­ä¸ºç©ºæ—¶ï¼Œçˆ¸çˆ¸æˆ–å¦ˆå¦ˆæ‰å¯å‘ç›˜å­ä¸­æ”¾ä¸€ä¸ªæ°´æœï¼›ä»…å½“ç›˜å­ä¸­æœ‰è‡ªå·±éœ€è¦çš„æ°´æœæ—¶ï¼Œå„¿å­æˆ–å¥³å„¿å¯ä»¥ä»ç›˜å­ä¸­å–å‡º<br />
ä¸¤ä¸ªç”Ÿäº§è€…å’Œä¸¤ä¸ªæ¶ˆè´¹è€…è¢«è¿æ¥åˆ°å¤§å°ä¸º1çš„ç¼“å†²åŒºä¸Šã€‚çˆ¸çˆ¸å¦ˆå¦ˆäº’æ–¥ï¼Œçˆ¸çˆ¸å¥³å„¿ï¼Œå¦ˆå¦ˆå„¿å­æ˜¯åŒæ­¥å…³ç³»</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a>semaphore plate=<span class="dv">1</span>, apple=<span class="dv">0</span>, orange=<span class="dv">0</span>;  </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true"></a><span class="co">/*é¦–å…ˆå°†ä¿¡å·é‡plateè®¾ç½®äº’æ–¥ä¿¡å·é‡ï¼Œè¡¨ç¤ºæ˜¯å¦å…è®¸å‘ç›˜å­æ”¾å…¥æ°´æœ,åˆå€¼ä¸º1è¡¨ç¤ºå…è®¸æ”¾å…¥ï¼Œä¸”åªå…è®¸æ”¾å…¥ä¸€ä¸ªã€‚  </span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true"></a><span class="co">ä¿¡å·é‡appleè¡¨ç¤ºç›˜å­ä¸­æ˜¯å¦æœ‰è‹¹æœï¼Œåˆå€¼ä¸º0è¡¨ç¤ºç›˜å­ä¸ºç©ºï¼Œä¸è®¸å–ï¼Œapple=1è¡¨ç¤ºå¯ä»¥å–ã€‚  </span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true"></a><span class="co">ä¿¡å·é‡orangeè¡¨ç¤ºç›˜å­ä¸­æ˜¯å¦æœ‰æ©˜å­ï¼Œåˆå€¼ä¸º0è¡¨ç¤ºç›˜å­ä¸ºç©ºï¼Œä¸è®¸å–ï¼Œorange = 1è¡¨ç¤ºå¯ä»¥å–ã€‚*/</span>  </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true"></a>dad () &#123; <span class="co">//çˆ¶äº²è¿›ç¨‹  </span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true"></a>    <span class="cf">while</span> (<span class="dv">1</span>) &#123;  </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true"></a>        <span class="co">//prepare an apple;  </span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true"></a>        P(plate); <span class="co">//äº’æ–¥å‘ç›˜ä¸­å–ã€æ”¾æ°´æœ  </span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true"></a>        <span class="co">//put the apple on the plate; //å‘ç›˜ä¸­æ”¾è‹¹æœ  </span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true"></a>        V(apple); <span class="co">//å…è®¸å–è‹¹æœ  </span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true"></a>    &#125;  </span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true"></a>&#125;  </span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true"></a>mom() &#123; <span class="co">//æ¯äº²è¿›ç¨‹  </span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true"></a>    <span class="cf">while</span> (<span class="dv">1</span>) &#123;  </span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true"></a>        <span class="co">//prepare an orange;  </span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true"></a>        P(plate); <span class="co">//äº’æ–¥å‘ç›˜ä¸­å–ã€æ”¾æ°´æœ  </span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true"></a>        <span class="co">//put the orange on the plate; //å‘ç›˜ä¸­æ”¾æ©˜å­  </span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true"></a>        V(orange); <span class="co">//å…è®¸å–æ©˜å­  </span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true"></a>    &#125;  </span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true"></a>&#125;  </span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true"></a>son() &#123; <span class="co">//å„¿å­è¿›ç¨‹  </span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true"></a>    <span class="cf">while</span>(<span class="dv">1</span>) &#123;  </span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true"></a>        P(orange); <span class="co">//äº’æ–¥å‘ç›˜ä¸­å–æ©˜å­  </span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true"></a>        <span class="co">//take an orange from the plate;  </span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true"></a>        V(plate); <span class="co">//å…è®¸å‘ç›˜ä¸­å–ã€æ”¾æ°´æœ  </span></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true"></a>        <span class="co">//eat the orange;  </span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true"></a>    &#125;  </span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true"></a>&#125;  </span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true"></a>daughter() &#123;<span class="co">//å¥³å„¿è¿›ç¨‹  </span></span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true"></a>    <span class="cf">while</span>(<span class="dv">1</span>) &#123;  </span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true"></a>        P(apple); <span class="co">//äº’æ–¥å‘ç›˜ä¸­å–è‹¹æœ  </span></span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true"></a>        <span class="co">//take an apple from the plate;  </span></span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true"></a>        V(plate); <span class="co">//å…è®¸å‘ç›˜ä¸­å–ã€æ”¾æ°´æœ  </span></span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true"></a>        <span class="co">//eat the orange;  </span></span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true"></a>    &#125;  </span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true"></a>&#125;  </span></code></pre></div>
<h4 id="è¯»è€…-å†™è€…é—®é¢˜">è¯»è€…-å†™è€…é—®é¢˜</h4>
<p>æœ‰è¯»è€…å’Œå†™è€…ä¸¤ç»„å¹¶å‘è¿›ç¨‹ï¼Œå…±äº«ä¸€ä¸ªæ–‡ä»¶ï¼Œè¯»è¿›ç¨‹å¹¶è¡Œæ‰§è¡Œæ²¡æœ‰é—®é¢˜ï¼Œå†™è¿›ç¨‹å’Œå…¶ä»–è¿›ç¨‹åŒæ—¶è®¿é—®å…±äº«æ•°æ®æ—¶åˆ™å¯èƒ½å¯¼è‡´æ•°æ®ä¸ä¸€è‡´çš„é”™è¯¯ã€‚<br />
<strong>è¦æ±‚</strong>ï¼š</p>
<ul>
<li>å…è®¸å¤šä¸ªè¯»è€…å¯ä»¥åŒæ—¶å¯¹æ–‡ä»¶æ‰§è¡Œè¯»æ“ä½œ<br />
</li>
<li>åªå…è®¸ä¸€ä¸ªå†™è€…å¾€æ–‡ä»¶ä¸­å†™ä¿¡æ¯<br />
</li>
<li>ä»»æ„ä¸€ä¸ªå†™è€…åœ¨å®Œæˆå†™æ“ä½œä¹‹å‰ä¸å…è®¸å…¶ä»–è¯»è€…æˆ–å†™è€…å·¥ä½œ<br />
</li>
<li>å†™è€…æ‰§è¡Œå†™æ“ä½œå‰ï¼Œåº”è®©å·±æœ‰çš„è¯»è€…å’Œå†™è€…å…¨éƒ¨é€€å‡º</li>
</ul>
<div class="sourceCode" id="cb20"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true"></a><span class="dt">int</span> count=<span class="dv">0</span>; <span class="co">//ç”¨äºè®°å½•å½“å‰çš„è¯»è€…æ•°é‡  </span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true"></a>semaphore mutex=<span class="dv">1</span>;<span class="co">//ç”¨äºä¿æŠ¤æ›´æ–°countå˜é‡æ—¶çš„äº’æ–¥   </span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true"></a>semaphore rw=<span class="dv">1</span>;<span class="co">//ç”¨äºä¿è¯è¯»è€…å’Œå†™è€…äº’æ–¥åœ°è®¿é—®æ–‡ä»¶  </span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true"></a>  </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true"></a><span class="dt">void</span> writer() &#123;  </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true"></a>  <span class="cf">while</span> (<span class="dv">1</span>) &#123;  </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true"></a>    P(rw); <span class="co">//äº’æ–¥è®¿é—®å…±äº«æ–‡ä»¶  </span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true"></a>    writing;  </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true"></a>    V(rw);  </span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true"></a>  &#125;  </span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true"></a>&#125;  </span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true"></a>  </span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true"></a><span class="dt">void</span> reader()&#123;<span class="co">//è¯»è€…è¿›ç¨‹   </span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true"></a>  <span class="cf">while</span> (<span class="dv">1</span>) &#123;  </span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true"></a>    P(mutex);<span class="co">//äº’æ–¥è®¿é—®countå˜é‡  </span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true"></a>    <span class="cf">if</span>(count==<span class="dv">0</span>)<span class="co">//äº’æ–¥è®¿é—®countå˜é‡  </span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true"></a>      P(rw);<span class="co">//é˜»æ­¢å†™è¿›ç¨‹å†™    </span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true"></a>    count++; <span class="co">//è¯»è€…è®¡æ•°å™¨åŠ 1  </span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true"></a>    V(mutex); <span class="co">//é‡Šæ”¾äº’æ–¥å˜é‡count  </span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true"></a>    reading; <span class="co">//è¯»å–  </span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true"></a>    P(mutex); <span class="co">//äº’æ–¥è®¿é—®countå˜é‡  </span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true"></a>    count--; <span class="co">//è¯»è€…è®¡æ•°å™¨å‡1    </span></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true"></a>    <span class="cf">if</span>(count==<span class="dv">0</span>) V(rw); <span class="co">//å½“æœ€åä¸€ä¸ªè¯»è¿›ç¨‹è¯»å®Œå…±äº«æ–‡ä»¶åå…è®¸å†™è¿›ç¨‹å†™é‡Šæ”¾äº’æ–¥å˜é‡count  </span></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true"></a>    V(mutex);<span class="co">//é‡Šæ”¾äº’æ–¥å˜é‡count  </span></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true"></a>  &#125;  </span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true"></a>&#125;  </span></code></pre></div>
<p>ä»¥ä¸Šæ˜¯ä¸€ç§è¯»è¿›ç¨‹ä¼˜å…ˆçš„æƒ…å½¢ï¼Œåªè¦è¯»è¿›ç¨‹å­˜åœ¨ï¼Œå°±ä¼šä¸€ç›´é˜»å¡å†™è¿›ç¨‹<br />
è‹¥å¸Œæœ›å†™è¿›ç¨‹ä¼˜å…ˆï¼Œå³å½“æœ‰è¯»è¿›ç¨‹æ­£åœ¨è¯»å…±äº«æ–‡ä»¶æ—¶ï¼Œæœ‰å†™è¿›ç¨‹è¯·æ±‚è®¿é—®ï¼Œè¿™æ—¶åº”ç¦æ­¢åç»­è¯»è¿›ç¨‹çš„è¯·æ±‚ï¼Œç­‰åˆ°å·±åœ¨å…±äº«æ–‡ä»¶çš„è¯»è¿›ç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œç«‹å³è®©å†™è¿›ç¨‹æ‰§è¡Œï¼Œåªæœ‰åœ¨æ— å†™è¿›ç¨‹æ‰§è¡Œçš„æƒ…å†µä¸‹æ‰å…è®¸è¯»è¿›ç¨‹å†æ¬¡è¿è¡Œã€‚å¢åŠ ä¸€ä¸ªä¿¡å·é‡å¹¶åœ¨ä¸Šé¢ç¨‹åºçš„writer,å’Œreaderã€‚å‡½æ•°ä¸­å„å¢åŠ ä¸€å¯¹PVæ“ä½œï¼Œå°±å¯ä»¥å¾—åˆ°å†™è¿›ç¨‹ä¼˜å…ˆçš„è§£å†³ç¨‹åº</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true"></a><span class="dt">int</span> count=<span class="dv">0</span>;<span class="co">//ç”¨äºè®°å½•å½“å‰çš„è¯»è€…æ•°é‡  </span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true"></a>semaphore mutex=<span class="dv">1</span>;  <span class="co">//ç”¨äºä¿æŠ¤æ›´æ–°countå˜é‡æ—¶çš„äº’æ–¥  </span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true"></a>semaphore rw=<span class="dv">1</span>;<span class="co">//ç”¨äºä¿è¯è¯»è€…å’Œå†™è€…äº’æ–¥åœ°è®¿é—®æ–‡ä»¶   </span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true"></a>semaphore w=<span class="dv">1</span>;<span class="co">//ç”¨äºå®ç°â€œå†™ä¼˜å…ˆâ€  </span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true"></a>writer() &#123;<span class="co">//å†™è€…è¿›ç¨‹  </span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true"></a>  <span class="cf">while</span> (<span class="dv">1</span>)&#123;  </span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true"></a>   P(w);<span class="co">//åœ¨æ— å†™è¿›ç¨‹è¯·æ±‚æ—¶è¿›å…¥  </span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true"></a>   P(rw); <span class="co">//äº’æ–¥è®¿é—®å…±äº«æ–‡ä»¶  </span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true"></a>   writing;   </span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true"></a>   V(rw); <span class="co">//é‡Šæ”¾å…±äº«æ–‡ä»¶  </span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true"></a>   V(w); <span class="co">//æ¢å¤å¯¹å…±äº«æ–‡ä»¶çš„è®¿é—®  </span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true"></a>  &#125;  </span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true"></a>&#125;  </span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true"></a>  </span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true"></a><span class="dt">void</span> reader() &#123;<span class="co">//è¯»è€…è¿›ç¨‹  </span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true"></a>  <span class="cf">while</span> (<span class="dv">1</span>) &#123;  </span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true"></a>    P(w); <span class="co">//åœ¨æ— å†™è¿›ç¨‹è¯·æ±‚æ—¶è¿›å…¥  </span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true"></a>    P(mutex); <span class="co">//äº’æ–¥è®¿é—®countå˜é‡  </span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true"></a>    <span class="cf">if</span> (count==<span class="dv">0</span>)<span class="co">//å½“ç¬¬ä¸€ä¸ªè¯»è¿›ç¨‹è¯»å…±äº«æ–‡ä»¶æ—¶  </span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true"></a>        P(rw); <span class="co">//é˜»æ­¢å†™è¿›ç¨‹å†™  </span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true"></a>    count++;<span class="co">//è¯»è€…è®¡æ•°å™¨åŠ 1    </span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true"></a>    V(mutex); <span class="co">//é‡Šæ”¾äº’æ–¥å˜é‡count  </span></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true"></a>    V(w); <span class="co">//æ¢å¤å¯¹å…±äº«æ–‡ä»¶çš„è®¿é—®  </span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true"></a>    reading;<span class="co">//è¯»å–  </span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true"></a>    P(mutex);<span class="co">//äº’æ–¥è®¿é—®countå˜é‡  </span></span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true"></a>    count--;<span class="co">//è¯»è€…è®¡æ•°å™¨å‡1  </span></span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true"></a>    <span class="cf">if</span> (count==<span class="dv">0</span>)<span class="co">//å½“æœ€åä¸€ä¸ªè¯»è¿›ç¨‹è¯»å®Œå…±äº«æ–‡ä»¶  </span></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true"></a>        V(rw);<span class="co">//å…è®¸å†™è¿›ç¨‹å†™  </span></span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true"></a>    V(mutex);<span class="co">//é‡Šæ”¾äº’æ–¥å˜é‡count  </span></span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true"></a>  &#125;  </span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true"></a>&#125;  </span></code></pre></div>
<h4 id="å“²å­¦å®¶è¿›é¤é—®é¢˜">å“²å­¦å®¶è¿›é¤é—®é¢˜</h4>
<p>å½“å“²å­¦å®¶é¥¥é¥¿æ—¶ï¼Œå°è¯•æ‹¿èµ·å·¦ã€å³ä¸¤æ ¹ç­·å­(ä¸€æ ¹ä¸€æ ¹åœ°æ‹¿èµ·)ã€‚è‹¥ç­·å­å·²åœ¨ä»–äººæ‰‹ä¸Šï¼Œåˆ™éœ€è¦ç­‰å¾…ã€‚é¥¥é¥¿çš„å“²å­¦å®¶åªæœ‰åŒæ—¶æ‹¿åˆ°äº†ä¸¤æ ¹ç­·å­æ‰å¯ä»¥å¼€å§‹è¿›é¤ï¼Œè¿›é¤å®Œæ¯•åï¼Œé‡Šæ”¾ç­·å­ã€‚</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true"></a>semaphore chopstick[<span class="dv">5</span>] =&#123;<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>&#125;; <span class="co">//å®šä¹‰ä¿¡å·é‡æ•°ç»„ chopstick[5],å¹¶åˆå§‹åŒ–  </span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true"></a><span class="co">/*å®šä¹‰äº’æ–¥ä¿¡å·é‡æ•°ç»„chopstick[5]=(1, 1, 1, 1, 1),ç”¨äºå¯¹5ä¸ªç­·å­çš„äº’æ–¥è®¿é—®ã€‚å“²å­¦å®¶æŒ‰é¡ºåºç¼–å·ä¸º0ã€œ4,å“²å­¦å®¶iå·¦è¾¹ç­·å­çš„ç¼–å·ä¸ºiï¼Œå“²å­¦å®¶å³è¾¹ç­·å­çš„ç¼–å·ä¸º(i + 1)%5*/</span>  </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true"></a>Pi() &#123;<span class="co">//iå·å“²å­¦å®¶çš„è¿›ç¨‹  </span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true"></a>    <span class="cf">do</span>&#123;  </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true"></a>        P(chopstick[i]); <span class="co">//å–å·¦è¾¹ç­·å­  </span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true"></a>        P(chopstick[(i+<span class="dv">1</span>)%<span class="dv">5</span>]); <span class="co">//å–å³è¾¹ç­·å­  </span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true"></a>        eat(); <span class="co">//è¿›é¤  </span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true"></a>        V (chopstick[i]); <span class="co">//æ”¾å›å·¦è¾¹ç­·å­  </span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true"></a>        V(chopstick[(i+<span class="dv">1</span>)%<span class="dv">5</span>]);<span class="co">//æ”¾å›å³è¾¹ç­·å­  </span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true"></a>        think();  </span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true"></a>    &#125; <span class="cf">while</span>(<span class="dv">1</span>);  </span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true"></a>&#125;  </span></code></pre></div>
<p>è¯¥ç®—æ³•å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼šå½“5åå“²å­¦å®¶éƒ½æƒ³è¦è¿›é¤å¹¶åˆ†åˆ«æ‹¿èµ·å·¦è¾¹çš„ç­·å­æ—¶(éƒ½æ°å¥½æ‰§è¡Œå®Œwait(chopstick[i]);)ç­·å­å·²è¢«æ‹¿å…‰ï¼Œç­‰åˆ°ä»–ä»¬å†æƒ³æ‹¿å³è¾¹çš„ç­·å­æ—¶(æ‰§è¡Œwait(chopstick[(i + 1)%5]);)å°±å…¨è¢«é˜»å¡ï¼Œå› æ­¤å‡ºç°äº†æ­»é”ã€‚<br />
ä¸ºé˜²æ­¢æ­»é”å‘ç”Ÿï¼Œå¯å¯¹å“²å­¦å®¶è¿›ç¨‹æ–½åŠ ä¸€äº›é™åˆ¶æ¡ä»¶ï¼Œ</p>
<ul>
<li>è‡³å¤šå…è®¸4åå“²å­¦å®¶åŒæ—¶è¿›é¤ï¼›<br />
</li>
<li>ä»…å½“ä¸€åå“²å­¦å®¶å·¦å³ä¸¤è¾¹çš„ç­·å­éƒ½å¯ç”¨æ—¶ï¼Œæ‰å…è®¸ä»–æŠ“èµ·ç­·å­(ä»¤å–ä¸¤åªç­·å­è¿™ä¸ªè¡Œä¸ºäº’æ–¥ï¼Œè¿™æ ·åªæœ‰å·¦å³éƒ½æœ‰ç­·å­æ—¶æ‰èƒ½è·å–æˆåŠŸ)ï¼›<br />
</li>
<li>å¯¹å“²å­¦å®¶é¡ºåºç¼–å·ï¼Œè¦æ±‚å¥‡æ•°å·å“²å­¦å®¶å…ˆæ‹¿å·¦è¾¹çš„ç­·å­ï¼Œç„¶åæ‹¿å³è¾¹çš„ç­·å­ï¼Œè€Œå¶æ•°å·å“²å­¦å®¶åˆšå¥½ç›¸åã€‚</li>
</ul>
<div class="sourceCode" id="cb23"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true"></a>semaphore chopstick[<span class="dv">5</span>] = &#123;<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>&#125;;  </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true"></a>semaphore mutex=<span class="dv">1</span>;  </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true"></a>Pi() &#123;<span class="co">//å½“ä¸€åå“²å­¦å®¶å·¦å³ä¸¤è¾¹çš„ç­·å­éƒ½å¯ç”¨æ—¶ï¼Œæ‰å…è®¸ä»–æŠ“èµ·ç­·å­  </span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true"></a>    <span class="cf">do</span>&#123;  </span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true"></a>    P(mutex);<span class="co">//åœ¨å–ç­·å­å‰è·å¾—äº’æ–¥é‡  </span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true"></a>    P(chopstick[i]);  </span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true"></a>    P(chopstick[(i+<span class="dv">1</span>)%<span class="dv">5</span>]);  </span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true"></a>    V(mutex);<span class="co">//é‡Šæ”¾å–ç­·å­çš„ä¿¡å·é‡  </span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true"></a>    eat;  </span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true"></a>    V(chopstick[i]); <span class="co">//æ”¾å›å·¦è¾¹ç­·å­  </span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true"></a>    V(chopstick[ (i+<span class="dv">1</span>) %<span class="dv">5</span>] ) ; <span class="co">//æ”¾å›å³è¾¹ç­·å­  </span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true"></a>    think; <span class="co">//æ€è€ƒ  </span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true"></a>    &#125; <span class="cf">while</span> (<span class="dv">1</span>);  </span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true"></a>&#125;  </span></code></pre></div>
<h4 id="å¸çƒŸé—®é¢˜">å¸çƒŸé—®é¢˜</h4>
<p>å‡è®¾ä¸€ä¸ªç³»ç»Ÿæœ‰ä¸‰ä¸ªæŠ½çƒŸè€…è¿›ç¨‹å’Œä¸€ä¸ªä¾›åº”è€…è¿›ç¨‹ã€‚æ¯ä¸ªæŠ½çƒŸè€…ä¸åœåœ°å·çƒŸå¹¶æŠ½æ‰å®ƒï¼Œä½†è¦å·èµ·å¹¶æŠ½æ‰ä¸€æ”¯çƒŸï¼ŒæŠ½çƒŸè€…éœ€è¦æœ‰ä¸‰ç§ææ–™ï¼šçƒŸè‰ã€çº¸å’Œèƒ¶æ°´ã€‚ä¸‰ä¸ªæŠ½çƒŸè€…ä¸­ï¼Œç¬¬ä¸€ä¸ªæ‹¥æœ‰çƒŸè‰ï¼Œç¬¬äºŒä¸ªæ‹¥æœ‰çº¸ï¼Œç¬¬ä¸‰ä¸ªæ‹¥æœ‰èƒ¶æ°´ã€‚ä¾›åº”è€…è¿›ç¨‹æ— é™åœ°æä¾›ä¸‰ç§ææ–™ï¼Œä¾›åº”è€…æ¯æ¬¡å°†ä¸¤ç§ææ–™æ”¾åˆ°æ¡Œå­ä¸Šï¼Œæ‹¥æœ‰å‰©ä¸‹é‚£ç§ææ–™çš„æŠ½çƒŸè€…å·ä¸€æ ¹çƒŸå¹¶æŠ½æ‰å®ƒï¼Œå¹¶ç»™ä¾›åº”è€…ä¸€ä¸ªä¿¡å·å‘Šè¯‰å·±å®Œæˆï¼Œæ­¤æ—¶ä¾›åº”è€…å°±ä¼šå°†å¦å¤–ä¸¤ç§ææ–™æ”¾åˆ°æ¡Œä¸Šï¼Œå¦‚æ­¤é‡å¤(è®©ä¸‰ä¸ªæŠ½çƒŸè€…è½®æµåœ°æŠ½çƒŸ)ã€‚</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true"></a><span class="dt">int</span> num=<span class="dv">0</span>;  </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true"></a>semaphore offer1=<span class="dv">0</span>;   </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true"></a>semaphore offer2=<span class="dv">0</span>;  </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true"></a>semaphore offer3=<span class="dv">0</span>;  </span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true"></a>semaphore finish=<span class="dv">0</span>;  </span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true"></a>  </span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true"></a><span class="co">/*ä¿¡å·é‡offerl, offer2, offer3åˆ†åˆ«è¡¨ç¤ºçƒŸè‰å’Œçº¸ç»„åˆçš„èµ„æºã€çƒŸè‰å’Œèƒ¶æ°´ç»„åˆçš„èµ„æºã€çº¸å’Œèƒ¶æ°´ç»„åˆçš„èµ„æºã€‚ä¿¡å·é‡finishç”¨äºäº’æ–¥è¿›è¡ŒæŠ½çƒŸåŠ¨ä½œã€‚*/</span>  </span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true"></a><span class="dt">void</span> P1()&#123;  </span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true"></a>  <span class="cf">while</span>(<span class="dv">1</span>)&#123;  </span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true"></a>    num++;  </span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true"></a>    num=num%<span class="dv">3</span>;  </span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true"></a>    <span class="cf">if</span>(num==<span class="dv">0</span>)   </span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true"></a>      V(offer1);  </span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true"></a>    <span class="cf">else</span> <span class="cf">if</span>(num==<span class="dv">1</span>)    </span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true"></a>      V(offer2);  </span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true"></a>    <span class="cf">else</span>  </span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true"></a>      V(offer3);  </span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true"></a>    P(finish);  </span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true"></a>  &#125;  </span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true"></a>&#125;  </span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true"></a>  </span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true"></a><span class="dt">void</span> P2()&#123;  </span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true"></a>  <span class="cf">while</span>(<span class="dv">1</span>)&#123;  </span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true"></a>    P(offer3);    </span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true"></a>    <span class="co">//æ‹¿çº¸å’Œèƒ¶æ°´,å·æˆçƒŸ,æŠ½æ‰  </span></span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true"></a>    V(finish);   </span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true"></a>  &#125;  </span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true"></a>&#125;  </span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true"></a>  </span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true"></a><span class="dt">void</span> P3()&#123;  </span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true"></a>  <span class="cf">while</span>(<span class="dv">1</span>)&#123;  </span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true"></a>    P(offer2);  </span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true"></a>    <span class="co">//æ‹¿çƒŸè‰å’Œèƒ¶æ°´,å·æˆçƒŸ,æŠ½æ‰  </span></span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true"></a>    V(finish);  </span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true"></a>  &#125;    </span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true"></a>&#125;  </span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true"></a>  </span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true"></a><span class="dt">void</span> P4()&#123;  </span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true"></a>  <span class="cf">while</span>(<span class="dv">1</span>)&#123;  </span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true"></a>    P(offer1);  </span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true"></a>    <span class="co">//æ‹¿çƒŸè‰å’Œçº¸,å·æˆçƒŸ,æŠ½æ‰  </span></span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true"></a>  &#125;  </span>
<span id="cb24-43"><a href="#cb24-43" aria-hidden="true"></a>&#125;  </span></code></pre></div>
<h3 id="æ€»ç»“">æ€»ç»“</h3>
<p>ä¸ºäº†åè°ƒè¿›ç¨‹ä¹‹é—´çš„ç›¸äº’åˆ¶çº¦å…³ç³»ï¼Œå¼•å…¥äº†è¿›ç¨‹åŒæ­¥çš„æ¦‚å¿µã€‚<br />
åŒæ­¥æ˜¯æŒ‡ä¸ºå®ŒæˆæŸç§ä»»åŠ¡è€Œå»ºç«‹çš„ä¸¤ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ï¼Œè¿™äº›è¿›ç¨‹å› ä¸ºéœ€è¦åœ¨æŸäº›ä½ç½®ä¸Šåè°ƒå®ƒä»¬çš„å·¥ä½œæ¬¡åºè€Œç­‰å¾…ã€ä¼ é€’ä¿¡æ¯æ‰€äº§ç”Ÿçš„åˆ¶çº¦å…³ç³»ã€‚<br />
äº’æ–¥æ˜¯æŒ‡å½“ä¸€ä¸ªè¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒºä½¿ç”¨ä¸´ç•Œèµ„æºæ—¶ï¼Œå¦ä¸€ä¸ªè¿›ç¨‹å¿…é¡»ç­‰å¾…ï¼Œå½“å ç”¨ä¸´ç•Œèµ„æºçš„è¿›ç¨‹é€€å‡ºä¸´ç•ŒåŒºåï¼Œå¦ä¸€è¿›ç¨‹æ‰å…è®¸å»è®¿é—®æ­¤ä¸´ç•Œèµ„æºã€‚</p>
<div class="note warning">
</div>
<h2 id="æ­»é”">æ­»é”</h2>
<p><strong>æ­»é”çš„åŸå› </strong></p>
<ol type="1">
<li>ç³»ç»Ÿèµ„æºçš„ç«äº‰<br />
</li>
<li>è¿›ç¨‹æ¨è¿›é¡ºåºéæ³•<br />
</li>
<li>ä¿¡å·é‡é…ç½®é”™è¯¯</li>
</ol>
<p><strong>å¿…è¦æ¡ä»¶</strong></p>
<ol type="1">
<li>äº’æ–¥ï¼Œä¸€æ®µæ—¶é—´å†…æŸèµ„æºåªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹å ç”¨<br />
</li>
<li>ä¸æŠ¢å <br />
</li>
<li>è¯·æ±‚å¹¶å æœ‰<br />
</li>
<li>å¾ªç¯ç­‰å¾…ï¼Œå­˜åœ¨ä¸€ä¸ªè¿›ç¨‹é›†åˆï¼Œå…¶èµ„æºåˆ†é…å›¾å­˜åœ¨å¾ªç¯</li>
</ol>
<p><strong>å¤„ç†ç­–ç•¥</strong></p>
<ol type="1">
<li>é¢„é˜²ï¼Œç ´åå¿…è¦æ¡ä»¶<br />
</li>
<li>é¿å…ï¼Œé˜²æ­¢èµ„æºåˆ†é…å¯¼è‡´çš„æ­»é”<br />
</li>
<li>æ£€æµ‹å’Œè§£é™¤ï¼Œå…è®¸æ­»é”ï¼Œå‘ç°åè§£é™¤æ­»é”</li>
</ol>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231212215501.png" /></p>
<h3 id="é¢„é˜²">é¢„é˜²</h3>
<ol type="1">
<li>äº’æ–¥ï¼Œå…è®¸èµ„æºå…±äº«ï¼Œä½†å¯¹æŸäº›ç‰¹å®šèµ„æºå¾ˆéš¾åšåˆ°<br />
</li>
<li>ä¸æŠ¢å ï¼Œä¸€ä¸ªæŒæœ‰ä¸å¯è¢«æŠ¢å èµ„æºçš„è¿›ç¨‹ç”³è¯·èµ„æºæ—¶å¿…é¡»é‡Šæ”¾å·²æœ‰èµ„æº(æœ‰æŸè¿è¡Œæ•ˆç‡)<br />
</li>
<li>å æœ‰å¹¶ç­‰å¾…ï¼Œè¿è¡Œå‰è¿›ç¨‹å¿…é¡»ç”³è¯·åˆ°éœ€è¦çš„æ‰€æœ‰èµ„æº(æµªè´¹èµ„æº)<br />
</li>
<li>å¾ªç¯ç­‰å¾…ï¼Œç»™èµ„æºç¼–å·ï¼Œå¿…é¡»æŒ‰é€’å¢é¡ºåºç”³è¯·ï¼ŒåŒç±»èµ„æºä¸€æ¬¡ç”³è¯·å®Œï¼Œ(åœ¨è¿™ç§æœºåˆ¶çš„å®ç°ä¸Šä¼šæœ‰éº»çƒ¦)</li>
</ol>
<p>æ€»çš„æ¥è¯´ï¼Œé¢„é˜²æ­»é”è¦ä¹ˆéš¾ä»¥å®ç°ï¼Œè¦ä¹ˆæå¤§æŸå¤±æ€§èƒ½</p>
<h3 id="é¿å…">é¿å…</h3>
<ol type="1">
<li><p><strong>ç³»ç»Ÿå®‰å…¨çŠ¶æ€</strong><br />
ç³»ç»Ÿåœ¨è¿›è¡Œèµ„æºåˆ†é…ä¹‹å‰ï¼Œåº”å…ˆè®¡ç®—æ­¤æ¬¡åˆ†é…çš„å®‰å…¨æ€§ï¼Œå¦‚æœä¸å®‰å…¨ï¼Œåˆ™ä¸åˆ†é…èµ„æº<br />
å®‰å…¨çŠ¶æ€ï¼Œæ˜¯æŒ‡ç³»ç»Ÿèƒ½æŒ‰æŸç§è¿›ç¨‹æ¨è¿›é¡ºåº(P1,P2,â€¦â€¦,Pn)ä¸ºæ¯ä¸ªè¿›ç¨‹Piåˆ†é…å…¶æ‰€éœ€çš„èµ„æºï¼Œç›´è‡³æ»¡è¶³æ¯ä¸ªè¿›ç¨‹å¯¹èµ„æºçš„æœ€å¤§éœ€æ±‚ï¼Œä½¿æ¯ä¸ªè¿›ç¨‹éƒ½å¯é¡ºåºå®Œæˆã€‚æ­¤æ—¶ç§°P1,P2,â€¦ï¼ŒPnä¸ºå®‰å…¨åºåˆ—ã€‚åªè¦åœ¨å‰çš„è¿›ç¨‹ç»“æŸåå½’è¿˜èµ„æºæ—¶ï¼Œå‰©ä½™èµ„æºæ»¡è¶³åé¢çš„è¿›ç¨‹éœ€è¦ï¼Œé‚£ä¹ˆå°±æ˜¯å®‰å…¨çš„</p></li>
<li><p><strong>é“¶è¡Œå®¶ç®—æ³•</strong></p></li>
</ol>
<p>æŠŠæ“ä½œç³»ç»Ÿè§†ä½œé“¶è¡Œå®¶ï¼Œè¿›ç¨‹è¿è¡Œå‰å£°æ˜æœ€å¤§éœ€æ±‚é‡ï¼Œè¿è¡Œæ—¶åˆ†é…çš„æ€»èµ„æºä¸è¶…è¿‡è¿™ä¸ªéœ€æ±‚é‡ï¼Œæ­¤å¤–ï¼Œå¦‚æœç”³è¯·æ—¶èµ„æºè¶…è¿‡ç³»ç»Ÿèƒ½åˆ†é…çš„èµ„æºï¼Œå°±æš‚æ—¶æ¨è¿Ÿåˆ†é…</p>
<p><strong>æ•°æ®ç»“æ„</strong></p>
<ul>
<li>å¯åˆ©ç”¨èµ„æºå‘é‡Availableï¼šå«æœ‰mä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ ä»£è¡¨ä¸€ç±»å¯ç”¨çš„èµ„æºæ•°ç›®ã€‚<code>Available[j] = K</code>è¡¨ç¤ºç³»ç»Ÿä¸­ç°æœ‰Rjç±»èµ„æºKä¸ªã€‚<br />
</li>
<li>æœ€å¤§éœ€æ±‚çŸ©é˜µMaxï¼š<code>n*m</code>çŸ©é˜µï¼Œå®šä¹‰ç³»ç»Ÿä¸­nä¸ªè¿›ç¨‹ä¸­çš„æ¯ä¸ªè¿›ç¨‹å¯¹mç±»èµ„æºçš„æœ€å¤§éœ€æ±‚ã€‚ ç®€å•æ¥è¯´ï¼Œä¸€è¡Œä»£è¡¨ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€åˆ—ä»£è¡¨ä¸€ç±»èµ„æºã€‚<code>Max[i,j]=K</code>è¡¨ç¤ºè¿›ç¨‹iéœ€è¦Rjç±»èµ„æºçš„æœ€å¤§æ•°ç›®ä¸ºK<br />
</li>
<li>åˆ†é…çŸ©é˜µAllocationï¼š <code>n*m</code>çŸ©é˜µï¼Œå®šä¹‰ç³»ç»Ÿä¸­æ¯ç±»èµ„æºå½“å‰å·²åˆ†é…ç»™æ¯ä¸ªè¿›ç¨‹çš„èµ„æºæ•°ã€‚<code>Allocation[i,j]=K</code>è¡¨ç¤ºè¿›ç¨‹iå½“å‰å·²åˆ†å¾—Rjç±»èµ„æºçš„æ•°ç›®ä¸ºK<br />
</li>
<li>éœ€æ±‚çŸ©é˜µNeed: <code>n*m</code>çŸ©é˜µï¼Œè¡¨ç¤ºæ¯ä¸ªè¿›ç¨‹æ¥ä¸‹æ¥æœ€å¤šè¿˜éœ€è¦å¤šå°‘èµ„æºã€‚<code>Need[i,j]= K</code>è¡¨ç¤ºè¿›ç¨‹iè¿˜éœ€è¦Rjç±»èµ„æºçš„æ•°ç›®ä¸º K<br />
</li>
<li>ä¸Šè¿°ä¸‰ä¸ªçŸ©é˜µé—´å­˜åœ¨ä¸‹è¿°å…³ç³»ï¼š Need = Max- Allocation</li>
</ul>
<p><strong>è¿è¡Œæ­¥éª¤</strong></p>
<ol type="1">
<li>è‹¥<code>Request_i[j]&lt;=Need[i,j]</code>åˆ™è½¬åˆ°2. å¦åˆ™è¿›ç¨‹è¦æ±‚èµ„æºè¶…è¿‡Max<br />
</li>
<li><code>Request_i[j]&lt;=Available[j]</code>,åˆ™è½¬åˆ°3.ï¼Œå¦åˆ™ç³»ç»Ÿèµ„æºä¸è¶³<br />
</li>
<li>é¢„åˆ†é…èµ„æºï¼Œä¸”ä¿®æ”¹æ•°æ®ç»“æ„<br />
</li>
</ol>
<div class="sourceCode" id="cb25"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true"></a><span class="co">//Request_iè¡¨ç¤ºiè¯·æ±‚çš„å„ç§èµ„æº  </span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true"></a>Available = Available- Request_i;  </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true"></a>Allocation[i, j] = Allocation[i, j] + Request_i[j];  </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true"></a>Need[i,j] = Need[i, j] - Request_i[j]ï¼›  </span></code></pre></div>
<ol start="4" type="1">
<li>ç¡®è®¤åˆ†é…åç³»ç»Ÿå®‰å…¨ï¼Œç„¶ååˆ†é…èµ„æºï¼Œå¦åˆ™æ”¾å¼ƒï¼Œè®©è¿›ç¨‹ç­‰å¾…(å®‰å…¨æ€§ç®—æ³•)</li>
</ol>
<p><strong>å®‰å…¨æ€§ç®—æ³•</strong></p>
<p>è®¾ç½®å·¥ä½œå‘é‡Work,æœ‰mä¸ªå…ƒç´ ï¼Œè¡¨ç¤ºç³»ç»Ÿä¸­çš„å‰©ä½™å¯ç”¨èµ„æºæ•°ç›®ã€‚åœ¨æ‰§è¡Œå®‰å…¨æ€§ç®—æ³•å¼€å§‹æ—¶ï¼ŒWork = Available</p>
<ol type="1">
<li>åˆå§‹æ—¶å®‰å…¨åºåˆ—ä¸ºç©ºã€‚<br />
</li>
<li>ä»NeedçŸ©é˜µä¸­æ‰¾å‡ºç¬¦åˆä¸‹é¢æ¡ä»¶çš„è¡Œï¼šè¯¥è¡Œå¯¹åº”çš„è¿›ç¨‹ä¸åœ¨å®‰å…¨åºåˆ—ä¸­ï¼Œè€Œä¸”è¯¥è¡Œå°äºæˆ–ç­‰äºWorkå‘é‡ï¼Œæ‰¾åˆ°åï¼ŒæŠŠå¯¹åº”çš„è¿›ç¨‹åŠ å…¥å®‰å…¨åºåˆ—ï¼›è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™æ‰§è¡Œæ­¥éª¤4.ã€‚<br />
</li>
<li>è¿›ç¨‹Rè¿›å…¥å®‰å…¨åºåˆ—åï¼Œå¯é¡ºåˆ©æ‰§è¡Œï¼Œç›´è‡³å®Œæˆï¼Œå¹¶é‡Šæ”¾åˆ†é…ç»™å®ƒçš„èµ„æºï¼Œå› æ­¤åº”æ‰§è¡Œ<code>Work = Work + Allocation[i]</code>,å…¶ä¸­<code>Allocation[i]</code>è¡¨ç¤ºè¿›ç¨‹ Piä»£è¡¨çš„åœ¨ Allocation çŸ©é˜µä¸­å¯¹åº”çš„è¡Œï¼Œè¿”å›æ­¥éª¤2.<br />
</li>
<li>è‹¥æ­¤æ—¶å®‰å…¨åºåˆ—ä¸­å·²æœ‰æ‰€æœ‰è¿›ç¨‹ï¼Œåˆ™ç³»ç»Ÿå¤„äºå®‰å…¨çŠ¶æ€ï¼Œå¦åˆ™ç³»ç»Ÿå¤„äºä¸å®‰å…¨çŠ¶æ€ã€‚</li>
</ol>
<p>ç®€å•æ¥è¯´ï¼Œç±»ä¼¼æ”¾è´·ï¼Œå…ˆæ”¾å‡ºèƒ½å€Ÿå‡ºçš„é’±ï¼Œè¿™æ—¶æ€»èµ„äº§å°±å¯ä»¥æŠŠæ‰€æœ‰å€Ÿæ¬¾å½’è¿˜åçš„æœ¬é‡‘å’Œåˆ©æ¯ç®—å…¥ï¼Œåœ¨è¿™æ ·çš„åŸºç¡€ä¸Šç»§ç»­æ”¾è´·ï¼Œå¦‚æœæœ€åè¿™æ ·è®¡ç®—ä¸‹æ¥èƒ½æ»¡è¶³æ‰€æœ‰å€Ÿè´·éœ€æ±‚ï¼Œå°±è§†ä½œèµ„é‡‘å®‰å…¨</p>
<h3 id="æ£€æµ‹å’Œè§£é™¤">æ£€æµ‹å’Œè§£é™¤</h3>
<h4 id="æ£€æµ‹">æ£€æµ‹</h4>
<p><strong>èµ„æºåˆ†é…å›¾</strong><br />
ç”¨åœ†åœˆä»£è¡¨ä¸€ä¸ªè¿›ç¨‹ï¼Œç”¨æ¡†ä»£è¡¨ä¸€ç±»èµ„æºã€‚ç”±äºä¸€ç§ç±»å‹çš„èµ„æºå¯èƒ½æœ‰å¤šä¸ªï¼Œå› æ­¤ç”¨æ¡†ä¸­çš„ä¸€ä¸ªåœ†ä»£è¡¨ä¸€ç±»èµ„æºä¸­çš„ä¸€ä¸ªèµ„æºã€‚ä»è¿›ç¨‹åˆ°èµ„æºçš„æœ‰å‘è¾¹ç§°ä¸ºè¯·æ±‚è¾¹ï¼Œè¡¨ç¤ºè¯¥è¿›ç¨‹ç”³è¯·ä¸€ä¸ªå•ä½çš„è¯¥ç±»èµ„æºï¼›ä»èµ„æºåˆ°è¿›ç¨‹çš„è¾¹ç§°ä¸ºåˆ†é…è¾¹ï¼Œè¡¨ç¤ºè¯¥ç±»èµ„æºå·²æœ‰ä¸€ä¸ªèµ„æºåˆ†é…ç»™äº†è¯¥è¿›ç¨‹<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231213132737.png" /></p>
<p><strong>æ£€æµ‹æ–¹æ³•</strong></p>
<ol type="1">
<li>æ‰¾åˆ°ä¸é˜»å¡ä¸”ä¸å­¤ç«‹çš„è¿›ç¨‹Pi(ä¸å…¶è¿æ¥çš„èµ„æºè¾¹ï¼Œç”³è¯·æ•°é‡å°‘äºç³»ç»Ÿç©ºé—²èµ„æº)ï¼Œè¿™æ ·çš„è¿›ç¨‹å¿…ç„¶å¯ä»¥å®Œæˆï¼Œå› æ­¤æ¶ˆå»å…¶çš„è¾¹<br />
</li>
<li>æ¶ˆé™¤ç¬¬ä¸€æ­¥çš„è¿›ç¨‹çš„æ–°å›¾ç»§ç»­æŒ‰1.ä¸­çš„æ–¹æ³•æ¶ˆå»è¾¹ï¼Œå¦‚æœæœ€åæ‰€æœ‰è¿›ç¨‹å­¤ç«‹ï¼Œåˆ™è¯¥å›¾å¯å®Œå…¨ç®€åŒ–</li>
</ol>
<p>èµ„æºåˆ†é…å›¾ä¸å¯å®Œå…¨ç®€åŒ–æ˜¯æ­»é”çš„å……è¦æ¡ä»¶(æ­»é”å®šç†)</p>
<h4 id="è§£é™¤">è§£é™¤</h4>
<ol type="1">
<li>èµ„æºå‰¥å¤ºæ³•ã€‚æŒ‚èµ·æŸäº›æ­»é”è¿›ç¨‹ï¼Œå¹¶æŠ¢å å®ƒçš„èµ„æºï¼Œå°†è¿™äº›èµ„æºåˆ†é…ç»™å…¶ä»–çš„æ­»é”è¿›ç¨‹ã€‚ä½†åº”é˜²æ­¢è¢«æŒ‚èµ·çš„è¿›ç¨‹é•¿æ—¶é—´å¾—ä¸åˆ°èµ„æºè€Œå¤„äºèµ„æºåŒ®ä¹çš„çŠ¶æ€ã€‚<br />
</li>
<li>æ’¤é”€è¿›ç¨‹æ³•ã€‚å¼ºåˆ¶æ’¤é”€éƒ¨åˆ†ç”šè‡³å…¨éƒ¨æ­»é”è¿›ç¨‹å¹¶å‰¥å¤ºè¿™äº›è¿›ç¨‹çš„èµ„æºã€‚æ’¤é”€çš„åŸåˆ™å¯ä»¥æŒ‰è¿›ç¨‹ä¼˜å…ˆçº§å’Œæ’¤é”€è¿›ç¨‹ä»£ä»·çš„é«˜ä½è¿›è¡Œã€‚<br />
</li>
<li>è¿›ç¨‹å›é€€æ³•ã€‚è®©ä¸€(æˆ–å¤š)ä¸ªè¿›ç¨‹å›é€€åˆ°è¶³ä»¥å›é¿æ­»é”çš„åœ°æ­¥ï¼Œè¿›ç¨‹å›é€€æ—¶è‡ªæ„¿é‡Šæ”¾èµ„æºè€Œéè¢«å‰¥å¤ºã€‚è¦æ±‚ç³»ç»Ÿä¿æŒè¿›ç¨‹çš„å†å²ä¿¡æ¯ï¼Œè®¾ç½®è¿˜åŸç‚¹</li>
</ol>
<div class="note warning"><ul>
<li>æ­»é”æ£€æµ‹ä¸éœ€è¦çŸ¥é“ç³»ç»Ÿæ€»èµ„æºæ•°<br />
</li>
<li>å½“ç³»ç»Ÿå‡ºç°æ­»é”æ—¶ï¼Œå¿…ç„¶æœ‰ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹å¤„äºé˜»å¡æ€</li>
<li>ç»å¯¹ä¸ä¼šæ­»é”çš„æƒ…å†µï¼šè®¾kä¸ªè¿›ç¨‹éœ€è¦çš„æœ€å¤§èµ„æºæ•°ä¸ºxk,å¯¹æ¯ä¸ªä¸´ç•Œèµ„æºæ¥è¯´ï¼Œå…¶æ€»æ•°â‰¥<code>sum(x_1-1,x_2-1,â€¦â€¦x_k-1)+1</code>ï¼Œå³è‡³å°‘ä¸€ä¸ªè¿›ç¨‹èƒ½å¾—åˆ°éœ€è¦çš„æ‰€æœ‰èµ„æº</li>
</ul>
</div>
<hr />
<h1 id="å†…å­˜ç®¡ç†">å†…å­˜ç®¡ç†</h1>
<h2 id="æ¦‚å¿µ-1">æ¦‚å¿µ</h2>
<p><strong>å†…å­˜ç®¡ç†åŒ…æ‹¬</strong></p>
<ul>
<li>å†…å­˜ç©ºé—´çš„åˆ†é…ä¸å›æ”¶<br />
</li>
<li>é€»è¾‘åœ°å€å’Œç‰©ç†åœ°å€çš„è½¬æ¢<br />
</li>
<li>é€šè¿‡è™šæ‹ŸæŠ€æœ¯æ‰©å……å†…å­˜ç©ºé—´<br />
</li>
<li>å†…å­˜å…±äº«ï¼Œå…è®¸å¤šè¿›ç¨‹å…±äº«å†…å­˜ç©ºé—´<br />
</li>
<li>å­˜å‚¨ä¿æŠ¤ï¼Œç»´æŠ¤å„ä¸ªä½œä¸šåœ°å€ç©ºé—´çš„ç‹¬ç«‹</li>
</ul>
<p><strong>ç¨‹åºçš„é“¾æ¥å’Œè£…å…¥</strong></p>
<ul>
<li>ç¼–è¯‘ï¼Œå°†æºä»£ç ç¼–è¯‘æˆè‹¥å¹²æ¨¡å—<br />
</li>
<li>é“¾æ¥ï¼Œé“¾æ¥ç¼–è¯‘å‡ºçš„å„ä¸ªæ¨¡å—
<ul>
<li>é™æ€é“¾æ¥ï¼Œå…ˆå°†å„ç›®æ ‡æ¨¡å—åŠå®ƒä»¬æ‰€éœ€çš„åº“å‡½æ•°é“¾æ¥æˆä¸€ä¸ªå®Œæ•´çš„è£…é…æ¨¡å—ï¼Œéœ€è¦ä¿®æ”¹ç›¸å¯¹åœ°å€ï¼Œå¹¶ä¸”å˜æ¢å¤–éƒ¨è°ƒç”¨ç¬¦å·ä¸ºç›¸å¯¹åœ°å€(ç¼–è¯‘åæ‰€æœ‰ç›®æ ‡æ¨¡å—éƒ½æ˜¯0å¼€å§‹çš„ç›¸å¯¹åœ°å€)<br />
</li>
<li>è£…å…¥æ—¶åŠ¨æ€é“¾æ¥ï¼Œè£…å…¥å†…å­˜æ—¶ï¼Œè¾¹è£…å…¥è¾¹é“¾æ¥ï¼Œä¾¿äºä¿®æ”¹æ›´æ–°<br />
</li>
<li>è¿è¡Œæ—¶åŠ¨æ€é“¾æ¥ï¼Œç¨‹åºæ‰§è¡Œæ—¶æ‰ä¼šé“¾æ¥ç›®æ ‡æ¨¡å—ï¼Œæ‰§è¡Œç”¨ä¸åˆ°çš„æ¨¡å—å°±æš‚æ—¶ä¸ä¼šè¢«é“¾æ¥(èŠ‚çœç©ºé—´ä¼˜åŒ–æ€§èƒ½)<br />
</li>
</ul></li>
<li>è£…å…¥ï¼ŒæŠŠæ¨¡å—è£…å…¥å†…å­˜è¿è¡Œ
<ul>
<li>ç»å¯¹è£…å…¥ï¼Œåªé€‚ç”¨äºå•é“ç¯å¢ƒï¼Œè£…å…¥åˆ°è£…å…¥ç¨‹åºæä¾›çš„ç»å¯¹åœ°å€ï¼Œä¸”æ­¤æ—¶çš„é€»è¾‘åœ°å€å’Œå®é™…å†…å­˜åœ°å€ç›¸åŒï¼Œä¸”åœ°å€å¯ä»¥æ‰‹åŠ¨æŒ‡å®š<br />
</li>
<li>å¯é‡å®šä½è£…å…¥ï¼Œè£…å…¥æ—¶å¯¹ç›®æ ‡ç¨‹åºä¸­æŒ‡ä»¤å’Œæ•°æ®åœ°å€è¿›è¡Œä¿®æ”¹(è¯¥è¿‡ç¨‹å«åšé‡å®šä½),è¿™æ ·çš„å˜æ¢ä¸€èˆ¬åœ¨è£…å…¥è¿›ç¨‹æ—¶ä¸€æ¬¡å®Œæˆï¼Œå› æ­¤å«åšé™æ€é‡å®šä½<br />
</li>
<li>åŠ¨æ€è¿è¡Œæ—¶è£…å…¥ï¼Œä¹Ÿç§°ä¸ºåŠ¨æ€é‡å®šä½ï¼Œè£…å…¥æ¨¡å—è£…å…¥å†…å­˜åï¼Œåœ¨ç¨‹åºæ‰§è¡Œæ—¶æ‰æŠŠç›¸å¯¹åœ°å€è½¬æ¢æˆç»å¯¹åœ°å€(éœ€è¦é‡å®šä½å¯„å­˜å™¨æ”¯æŒ)ï¼Œè¿™æ ·å¯¹åœ°å€çš„ä½¿ç”¨çµæ´»ï¼Œä¸”ä¾¿äºç¨‹åºæ®µå…±äº«</li>
</ul></li>
</ul>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231213202033.png" /><br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231213220222.png" /></p>
<div class="note info"><p>ç¼–è¯‘åï¼Œæ¯ä¸ªç›®æ ‡æ¨¡å—éƒ½ä»0å·å•å…ƒå¼€å§‹ç¼–å€ï¼Œè¿™ç§°ä¸ºè¯¥ç›®æ ‡æ¨¡å—çš„ç›¸å¯¹åœ°å€(æˆ–é€»è¾‘åœ°å€)ã€‚å½“é“¾æ¥ç¨‹åºå°†å„ä¸ªæ¨¡å—é“¾æ¥æˆä¸€ä¸ªå®Œæ•´çš„å¯æ‰§è¡Œç›®æ ‡ç¨‹åºæ—¶ï¼Œé“¾æ¥ç¨‹åºé¡ºåºä¾æ¬¡æŒ‰å„ä¸ªæ¨¡å—çš„ç›¸å¯¹åœ°å€æ„æˆç»Ÿä¸€çš„ä»0å·å•å…ƒå¼€å§‹ç¼–å€çš„é€»è¾‘åœ°å€ç©ºé—´(æˆ–è™šæ‹Ÿåœ°å€ç©ºé—´).è¿›ç¨‹åœ¨è¿è¡Œæ—¶ï¼Œçœ‹åˆ°å’Œä½¿ç”¨çš„åœ°å€éƒ½æ˜¯é€»è¾‘åœ°å€<br />
å¯¹äº32ä½ç³»ç»Ÿï¼Œé€»è¾‘åœ°å€ç©ºé—´çš„èŒƒå›´ä¸º<code>0~2^32-1</code></p>
<p>ç‰©ç†åœ°å€ç©ºé—´æ˜¯æŒ‡å†…å­˜ä¸­ç‰©ç†å•å…ƒçš„é›†åˆï¼Œå®ƒæ˜¯åœ°å€è½¬æ¢çš„æœ€ç»ˆåœ°å€ã€‚å½“è£…å…¥ç¨‹åºå°†å¯æ‰§è¡Œä»£ç è£…å…¥å†…å­˜æ—¶ï¼Œå¿…é¡»é€šè¿‡åœ°å€è½¬æ¢å°†é€»è¾‘åœ°å€è½¬æ¢æˆç‰©ç†åœ°å€ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºåœ°å€é‡å®šä½ã€‚<br />
æ“ä½œç³»ç»Ÿé€šè¿‡å†…å­˜ç®¡ç†éƒ¨ä»¶(MMU)å°†è¿›ç¨‹ä½¿ç”¨çš„é€»è¾‘åœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€ã€‚è¿›ç¨‹ä½¿ç”¨è™šæ‹Ÿå†…å­˜ç©ºé—´ä¸­çš„åœ°å€ï¼Œæ“ä½œç³»ç»Ÿåœ¨ç›¸å…³ç¡¬ä»¶çš„ååŠ©ä¸‹ï¼Œå°†å®ƒ"è½¬æ¢â€æˆçœŸæ­£çš„ç‰©ç†åœ°å€ã€‚é€»è¾‘åœ°å€é€šè¿‡é¡µè¡¨æ˜ å°„åˆ°ç‰©ç†å†…å­˜ï¼Œé¡µè¡¨ç”±æ“ä½œç³»ç»Ÿç»´æŠ¤å¹¶è¢«å¤„ç†å™¨å¼•ç”¨ã€‚</p>
</div>
<p><strong>è¿›ç¨‹çš„å†…å­˜æ˜ åƒ</strong></p>
<ul>
<li>ä»£ç æ®µï¼šå³ç¨‹åºçš„äºŒè¿›åˆ¶ä»£ç ï¼Œä»£ç æ®µæ˜¯åªè¯»çš„ï¼Œå¯ä»¥è¢«å¤šä¸ªè¿›ç¨‹å…±äº«ã€‚<br />
</li>
<li>æ•°æ®æ®µï¼šå³ç¨‹åºè¿è¡Œæ—¶åŠ å·¥å¤„ç†çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬å…¨å±€å˜é‡å’Œé™æ€å˜é‡ã€‚<br />
</li>
<li>è¿›ç¨‹æ§åˆ¶å—(PCB)ï¼šå­˜æ”¾åœ¨ç³»ç»ŸåŒºã€‚æ“ä½œç³»ç»Ÿé€šè¿‡PCBæ¥æ§åˆ¶å’Œç®¡ç†è¿›ç¨‹ã€‚<br />
</li>
<li>å †ï¼šç”¨æ¥å­˜æ”¾åŠ¨æ€åˆ†é…çš„å˜é‡ã€‚é€šè¿‡è°ƒç”¨mallocå‡½æ•°åŠ¨æ€åœ°å‘é«˜åœ°å€åˆ†é…ç©ºé—´ã€‚<br />
</li>
<li>æ ˆï¼šç”¨æ¥å®ç°å‡½æ•°è°ƒç”¨ã€‚ä»ç”¨æˆ·ç©ºé—´çš„æœ€å¤§åœ°å€å¾€ä½åœ°å€æ–¹å‘å¢é•¿ã€‚</li>
</ul>
<p>ä»£ç æ®µå’Œæ•°æ®æ®µåœ¨ç¨‹åºè°ƒå…¥å†…å­˜æ—¶å°±æŒ‡å®šäº†å¤§å°ï¼Œè€Œå †å’Œæ ˆåŠ¨æ€ç®¡ç†ç©ºé—´</p>
<p><img src="/assets/è‹å¤§linux_ppt/c_memory.png" /><br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231213220912.png" /></p>
<p><strong>å†…å­˜ä¿æŠ¤</strong><br />
æ“ä½œç³»ç»Ÿéœ€è¦ç»´æŠ¤æ¯ä¸ªè¿›ç¨‹æœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œä¸ç³»ç»Ÿå’Œå…¶ä»–è¿›ç¨‹éš”ç»ï¼Œä¹Ÿå°±æ˜¯å†…å­˜ä¿æŠ¤</p>
<ul>
<li>cpuè®¾ç½®ä¸Šä¸‹é™å¯„å­˜å™¨ï¼Œå­˜æ”¾ç”¨æˆ·ä½œä¸šçš„åœ°å€ä¸Šä¸‹é™ï¼Œç”¨æ¥åˆ¤æ–­è®¿é—®æ˜¯å¦è¶Šç•Œ<br />
</li>
<li>ä½¿ç”¨é‡å®šä½å¯„å­˜å™¨(åŸºåœ°å€å¯„å­˜å™¨)å’Œç•Œåœ°å€å¯„å­˜å™¨(é™é•¿å¯„å­˜å™¨)ï¼Œå‰è€…æœ‰æœ€å°çš„ç‰©ç†åœ°å€ï¼Œåè€…å­˜æ”¾é€»è¾‘åœ°å€æœ€å¤§å€¼</li>
</ul>
<p>åŠ è½½é‡å®šä½å¯„å­˜å™¨å’Œç•Œåœ°å€å¯„å­˜å™¨æ—¶å¿…é¡»ä½¿ç”¨ç‰¹æƒæŒ‡ä»¤ï¼Œåªæœ‰æ“ä½œç³»ç»Ÿå†…æ ¸æ‰å¯ä»¥åŠ è½½è¿™ä¸¤ä¸ªå­˜å‚¨å™¨ã€‚<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231213221340.png" /></p>
<p><strong>å†…å­˜å…±äº«</strong><br />
å¯é‡å…¥ä»£ç åˆç§°çº¯ä»£ç ï¼Œæ˜¯ä¸€ç§å…è®¸å¤šä¸ªè¿›ç¨‹åŒæ—¶è®¿é—®ä½†ä¸å…è®¸è¢«ä»»ä½•è¿›ç¨‹ä¿®æ”¹çš„ä»£ç ã€‚ä½†åœ¨å®é™…æ‰§è¡Œæ—¶ï¼Œä¹Ÿå¯ä»¥ä¸ºæ¯ä¸ªè¿›ç¨‹é…ä»¥å±€éƒ¨æ•°æ®åŒºï¼ŒæŠŠåœ¨æ‰§è¡Œä¸­å¯èƒ½æ”¹å˜çš„éƒ¨åˆ†å¤åˆ¶åˆ°è¯¥æ•°æ®åŒºï¼Œè¿™æ ·ï¼Œç¨‹åºåœ¨æ‰§è¡Œæ—¶åªéœ€å¯¹è¯¥ç§æœ‰æ•°æ®åŒºä¸­çš„å†…å­˜è¿›è¡Œä¿®æ”¹ï¼Œå¹¶ä¸å»æ”¹å˜å…±äº«çš„ä»£ç åŒºã€‚</p>
<h2 id="å†…å­˜çš„åˆ†é…æ–¹å¼">å†…å­˜çš„åˆ†é…æ–¹å¼</h2>
<h3 id="è¿ç»­åˆ†é…ç®¡ç†">è¿ç»­åˆ†é…ç®¡ç†</h3>
<p>ä¸ºä¸€ä¸ªç”¨æˆ·ç¨‹åºåˆ†é…ä¸€ä¸ªè¿ç»­çš„å†…å­˜ç©ºé—´</p>
<ol type="1">
<li>å•ä¸€è¿ç»­åˆ†é…ï¼Œåˆ†ä¸ºç³»ç»ŸåŒºå’Œç”¨æˆ·åŒºï¼Œåˆ†åˆ«ä¾›ç³»ç»Ÿå’Œå•ä¸€ç”¨æˆ·ç¨‹åºä½¿ç”¨ã€‚è¿™ç§æ–¹æ³•æ— å¤–éƒ¨ç¢ç‰‡ï¼Œä½†åªç”¨äºå•ç”¨æˆ·å•ä»»åŠ¡ç³»ç»Ÿ<br />
</li>
<li>å›ºå®šåˆ†åŒºåˆ†é…ï¼Œç”¨æˆ·å†…å­˜ç©ºé—´åˆ†æˆè‹¥å¹²åˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºåªç”¨äºè£…è½½ä¸€ä¸ªä½œä¸šã€‚å¦‚æœåˆ†åŒºå¤§å°ä¸ç­‰ï¼Œå°±éœ€è¦å»ºç«‹ä½¿ç”¨è¡¨æ ¼æ¥åˆ†é…ã€‚å®¹æ˜“äº§ç”Ÿå†…éƒ¨ç¢ç‰‡ï¼Œæˆ–è€…åˆ’åˆ†ç©ºé—´å¤ªå°<br />
</li>
<li>åŠ¨æ€åˆ†åŒºåˆ†é…ï¼Œè¿›ç¨‹è£…å…¥å†…å­˜æ—¶æ ¹æ®å…¶éœ€è¦åˆ†é…ç©ºé—´ï¼Œå®¹æ˜“äº§ç”Ÿå¤–éƒ¨ç¢ç‰‡ï¼Œå¹¶ä¸”éœ€è¦ç¡®å®šå†…å­˜å—åˆ†é…ç®—æ³•ï¼Œæ¯”å¦‚
<ol type="1">
<li>é¦–æ¬¡é€‚åº”ï¼Œå®¹æ˜“åœ¨ä½åœ°å€å¤„äº§ç”Ÿç¢ç‰‡,ç»¼åˆæœ€å¥½<br />
</li>
<li>é‚»è¿‘é€‚åº”ï¼Œé¦–æ¬¡é€‚åº”çš„åŸºç¡€ä¸Šä»ä¸Šæ¬¡æŸ¥æ‰¾ç»“æŸçš„ä½ç½®ç»§ç»­æŸ¥æ‰¾ï¼Œå®¹æ˜“åœ¨å°¾åœ°å€äº§ç”Ÿç¢ç‰‡ï¼Œä¸”å¯¼è‡´å¤§ç¢ç‰‡åŒ®ä¹<br />
</li>
<li>æœ€ä½³é€‚åº”ï¼Œæ‰¾åˆ°æ»¡è¶³è¦æ±‚çš„æœ€å°åˆ†åŒºï¼Œäº§ç”Ÿæœ€å¤šå¤–éƒ¨ç¢ç‰‡<br />
</li>
<li>æœ€åé€‚åº”ï¼Œæ‰¾åˆ°æ»¡è¶³è¦æ±‚çš„æœ€å¤§åˆ†åŒºï¼Œå¯¼è‡´ç©ºé—´åŒ®ä¹</li>
</ol></li>
</ol>
<p><strong>å›æ”¶å†…å­˜</strong><br />
ç³»ç»Ÿæ ¹æ®å›æ”¶åˆ†åŒºçš„å§‹å€ï¼Œä»ç©ºé—²åˆ†åŒºé“¾ä¸­æ‰¾åˆ°ç›¸åº”çš„æ’å…¥ç‚¹</p>
<ol type="1">
<li>å›æ”¶åŒºä¸æ’å…¥ç‚¹çš„å‰ä¸€ç©ºé—²åˆ†åŒºç›¸é‚»ï¼Œå°†è¿™ä¸¤ä¸ªåˆ†åŒºåˆå¹¶ï¼Œå¹¶ä¿®æ”¹å‰ä¸€åˆ†åŒºè¡¨é¡¹çš„å¤§å°ä¸ºä¸¤è€…ä¹‹å’Œï¼›<br />
</li>
<li>å›æ”¶åŒºä¸æ’å…¥ç‚¹çš„åä¸€ç©ºé—²åˆ†åŒºç›¸é‚»ï¼Œå°†è¿™ä¸¤ä¸ªåˆ†åŒºåˆå¹¶ï¼Œå¹¶ä¿®æ”¹åä¸€åˆ†åŒºè¡¨é¡¹çš„å§‹å€å’Œå¤§å°ï¼›<br />
</li>
<li>å›æ”¶åŒºåŒæ—¶ä¸æ’å…¥ç‚¹çš„å‰ã€åä¸¤ä¸ªåˆ†åŒºç›¸é‚»ï¼Œæ­¤æ—¶å°†è¿™ä¸‰ä¸ªåˆ†åŒºåˆå¹¶ï¼Œä¿®æ”¹å‰ä¸€åˆ†åŒºè¡¨é¡¹çš„å¤§å°ä¸ºä¸‰è€…ä¹‹å’Œï¼Œå–æ¶ˆåäºŒåˆ†åŒºè¡¨é¡¹ï¼›<br />
</li>
<li>å›æ”¶åŒºæ²¡æœ‰ç›¸é‚»çš„ç©ºé—²åˆ†åŒºï¼Œæ­¤æ—¶åº”ä¸ºå›æ”¶åŒºæ–°å»ºä¸€ä¸ªè¡¨é¡¹ï¼Œå¡«å†™å§‹å€å’Œå¤§å°ï¼Œå¹¶æ’å…¥ç©ºé—²åˆ†åŒºé“¾ã€‚</li>
</ol>
<p>åŸºäºç´¢å¼•æœç´¢çš„åˆ†é…ç®—æ³•,å¤§ã€ä¸­å‹ç³»ç»Ÿä¸­å¾€å¾€é‡‡ç”¨ç´¢å¼•,æ ¹æ®å…¶å¤§å°å¯¹ç©ºé—²åˆ†åŒºå»ºç«‹ç´¢å¼•ï¼ŒæŒ‰éœ€è¦çš„å¤§å°åˆ†é…:</p>
<ol type="1">
<li>å¿«é€Ÿé€‚åº”ç®—æ³•ï¼Œç´¢å¼•è¡¨ä¸­æ‰¾åˆ°èƒ½å®¹çº³éœ€è¦çš„æœ€å°ç©ºé—²åˆ†åŒºé“¾è¡¨ï¼Œä»é“¾è¡¨ä¸­å–å‡ºç¬¬ä¸€å—è¿›è¡Œåˆ†é…ã€‚å†…éƒ¨ç¢ç‰‡å°ï¼Œä½†éœ€è¦é¢‘ç¹å›æ”¶åˆå¹¶</li>
<li>ä¼™ä¼´ç³»ç»Ÿã€‚è§„å®šæ‰€æœ‰åˆ†åŒºçš„å¤§å°å‡ä¸º2çš„kæ¬¡å¹•ï¼Œå¯¹éœ€æ±‚nï¼Œå–å…¶ä¸Šç•Œå¤§å°çš„åˆ†åŒºï¼Œè‹¥ä¸å­˜åœ¨ï¼Œåˆ™å¯¹åŠæ‹†åˆ†è‹¥å¹²æ¬¡æ›´å¤§çš„åˆ†åŒº(æ‹†åˆ†åå¤šä½™çš„å¤§å°å¡«å…¥åˆ†é…ç´¢å¼•è¡¨)</li>
<li>å“ˆå¸Œç®—æ³•ã€‚æ„å»ºä¸€å¼ ä»¥ç©ºé—²åˆ†åŒºå¤§å°ä¸ºå…³é”®å­—çš„å“ˆå¸Œè¡¨ä»¥åŠæ°å½“çš„å“ˆå¸Œå‡½æ•°ï¼Œæ ¹æ®å“ˆå¸Œå‡½æ•°è®¡ç®—ç»“æœåˆ†é…</li>
</ol>
<h3 id="åˆ†é¡µå­˜å‚¨ç®¡ç†">åˆ†é¡µå­˜å‚¨ç®¡ç†</h3>
<p>æŠŠå†…å­˜åˆ†ä¸ºè‹¥å¹²å›ºå®šå¤§å°çš„å—ï¼Œè¿›ç¨‹æ ¹æ®éœ€è¦ç”³è¯·ä¸€å®šæ•°é‡çš„å—ï¼Œåªæœ‰æœ€åä¸€å—ä¼šäº§ç”Ÿå†…éƒ¨ç¢ç‰‡<br />
è¿›ç¨‹ä¸­çš„å—ç§°ä¸ºé¡µæˆ–é¡µé¢(Page),å†…å­˜ä¸­çš„å—ç§°ä¸ºé¡µæ¡†æˆ–é¡µå¸§(Page Frame)å¤–å­˜ä¹Ÿä»¥åŒæ ·çš„å•ä½è¿›è¡Œåˆ’åˆ†ï¼Œç›´æ¥ç§°ä¸ºå—æˆ–ç›˜å—(Block)ã€‚</p>
<table>
<thead>
<tr class="header">
<th>é¡µå·</th>
<th>é¡µå†…åç§»é‡</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>P</td>
<td>W</td>
</tr>
</tbody>
</table>
<p>åœ°å€ç»“æ„åŒ…å«ä¸¤éƒ¨åˆ†ï¼šå‰ä¸€éƒ¨åˆ†ä¸ºé¡µå·P,åä¸€éƒ¨åˆ†ä¸ºé¡µå†…åç§»é‡W,åœ°å€é•¿åº¦ä¸º32ä½ï¼Œå…¶ä¸­0ã€œ11ä½ä¸ºé¡µå†…åœ°å€ï¼Œå³æ¯é¡µå¤§å°ä¸º4KBï¼› 12ã€œ31ä½ä¸ºé¡µå·ï¼Œå³æœ€å¤šå…è®¸2^20é¡µ<br />
é¡µè¡¨è®°å½•é¡µé¢åœ¨å†…å­˜ä¸­å¯¹åº”çš„ç‰©ç†å—å·ï¼Œä¸€èˆ¬ä¹Ÿæ”¾åœ¨å†…å­˜(PCB)<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231214220550.png" /></p>
<h4 id="åœ°å€å˜æ¢">åœ°å€å˜æ¢</h4>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231214220737.png" /><br />
åœ°å€å˜æ¢æœºæ„å°†é€»è¾‘åœ°å€è½¬æ¢æˆå†…å­˜ä¸­çš„ç‰©ç†åœ°å€ï¼Œå€ŸåŠ©é¡µè¡¨å®ç°<br />
ç³»ç»Ÿä¸­é€šå¸¸è®¾ç½®ä¸€ä¸ªé¡µè¡¨å¯„å­˜å™¨(PTR),å­˜æ”¾é¡µè¡¨åœ¨å†…å­˜çš„èµ·å§‹åœ°å€Få’Œé¡µè¡¨é•¿åº¦Mã€‚è¿›ç¨‹æœªæ‰§è¡Œæ—¶ï¼Œé¡µè¡¨çš„å§‹å€å’Œé¡µè¡¨é•¿åº¦å­˜æ”¾åœ¨æœ¬è¿›ç¨‹çš„PCBä¸­ï¼Œå½“è¿›ç¨‹è¢«è°ƒåº¦æ‰§è¡Œæ—¶ï¼Œæ‰å°†é¡µè¡¨å§‹å€å’Œé¡µè¡¨é•¿åº¦è£…å…¥é¡µè¡¨å¯„å­˜å™¨ä¸­ã€‚</p>
<p>é¡µé¢å¤§å°ä¸ºZ,é€»è¾‘åœ°å€Aåˆ°ç‰©ç†åœ°å€Eçš„å˜æ¢è¿‡ç¨‹ï¼š</p>
<ol type="1">
<li>è®¡ç®—é¡µå·P=A/Lï¼Œé¡µå†…åç§»é‡W=A%L<br />
</li>
<li>æ¯”è¾ƒé¡µå·å’Œé¡µè¡¨é•¿åº¦Mï¼Œå¦‚æœP&gt;=Mï¼Œåˆ™äº§ç”Ÿè¶Šç•Œä¸­æ–­<br />
</li>
<li>På¯¹åº”é¡µè¡¨åœ°å€=<code>é¡µè¡¨å§‹å€F+é¡µå·P*é¡µè¡¨é¡¹é•¿åº¦</code>ï¼Œè¯¥é¡¹å†…å®¹bå°±æ˜¯ç‰©ç†å—å·ã€‚//é¡µè¡¨é¡¹é•¿åº¦æŒ‡é¡µåœ°å€å å¤šå¤§çš„å­˜å‚¨ç©ºé—´<br />
</li>
<li><code>E=b*L + W</code>ï¼Œå¾—å‡ºç‰©ç†åœ°å€å¹¶è®¿é—®å†…å­˜</li>
</ol>
<div class="note info"><p><strong>é¡µè¡¨é¡¹å¤§å°æ€ä¹ˆç¡®å®š</strong><br />
é€»è¾‘åœ°å€ç©ºé—´å¤§å°/é¡µå¤§å°å¾—åˆ°é¡µæ•°ï¼Œé¡µè¡¨é¡¹å¤§å°çš„ä½æ•°å°±è¦ç¡®ä¿èƒ½è¡¨ç¤ºè¿™ä¸ªé¡µæ•°ï¼Œå…¶ä½æ•°éœ€è¦å¤§äºç­‰äºå¯¹é¡µæ•°å–çš„å¯¹æ•°<br />
ä¸€èˆ¬ç”¨å­—èŠ‚ä½œä¸ºåœ°å€å•ä½ï¼Œæ‰€ä»¥å¯¹è¿™ä¸ªä½æ•°é™¤8å¹¶å‘ä¸Šå–æ•´å¾—åˆ°éœ€è¦çš„å­—èŠ‚æ•°</p>
</div>
<p>é—®é¢˜ï¼š</p>
<ul>
<li>éœ€è¦ç¡®ä¿åœ°å€è½¬æ¢è¶³å¤Ÿå¿«<br />
</li>
<li>é¡µè¡¨ä¸èƒ½å¤ªå¤§ï¼Œå¦åˆ™ä¼šæµªè´¹ç©ºé—´ï¼Œé™ä½å†…å­˜åˆ©ç”¨ç‡</li>
</ul>
<h4 id="å¿«è¡¨">å¿«è¡¨</h4>
<p>åœ¨åœ°å€å˜æ¢æœºæ„ä¸­å¢è®¾ä¸€ä¸ªå…·æœ‰å¹¶è¡ŒæŸ¥æ‰¾èƒ½åŠ›çš„é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨ä¸€ä¸€å¿«è¡¨ï¼Œåˆç§°ç›¸è”å­˜å‚¨å™¨(TLB),ç”¨æ¥å­˜æ”¾å½“å‰è®¿é—®çš„è‹¥å¹²é¡µè¡¨é¡¹ï¼Œä»¥åŠ é€Ÿåœ°å€å˜æ¢çš„è¿‡ç¨‹ï¼Œç›¸å¯¹åº”çš„ï¼Œä¸»å­˜ä¸­çš„é¡µè¡¨ç§°ä¸ºæ…¢è¡¨Â Â <br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231215084116.png" /><br />
<strong>åœ°å€å˜æ¢è¿‡ç¨‹</strong></p>
<p>1.Â é€»è¾‘åœ°å€ç»™å‡ºåï¼Œé¡µå·é€å…¥é«˜é€Ÿç¼“å­˜å¯„å­˜å™¨ï¼Œä¸å¿«è¡¨ä¸­çš„æ‰€æœ‰é¡µå·æ¯”è¾ƒ<br />
2.Â å¦‚æœå¿«è¡¨ä¸­æœ‰å­˜å‚¨ï¼Œç›´æ¥å–å‡ºé¡µæ¡†å·ï¼Œç®—å‡ºç‰©ç†åœ°å€<br />
3.Â å¦åˆ™è®¿é—®æ…¢è¡¨ï¼Œå¹¶å°†æœ€åå¾—å‡ºçš„é¡µè¡¨é¡¹é€å…¥å¿«è¡¨ï¼Œå¦‚æœå·²æ»¡åˆ™æ¨å‡ºåŸæœ‰ä¸€é¡¹</p>
<h4 id="ä¸¤çº§é¡µè¡¨">ä¸¤çº§é¡µè¡¨</h4>
<p>é‰´äºå¤§é‡é¡µè¡¨ä¸ä»…å ç”¨æå¤§çš„è¿ç»­ç©ºé—´ï¼Œå¹¶ä¸”å¾ˆå¯èƒ½çœŸæ­£ä½¿ç”¨çš„å†…å­˜å¹¶æ²¡æœ‰è¿™ä¹ˆå¤šé¡µï¼Œéœ€è¦å¼•å…¥äºŒçº§é¡µè¡¨Â Â <br />
é¡¶çº§é¡µè¡¨æœ€å¤šåªæœ‰ä¸€ä¸ªé¡µé¢Â Â <br />
éœ€è¦åœ¨ç³»ç»Ÿä¸­å¢è®¾ä¸€ä¸ªå¤–å±‚é¡µè¡¨å¯„å­˜å™¨ï¼ˆä¹Ÿç§°é¡µç›®å½•åŸºå€å¯„å­˜å™¨ï¼‰.ç”¨äºå­˜æ”¾é¡µç›®å½•å§‹å€ã€‚å°†é€»è¾‘åœ°å€ä¸­çš„é¡µç›®å½•å·ä½œä¸ºé¡µç›®å½•çš„ç´¢å¼•ï¼Œä»ä¸­æ‰¾åˆ°å¯¹åº”é¡µè¡¨çš„å§‹å€ï¼šå†ç”¨äºŒçº§é¡µå·ä½œä¸ºé¡µè¡¨åˆ†é¡µçš„ç´¢å¼•ï¼Œä»ä¸­æ‰¾åˆ°å¯¹åº”çš„é¡µè¡¨é¡¹,ç”±äºæœ€åéœ€è¦ä¸€æ¬¡å–å†…å­˜å—æ“ä½œï¼ŒNçº§é¡µè¡¨ä¸€æ¬¡è¯»å†™éœ€è¦N+1æ¬¡è®¿å­˜<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231215084415.png" /></p>
<h3 id="åˆ†æ®µå­˜å‚¨ç®¡ç†">åˆ†æ®µå­˜å‚¨ç®¡ç†</h3>
<p>æŒ‰ç…§ç”¨æˆ·è¿›ç¨‹åˆ’åˆ†æ®µï¼Œæ®µå†…è¦æ±‚è¿ç»­ï¼Œæ®µé—´ä¸è¦æ±‚è¿ç»­ï¼Œæ®µå·å’Œæ®µå†…åç§»é‡å¿…é¡»ç”±ç”¨æˆ·æ˜¾å¼æä¾›ï¼Œåœ¨é«˜çº§ç¨‹åºè®¾è®¡è¯­è¨€ä¸­ï¼Œè¿™ä¸ªå·¥ä½œç”±ç¼–è¯‘ç¨‹åºå®Œæˆã€‚Â Â <br />
æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€å¼ é€»è¾‘ç©ºé—´ä¸å†…å­˜ç©ºé—´æ˜ å°„çš„æ®µè¡¨ï¼Œå…¶ä¸­æ¯ä¸ªæ®µè¡¨é¡¹å¯¹åº”è¿›ç¨‹çš„ä¸€æ®µï¼Œæ®µè¡¨é¡¹è®°å½•è¯¥æ®µåœ¨å†…å­˜ä¸­çš„å§‹å€å’Œé•¿åº¦<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231215103851.png" /><br />
æ®µè¡¨å¯„å­˜å™¨ï¼Œç”¨äºå­˜æ”¾æ®µè¡¨å§‹å€Få’Œæ®µè¡¨é•¿åº¦MÂ Â </p>
<p><strong>åœ°å€å˜æ¢è¿‡ç¨‹</strong>Â Â </p>
<p>1.Â ä»é€»è¾‘åœ°å€Aå–å‡ºæ®µå·Så’Œæ®µå†…åç§»é‡W<br />
2.Â ç¡®ä¿<code>S&lt;M</code>,å¦åˆ™è¶Šç•Œä¸­æ–­<br />
3.Â æ®µå·Så¯¹åº”æ®µè¡¨é¡¹åœ°å€=<code>æ®µè¡¨å§‹å€F+æ®µå·S*æ®µè¡¨é¡¹é•¿åº¦</code>ï¼Œå–å‡ºè¡¨é¡¹ä¸­çš„æ®µé•¿Cï¼Œå¹¶ç¡®ä¿<code>æ®µå†…åç§»é‡&lt;C</code><br />
4.Â å–å‡ºæ®µè¡¨é¡¹ä¸­çš„å§‹å€bï¼ŒE=b+W,ç”¨Eè®¿é—®å†…å­˜</p>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231215103916.png" /><br />
<strong>å…±äº«ä¸ä¿æŠ¤</strong><br />
æ®µçš„å…±äº«æ˜¯é€šè¿‡ä¸¤ä¸ªä½œä¸šçš„æ®µè¡¨ä¸­ç›¸åº”è¡¨é¡¹æŒ‡å‘è¢«å…±äº«çš„æ®µçš„åŒä¸€ä¸ªç‰©ç†å‰¯æœ¬æ¥å®ç°çš„ï¼Œè¿™äº§ç”Ÿäº†ä¸€ä¸ªè¯»è€…å†™è€…é—®é¢˜ï¼Œè¯»è€…åœ¨è¯»ï¼Œå†™è€…å°±ä¸èƒ½å†™<br />
å¯é‡å…¥ä»£ç (ä¸èƒ½ä¿®æ”¹çš„ä»£ç )å’Œä¸èƒ½ä¿®æ”¹çš„æ•°æ®å¯ä»¥å…±äº«ï¼Œå¯ä¿®æ”¹çš„ä»£ç å’Œæ•°æ®ä¸èƒ½å…±äº«</p>
<p>æ®µçš„ä¿æŠ¤åˆ†ä¸ºå­˜å–æ§åˆ¶ä¿æŠ¤å’Œåœ°å€è¶Šç•Œä¿æŠ¤<br />
è¶Šç•Œä¿æŠ¤ç¡®ä¿æ®µå·å°äºæ®µè¡¨é•¿åº¦ä¸”æ®µå†…åç§»é‡å°äºæ®µé•¿</p>
<h4 id="æ®µé¡µå¼ç®¡ç†">æ®µé¡µå¼ç®¡ç†</h4>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231215103647.png" /><br />
åœ¨æ®µé¡µå¼ç³»ç»Ÿä¸­ï¼Œä½œä¸šçš„åœ°å€ç©ºé—´é¦–å…ˆè¢«åˆ†æˆè‹¥å¹²é€»è¾‘æ®µï¼Œæ¯æ®µéƒ½æœ‰è‡ªå·±çš„æ®µå·ï¼Œç„¶åå°†æ¯æ®µåˆ†æˆè‹¥å¹²å¤§å°å›ºå®šçš„é¡µã€‚å¯¹å†…å­˜ç©ºé—´çš„ç®¡ç†ä»ç„¶å’Œåˆ†é¡µå­˜å‚¨ç®¡ç†ä¸€æ ·ï¼Œå°†å…¶åˆ†æˆè‹¥å¹²å’Œé¡µé¢å¤§å°ç›¸åŒçš„å­˜å‚¨å—ï¼Œå¯¹å†…å­˜çš„åˆ†é…ä»¥å­˜å‚¨å—ä¸ºå•ä½Â Â <br />
ä½œä¸šçš„é€»è¾‘åœ°å€åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼šæ®µå·ã€é¡µå·å’Œé¡µå†…åç§»é‡Â Â <br />
æ®µè¡¨åªæœ‰ä¸€ä¸ªï¼Œè€Œé¡µè¡¨å¯èƒ½æœ‰å¤šä¸ªã€‚<br />
è¿›è¡Œåœ°å€å˜æ¢æ—¶ï¼Œé¦–å…ˆé€šè¿‡æ®µè¡¨æŸ¥åˆ°é¡µè¡¨å§‹å€ï¼Œç„¶åé€šè¿‡é¡µè¡¨æ‰¾åˆ°é¡µå¸§å·ï¼Œæœ€åå½¢æˆç‰©ç†åœ°å€ï¼Œæ˜¯ä¸€ç§äºŒç»´åœ°å€<br />
åˆ†æ®µå¯¹ç”¨æˆ·æ˜¯å¯è§çš„ï¼Œç¼–ç¨‹éœ€è¦æŒ‡å®šæ®µå·ï¼Œæ®µå†…åœ°å€ï¼Œè€Œé¡µçš„æ‰€æœ‰éƒ¨åˆ†å¯¹ç”¨æˆ·é€æ˜<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231215103659.png" /><br />
<img src="https://s2.loli.net/2024/02/15/XuzRLBrWVjIt4KG.png" /></p>
<div class="note warning"><ul>
<li>æ•´ä¸ªç³»ç»Ÿä¸­è®¾ç½®ä¸€ä¸ªé‡å®šä½å¯„å­˜å™¨(æ”¾ç¨‹åºåœ¨å†…å­˜ä¸­çš„å§‹å€),è¿è¡Œä¸åŒç¨‹åºæ—¶æ›´æ¢å†…å®¹<br />
</li>
<li>æ®µå¼å­˜å‚¨ç®¡ç†æ–¹å¼ï¼Œä¸»è¦æ˜¯ä¸ºäº†æ»¡è¶³ç”¨æˆ·çš„ä¸‹åˆ—è¦æ±‚ï¼šæ–¹ä¾¿ç¼–ç¨‹ã€åˆ†æ®µå…±äº«ã€åˆ†æ®µä¿æŠ¤ã€åŠ¨æ€é“¾æ¥å’ŒåŠ¨æ€å¢é•¿<br />
</li>
<li>å¯¹ä¸»å­˜çš„è®¿é—®ä»¥å­—èŠ‚æˆ–å­—ä¸ºå•ä½,åˆ†é…åˆ™æ˜¯åŒºï¼Œé¡µï¼Œæ®µç­‰åˆ’åˆ†<br />
</li>
<li>æ¯ä¸ªè¿›ç¨‹æœ‰è‡ªå·±çš„é¡µè¡¨ï¼Œè¿›ç¨‹æœªæ‰§è¡Œæ—¶ï¼Œé¡µè¡¨çš„å§‹å€å’Œé¡µè¡¨é•¿åº¦å­˜æ”¾åœ¨æœ¬è¿›ç¨‹çš„PCBä¸­ï¼Œæ‰§è¡Œæ—¶è°ƒå…¥å†…å­˜çš„é¡µè¡¨å¯„å­˜å™¨<br />
</li>
<li>ä¸€ä¸ªé¡µç›®å½•èƒ½æ”¾ä¸‹çš„è¡¨é¡¹æ˜¯é¡µé¢å¤§å°/è¡¨é¡¹å¤§å°ï¼Œè¡¨é¡¹æ•°é‡æ€»å’Œå¿…é¡»ç­‰äºè™šæ‹Ÿåœ°å€çš„é¡µé¢æ•°<br />
</li>
<li>æœ€ä½³é€‚åº”ç®—æ³•æœ€å®¹æ˜“äº§ç”Ÿå†…å­˜ç¢ç‰‡<br />
</li>
<li>è®¡ç®—æœ‰æ•ˆå­˜å–æ—¶é—´è¦è€ƒè™‘å¿«è¡¨æŸ¥è¯¢æ˜¯åŒæ—¶è¿˜æ˜¯åœ¨å…ˆ</li>
</ul>
</div>
<h2 id="è™šæ‹Ÿå†…å­˜">è™šæ‹Ÿå†…å­˜</h2>
<div class="note info"><p>å…¶ä»–å†…å­˜æ‰©å……æ–¹æ³•ï¼š</p>
<ul>
<li>è¦†ç›–ï¼šç¨‹åºæˆ–è¿›ç¨‹åˆ†ä¸ºå›ºå®šåŒºä¸è¦†ç›–åŒºï¼Œå›ºå®šåŒºå¸¸é©»å†…å­˜ï¼Œè¦†ç›–åŒºå¯ä»¥ä¸æ–­äº¤æ¢ç»™å…¶ä»–è¿›ç¨‹ï¼ŒåŸºæœ¬è¿‡æ—¶<br />
</li>
<li>äº¤æ¢ï¼šè¿›ç¨‹è¢«è°ƒåº¦ç¨‹åºè°ƒå…¥è°ƒå‡ºå†…å­˜(éœ€è¦å¤–å­˜æä¾›å•ç‹¬çš„äº¤äº’åŒº)</li>
</ul>
</div>
<p>å¦‚æœä½œä¸šä¸€æ¬¡æ€§å…¨éƒ¨è£…å…¥å†…å­˜ï¼Œä¸”åœ¨å®Œæˆå‰æ— æ³•æ¢å‡º,å…¶å®ä¼šé€ æˆå†…å­˜ç©ºé—´çš„æµªè´¹ï¼Œå› æ­¤å°±éœ€è¦è™šæ‹Ÿå†…å­˜æŠ€æœ¯<br />
<strong>å±€éƒ¨æ€§åŸç†</strong>ï¼š</p>
<ol type="1">
<li>æ—¶é—´å±€éƒ¨æ€§ã€‚ç¨‹åºä¸­çš„æŸæ¡æŒ‡ä»¤ä¸€æ—¦æ‰§è¡Œï¼Œä¸ä¹…åè¯¥æŒ‡ä»¤å¯èƒ½å†æ¬¡æ‰§è¡Œ<br />
</li>
<li>ç©ºé—´å±€éƒ¨æ€§,ç¨‹åºåœ¨ä¸€æ®µæ—¶é—´å†…æ‰€è®¿é—®çš„åœ°å€ï¼Œå¯èƒ½é›†ä¸­åœ¨ä¸€å®šçš„èŒƒå›´ä¹‹å†…ï¼Œå› ä¸ºæŒ‡ä»¤å’Œæ•°æ®é€šå¸¸æ˜¯é¡ºåºå­˜æ”¾ã€é¡ºåºæ‰§è¡Œçš„</li>
</ol>
<p>åŸºäºå±€éƒ¨æ€§åŸç†ï¼Œå†…å­˜ä¸­å¯ä»¥åªå­˜æ”¾éƒ¨åˆ†ç¨‹åºéœ€è¦çš„é¡µé¢æˆ–è€…æ®µï¼Œå…¶ä»–éƒ¨åˆ†ç•™åœ¨å¤–å­˜ï¼Œéœ€è¦æ—¶å†è°ƒå…¥ï¼Œè¿™ç§æœºåˆ¶å«åšè™šæ‹Ÿå­˜å‚¨å™¨<br />
è™šæ‹Ÿå­˜å‚¨å™¨æœ‰ä»¥ä¸‹ä¸‰ä¸ªä¸»è¦ç‰¹å¾ï¼š</p>
<ol type="1">
<li>å¤šæ¬¡æ€§ã€‚æ˜¯æŒ‡æ— é¡»åœ¨ä½œä¸šè¿è¡Œæ—¶ä¸€æ¬¡æ€§åœ°å…¨éƒ¨è£…å…¥å†…å­˜ï¼Œè€Œå…è®¸è¢«åˆ†æˆå¤šæ¬¡è°ƒå…¥å†…å­˜è¿è¡Œï¼Œå¤šæ¬¡æ€§æ˜¯è™šæ‹Ÿå­˜å‚¨å™¨æœ€é‡è¦çš„ç‰¹å¾ã€‚<br />
</li>
<li>å¯¹æ¢æ€§ã€‚æ˜¯æŒ‡æ— é¡»åœ¨ä½œä¸šè¿è¡Œæ—¶ä¸€ç›´å¸¸é©»å†…å­˜ï¼Œåœ¨è¿›ç¨‹è¿è¡ŒæœŸé—´ï¼Œå…è®¸å°†é‚£äº›æš‚ä¸ä½¿ç”¨çš„ç¨‹åºå’Œæ•°æ®ä»å†…å­˜è°ƒè‡³å¤–å­˜çš„å¯¹æ¢åŒº(æ¢å‡º)ï¼Œå¾…ä»¥åéœ€è¦æ—¶å†å°†å®ƒä»¬ä»å¤–å­˜è°ƒè‡³å†…å­˜(æ¢è¿›)<br />
</li>
<li>è™šæ‹Ÿæ€§ã€‚æ˜¯æŒ‡ä»é€»è¾‘ä¸Šæ‰©å……å†…å­˜çš„å®¹é‡ï¼Œä½¿ç”¨æˆ·æ‰€çœ‹åˆ°çš„å†…å­˜å®¹é‡è¿œå¤§äºå®é™…çš„å†…å­˜å®¹é‡ã€‚è¿™æ˜¯è™šæ‹Ÿå­˜å‚¨å™¨æ‰€è¡¨ç°å‡ºçš„æœ€é‡è¦ç‰¹å¾ï¼Œä¹Ÿæ˜¯å®ç°è™šæ‹Ÿå­˜å‚¨å™¨çš„æœ€é‡è¦ç›®æ ‡ã€‚</li>
</ol>
<p>è¿ç»­æ€§å†…å­˜åˆ†é…ä¸æ”¯æŒé€»è¾‘ä¸Šçš„æ‰©å®¹ï¼Œå› æ­¤è™šæ‹Ÿå†…å­˜åªæœ‰ä¸‰ç§å®ç°æ–¹å¼ï¼š</p>
<ul>
<li>è¯·æ±‚åˆ†é¡µå­˜å‚¨ç®¡ç†ã€‚<br />
</li>
<li>è¯·æ±‚åˆ†æ®µå­˜å‚¨ç®¡ç†ã€‚<br />
</li>
<li>è¯·æ±‚æ®µé¡µå¼å­˜å‚¨ç®¡ç†</li>
</ul>
<p>è™šæ‹Ÿå†…å­˜çš„æœ€å¤§å®¹é‡æ˜¯ç”±è®¡ç®—æœºçš„åœ°å€ç»“æ„(CPUå¯»å€èŒƒå›´)ç¡®å®šçš„<br />
åŒæ—¶éœ€è¦å†…å¤–å­˜ï¼Œé¡µè¡¨æœºåˆ¶ï¼Œä¸­æ–­ï¼Œåœ°å€å˜æ¢ç­‰ç¡¬ä»¶æ”¯æŒ</p>
<h3 id="è¯·æ±‚åˆ†é¡µç®¡ç†æ–¹å¼">è¯·æ±‚åˆ†é¡µç®¡ç†æ–¹å¼</h3>
<p>åŸºäºåˆ†é¡µç³»ç»Ÿçš„è™šæ‹Ÿå†…å­˜æ˜¯æœ€å¸¸è§çš„<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231217203821.png" /><br />
ä¸ºäº†è§£å†³åŒºåˆ†è®¿é—®é¡µé¢åœ¨ä¸åœ¨å†…å­˜ä¸­è€Œå¢åŠ çš„<strong>é¡µè¡¨é¡¹</strong>å­—æ®µï¼š</p>
<ul>
<li>çŠ¶æ€ä½Fã€‚ç”¨äºæŒ‡ç¤ºè¯¥é¡µæ˜¯å¦å·²è°ƒå…¥å†…å­˜ï¼Œä¾›ç¨‹åºè®¿é—®æ—¶å‚è€ƒã€‚<br />
</li>
<li>è®¿é—®å­—æ®µA,ç”¨äºè®°å½•æœ¬é¡µåœ¨ä¸€æ®µæ—¶é—´å†…è¢«è®¿é—®çš„æ¬¡æ•°ï¼Œæˆ–è®°å½•æœ¬é¡µæœ€è¿‘å·±æœ‰å¤šé•¿æ—¶é—´æœªè¢«è®¿é—®ï¼Œä¾›ç½®æ¢ç®—æ³•æ¢å‡ºé¡µé¢æ—¶å‚è€ƒã€‚<br />
</li>
<li>ä¿®æ”¹ä½M,æ ‡è¯†è¯¥é¡µåœ¨è°ƒå…¥å†…å­˜åæ˜¯å¦è¢«ä¿®æ”¹è¿‡ï¼Œä»¥ç¡®å®šé¡µé¢ç½®æ¢æ—¶æ˜¯å¦å†™å›å¤–å­˜ã€‚<br />
</li>
<li>å¤–å­˜åœ°å€ã€‚ç”¨äºæŒ‡å‡ºè¯¥é¡µåœ¨å¤–å­˜ä¸Šçš„åœ°å€ï¼Œé€šå¸¸æ˜¯ç‰©ç†å—å·ï¼Œä¾›è°ƒå…¥è¯¥é¡µæ—¶å‚è€ƒã€‚</li>
</ul>
<p><strong>ç¼ºé¡µä¸­æ–­</strong><br />
æ¯å½“æ‰€è¦è®¿é—®çš„é¡µé¢ä¸åœ¨å†…å­˜ä¸­æ—¶ï¼Œä¾¿äº§ç”Ÿä¸€ä¸ªç¼ºé¡µä¸­æ–­ï¼Œè¯·æ±‚æ“ä½œç³»ç»Ÿå°†æ‰€ç¼ºçš„é¡µè°ƒå…¥å†…å­˜ã€‚æ­¤æ—¶åº”å°†ç¼ºé¡µçš„è¿›ç¨‹é˜»å¡(è°ƒé¡µå®Œæˆå”¤é†’)ï¼Œè‹¥å†…å­˜ä¸­æœ‰ç©ºé—²å—ï¼Œåˆ™åˆ†é…ä¸€ä¸ªå—ï¼Œå°†è¦è°ƒå…¥çš„é¡µè£…å…¥è¯¥å—ï¼Œå¹¶ä¿®æ”¹é¡µè¡¨ä¸­çš„ç›¸åº”é¡µè¡¨é¡¹ï¼Œè‹¥æ­¤æ—¶å†…å­˜ä¸­æ²¡æœ‰ç©ºé—²å—ï¼Œåˆ™è¦æ·˜æ±°æŸé¡µ(è‹¥è¢«æ·˜æ±°é¡µåœ¨å†…å­˜æœŸé—´è¢«ä¿®æ”¹è¿‡ï¼Œåˆ™è¦å°†å…¶å†™å›å¤–å­˜)<br />
ç¼ºé¡µä¸­æ–­å±äºå†…ä¸­æ–­(å†…éƒ¨å¼‚å¸¸)çš„æ•…éšœfault</p>
<p><strong>åœ°å€å˜æ¢</strong><br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231217204555.png" /></p>
<ol type="1">
<li>æ£€ç´¢å¿«è¡¨ï¼Œå¦‚æœæ‰¾åˆ°è¦è®¿é—®çš„é¡µï¼Œä¿®æ”¹è®¿é—®ä½ï¼Œåˆ©ç”¨è¡¨é¡¹çš„ç‰©ç†å—å·å’Œé¡µå†…åç§»é‡ç®—å‡ºç‰©ç†åœ°å€<br />
</li>
<li>æ‰¾ä¸åˆ°é¡µè¡¨é¡¹åˆ™åˆ°å†…å­˜æŸ¥æ‰¾é¡µè¡¨ï¼Œå¯¹æ¯”çŠ¶æ€ä½Pï¼Œçœ‹é¡µæ˜¯å¦å·²ç»è°ƒå…¥å†…å­˜ï¼Œè‹¥è°ƒå…¥åˆ™è¯¥é¡µçš„é¡µè¡¨å†™å…¥å¿«è¡¨ï¼Œå¿«è¡¨å·²æ»¡åˆ™æ›¿æ¢ï¼Œè‹¥æœªè°ƒå…¥ï¼Œåˆ™äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œä»å¤–å­˜è°ƒå…¥</li>
</ol>
<h3 id="é¡µæ¡†åˆ†é…">é¡µæ¡†åˆ†é…</h3>
<p>å¯¹è¿›ç¨‹åˆ†é…ç‰©ç†é¡µæ¡†ä¹Ÿæ˜¯éœ€è¦æ“ä½œç³»ç»Ÿéœ€è¦è€ƒè™‘çš„é—®é¢˜ï¼Œè¿™ä¼šå½±å“ä¸»å­˜çš„å¤šé“ç¨‹åº¦ï¼Œè¿›ç¨‹çš„ç¼ºé¡µç‡ç­‰<br />
ä¸€èˆ¬æ¥è¯´æœ‰ä»¥ä¸‹å‡ ç§ç­–ç•¥ï¼š</p>
<ol type="1">
<li>å›ºå®šåˆ†é…å±€éƒ¨ç½®æ¢,æ¯ä¸ªè¿›ç¨‹ç‰©ç†å¸§æ•°é‡å›ºå®šï¼Œç¼ºé¡µæ—¶åœ¨å›ºå®šçš„æ¡†ä¸­é€‰ä¸€ä¸ªç½®æ¢ï¼Œç¼ºç‚¹æ˜¯éš¾ä»¥ç¡®å®šåˆé€‚æ•°é‡çš„å¸§<br />
</li>
<li>å¯å˜åˆ†é…å…¨å±€ç½®æ¢ï¼Œåˆ†é…ä¸€å®šæ•°é‡çš„ç‰©ç†å—ï¼Œè¿è¡ŒæœŸé—´åŠ¨æ€å¢å‡ï¼Œç¼ºç‚¹æ˜¯å¯èƒ½ä¼šç›²ç›®å¢å‡<br />
</li>
<li>å¯å˜åˆ†é…å±€éƒ¨ç½®æ¢ï¼Œä¸1.ç±»ä¼¼ï¼Œä½†å¦‚æœé¢‘ç¹ç¼ºé¡µåˆ™ä¼šåˆ†é…æ›´å¤šç‰©ç†å—ï¼Œç›´åˆ°ç¼ºé¡µç‡æ­£å¸¸ï¼Œè‹¥ç¼ºé¡µç‡ä½ä¹Ÿä¼šé€‚å½“å‡å°‘ç‰©ç†å—</li>
</ol>
<p><strong>ç‰©ç†å—è°ƒå…¥ç®—æ³•</strong>ï¼š</p>
<ol type="1">
<li>å¹³å‡åˆ†é…ï¼Œæ‰€æœ‰ç‰©ç†å—å‡åˆ†ç»™è¿›ç¨‹<br />
</li>
<li>æŒ‰æ¯”ä¾‹åˆ†é…ï¼ŒæŒ‰è¿›ç¨‹å¤§å°æ¯”ä¾‹åˆ†é…<br />
</li>
<li>ä¼˜å…ˆçº§åˆ†é…ï¼Œä¼˜å…ˆçº§é«˜çš„è¿›ç¨‹æœ‰æ›´å¤šç‰©ç†å—</li>
</ol>
<p><strong>è°ƒå…¥é¡µé¢çš„æ—¶æœº</strong>ï¼š</p>
<ol type="1">
<li>é¢„è°ƒé¡µï¼Œé¢„æµ‹å¯èƒ½è¢«è®¿é—®çš„é¡µï¼Œæå‰è°ƒå…¥å†…å­˜ï¼Œä¹Ÿå¯ä»¥ç”±ç¨‹åºå‘˜æŒ‡å®š<br />
</li>
<li>è¯·æ±‚è°ƒé¡µï¼Œéœ€è¦çš„é¡µä¸åœ¨å†…å­˜æ—¶å†è°ƒå…¥ï¼Œæ˜“äºå®ç°ï¼Œä½†I/Oå¼€é”€è¾ƒå¤§</li>
</ol>
<p><strong>è°ƒå…¥é¡µé¢çš„åŒºåŸŸ</strong><br />
è¯·æ±‚åˆ†é¡µç³»ç»Ÿä¸­çš„å¤–å­˜åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šç”¨äºå­˜æ”¾æ–‡ä»¶çš„æ–‡ä»¶åŒºå’Œç”¨äºå­˜æ”¾å¯¹æ¢é¡µé¢çš„å¯¹æ¢åŒºã€‚å¯¹æ¢åŒºé‡‡ç”¨è¿ç»­åˆ†é…æ–¹å¼ï¼Œè€Œæ–‡ä»¶åŒºé‡‡ç”¨ç¦»æ•£åˆ†é…æ–¹å¼ï¼Œå› æ­¤å¯¹æ¢åŒºçš„ç£ç›˜I/Oé€Ÿåº¦æ¯”æ–‡ä»¶åŒºçš„æ›´å¿«</p>
<ol type="1">
<li>å¯¹æ¢åŒºç©ºé—´è¶³å¤Ÿï¼Œåˆ™å…¨éƒ¨ç”±å¯¹æ¢åŒºè°ƒå…¥<br />
</li>
<li>å¯¹æ¢åŒºç©ºé—´ä¸è¶³ï¼Œä¸éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶éƒ½ä»æ–‡ä»¶åŒºè°ƒå…¥ï¼Œå¯èƒ½ä¿®æ”¹çš„åˆ™å…ˆè°ƒåˆ°å¯¹æ¢åŒºï¼Œéœ€è¦æ—¶é€šè¿‡å¯¹æ¢åŒºè°ƒå…¥<br />
</li>
<li>UNIXæ–¹å¼ã€‚ä¸è¿›ç¨‹æœ‰å…³çš„æ–‡ä»¶éƒ½æ”¾åœ¨æ–‡ä»¶åŒºï¼Œå› æ­¤æœªè¿è¡Œè¿‡çš„é¡µé¢éƒ½åº”ä»æ–‡ä»¶åŒºè°ƒå…¥ã€‚æ›¾ç»è¿è¡Œè¿‡ä½†åˆè¢«æ¢å‡ºçš„é¡µé¢ï¼Œç”±äºæ˜¯æ”¾åœ¨å¯¹æ¢åŒºï¼Œå› æ­¤åœ¨ä¸‹æ¬¡è°ƒå…¥æ—¶åº”ä»å¯¹æ¢åŒºè°ƒå…¥ã€‚è¿›ç¨‹è¯·æ±‚çš„å…±äº«é¡µé¢è‹¥è¢«å…¶ä»–è¿›ç¨‹è°ƒå…¥å†…å­˜ï¼Œåˆ™æ— é¡»å†ä»å¯¹æ¢åŒºè°ƒå…¥</li>
</ol>
<div class="note info"><ul>
<li>å¿«è¡¨æœ‰çš„é¡µé¢å¿…ç„¶åœ¨å†…å­˜ä¸­ï¼Œå¦‚æœä¸€ä¸ªé¡µè°ƒå‡ºå†…å­˜ï¼Œéœ€è¦åŒæ—¶åˆ é™¤å…¶å¿«è¡¨é¡¹(å¦‚æœæœ‰çš„è¯)<br />
</li>
<li>åªæœ‰â€œå†™æŒ‡ä»¤â€æ‰éœ€è¦ä¿®æ”¹â€œä¿®æ”¹ä½â€ã€‚å¹¶ä¸”ï¼Œä¸€èˆ¬æ¥è¯´åªéœ€ä¿®æ”¹å¿«è¡¨ä¸­çš„æ•°æ®ï¼Œåªæœ‰è¦å°†å¿«è¡¨é¡¹åˆ é™¤æ—¶æ‰éœ€è¦å†™å›å†…å­˜ä¸­çš„æ…¢è¡¨ã€‚è¿™æ ·å¯ä»¥å‡å°‘è®¿å­˜æ¬¡æ•°<br />
</li>
<li>é¡µé¢è°ƒå…¥å†…å­˜åï¼Œéœ€è¦ä¿®æ”¹æ…¢è¡¨ï¼ŒåŒæ—¶ä¹Ÿéœ€è¦å°†è¡¨é¡¹å¤åˆ¶åˆ°å¿«è¡¨ä¸­</li>
</ul>
<p>å½“è¿›ç¨‹æ‰€è®¿é—®çš„é¡µé¢ä¸åœ¨å†…å­˜ä¸­æ—¶(å­˜åœ¨ä½ä¸º0),ä¾¿å‘CPUå‘å‡ºç¼ºé¡µä¸­æ–­ï¼Œä¸­æ–­å“åº”åä¾¿è½¬å…¥ç¼ºé¡µä¸­æ–­å¤„ç†ç¨‹åºã€‚è¯¥ç¨‹åºé€šè¿‡æŸ¥æ‰¾é¡µè¡¨å¾—åˆ°è¯¥é¡µçš„ç‰©ç†å—ï¼Œæ­¤æ—¶å¦‚æœå†…å­˜æœªæ»¡ï¼Œåˆ™å¯åŠ¨ç£ç›˜I/O,å°†æ‰€ç¼ºé¡µè°ƒå…¥å†…å­˜ï¼Œå¹¶ä¿®æ”¹é¡µè¡¨ã€‚å¦‚æœå†…å­˜å·²æ»¡ï¼Œåˆ™å…ˆæŒ‰æŸç§ç½®æ¢ç®—æ³•ä»å†…å­˜ä¸­é€‰å‡ºä¸€é¡µå‡†å¤‡æ¢å‡ºï¼›å¦‚æœè¯¥é¡µæœªè¢«ä¿®æ”¹è¿‡(ä¿®æ”¹ä½ä¸º0),åˆ™æ— é¡»å°†è¯¥é¡µå†™å›ç£ç›˜ï¼›ä½†æ˜¯ï¼Œå¦‚æœè¯¥é¡µå·±è¢«ä¿®æ”¹(ä¿®æ”¹ä½ä¸º1),åˆ™å¿…é¡»å°†è¯¥é¡µå†™å›ç£ç›˜ï¼Œç„¶åå°†æ‰€ç¼ºé¡µè°ƒå…¥å†…å­˜ï¼Œå¹¶ä¿®æ”¹é¡µè¡¨ä¸­çš„ç›¸åº”è¡¨é¡¹ï¼Œç½®å…¶å­˜åœ¨ä½ä¸º1ã€‚è°ƒå…¥å®Œæˆåï¼Œè¿›ç¨‹å°±å¯åˆ©ç”¨ä¿®æ”¹åçš„é¡µè¡¨å½¢æˆæ‰€è¦è®¿é—®æ•°æ®çš„å†…å­˜åœ°å€</p>
</div>
<h3 id="é¡µé¢ç½®æ¢ç®—æ³•">é¡µé¢ç½®æ¢ç®—æ³•</h3>
<ol type="1">
<li>æœ€ä½³ç½®æ¢(OPT),æ¢å‡ºæœ€é•¿æ—¶é—´å†…ä¸å†è¢«è®¿é—®çš„é¡µé¢ï¼Œä»¥ä¾¿ä¿è¯è·å¾—æœ€ä½çš„ç¼ºé¡µç‡ï¼Œæ— æ³•çœŸæ­£å®ç°ï¼Œåªèƒ½ç”¨äºå…¶ä»–ç®—æ³•çš„è¯„ä»·å‚è€ƒ<br />
</li>
<li>FIFO,æ·˜æ±°æœ€å…ˆè¿›å…¥å†…å­˜çš„é¡µé¢ï¼Œä¼šäº§ç”Ÿæ‰€åˆ†é…çš„ç‰©ç†å—æ•°å¢å¤§è€Œé¡µæ•…éšœæ•°ä¸å‡åå¢çš„å¼‚å¸¸ç°è±¡ï¼Œç§°ä¸ºBeladyå¼‚å¸¸ï¼Œåªæœ‰FIFOä¼šæœ‰è¿™ç§å¼‚å¸¸<br />
</li>
<li>æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨(LRU)ç½®æ¢,è¯¥ç®—æ³•ä¸ºæ¯ä¸ªé¡µé¢è®¾ç½®ä¸€ä¸ªè®¿é—®å­—æ®µï¼Œç”¨æ¥è®°å½•é¡µé¢è‡ªä¸Šæ¬¡è¢«è®¿é—®ä»¥æ¥æ‰€ç»å†çš„æ—¶é—´ï¼Œæ·˜æ±°é¡µé¢æ—¶é€‰æ‹©ç°æœ‰é¡µé¢ä¸­å€¼æœ€å¤§çš„äºˆä»¥æ·˜æ±°ã€‚æ€§èƒ½è¾ƒå¥½ï¼Œä½†å¼€é”€è¾ƒå¤§ä¸”éœ€è¦ç¡¬ä»¶æ”¯æŒ<br />
</li>
<li>æ—¶é’Ÿ(CLOCK)ç½®æ¢ç®—æ³•ï¼Œä¸ºæ¯å¸§è®¾ç½®ä¸€ä½è®¿é—®ä½Aï¼Œå½“æŸé¡µé¦–æ¬¡è¢«è£…å…¥æˆ–è¢«è®¿é—®æ—¶ï¼Œå…¶è®¿é—®ä½è¢«ç½®ä¸º1ï¼Œæ‰€æœ‰å¸§è§†ä¸ºå¾ªç¯é˜Ÿåˆ—ï¼Œæœ‰ä¸€ä¸ªä»ç¬¬ä¸€ä¸ªå¸§å¼€å§‹çš„æŒ‡é’ˆï¼Œæ›¿æ¢æ—¶å¾ªç¯æ£€æŸ¥ï¼Œè®¿é—®ä½è‹¥æ˜¯1ç½®0ä¸”æŒ‡é’ˆåç§»ï¼Œè‹¥æ˜¯0åˆ™æ›¿æ¢ï¼Œæ›¿æ¢åæŒ‡é’ˆåç§»ä¸€ä½,æœ€å¤šéœ€è¦ä¸¤è½®<br />
</li>
<li>æ”¹è¿›åçš„clockç®—æ³•,æ¢å‡ºé¡µé¢æ—¶ï¼Œä¿®æ”¹è¿‡çš„é¡µé¢å¤–éœ€è¦å†™å›ç£ç›˜ï¼Œæœ‰æ›´é«˜çš„æ€§èƒ½ä»£ä»·ï¼Œé™¤è€ƒè™‘é¡µé¢ä½¿ç”¨æƒ…å†µå¤–ï¼Œè¿˜å¢åŠ äº†ç½®æ¢ä»£ä»·ä¸€ä¸€ä¿®æ”¹ä½Mã€‚åœ¨é€‰æ‹©é¡µé¢æ¢å‡ºæ—¶ï¼Œä¼˜å…ˆè€ƒè™‘æ—¢æœªä½¿ç”¨è¿‡åˆæœªä¿®æ”¹è¿‡çš„é¡µé¢ã€‚
<ol type="1">
<li>å¯»æ‰¾ç¬¬ä¸€ä¸ª<code>A==M==0</code>çš„é¡µé¢ï¼Œè¿™æ¬¡æ‰«æä¸æ”¹å˜A<br />
</li>
<li>ç¬¬äºŒè½®æ‰«æï¼Œå¯»æ‰¾ç¬¬ä¸€ä¸ª<code>A==0 &amp;&amp; M==1</code>çš„é¡µé¢ï¼Œè¿™æ¬¡æ‰«æåˆ°çš„é¡µé¢Aç½®0<br />
</li>
<li>æŒ‡é’ˆå¤ä½ï¼Œæ‰€æœ‰å¸§è®¿é—®ä½ç½®0ï¼Œé‡å¤1.2.ç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªç¬¦åˆè¦æ±‚çš„é¡µ<br />
</li>
<li>æœ€å¤šå››è½®æ‰«æå°±èƒ½æ‰¾åˆ°ä¸€ä¸ªç½®æ¢é¡µ(æ‰€æœ‰é¡µ<code>A==M==1</code>æ—¶æ‰éœ€è¦å››è½®)</li>
</ol></li>
</ol>
<h3 id="æŠ–åŠ¨å’Œå·¥ä½œé›†åˆ">æŠ–åŠ¨å’Œå·¥ä½œé›†åˆ</h3>
<p>åˆšåˆšæ¢å‡ºçš„é¡µé¢é©¬ä¸Šåˆè¦æ¢å…¥ä¸»å­˜ï¼Œåˆšåˆšæ¢å…¥çš„é¡µé¢é©¬ä¸Šåˆè¦æ¢å‡ºä¸»å­˜ï¼Œè¿™ç§é¢‘ç¹çš„é¡µé¢è°ƒåº¦è¡Œä¸ºç§°ä¸ºæŠ–åŠ¨æˆ–é¢ ç°¸ã€‚<br />
æŠ–åŠ¨çš„æ ¹æœ¬åŸå› æ˜¯ï¼Œç³»ç»Ÿä¸­è¿›ç¨‹çš„èµ„æºä¸è¶³ï¼Œé¢‘ç¹ç¼ºé¡µ</p>
<p>å·¥ä½œé›†æ˜¯æŒ‡åœ¨æŸæ®µæ—¶é—´é—´éš”å†…ï¼Œè¿›ç¨‹è¦è®¿é—®çš„é¡µé¢é›†åˆã€‚åŸºäºå±€éƒ¨æ€§åŸç†ï¼Œå¯ä»¥ç”¨æœ€è¿‘è®¿é—®è¿‡çš„é¡µé¢æ¥ç¡®å®šå·¥ä½œé›†ã€‚<br />
å·¥ä½œé›†Wå¯ç”±æ—¶é—´tå’Œå·¥ä½œé›†çª—å£å¤§å°Î”æ¥ç¡®å®š<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231218192001.png" alt="çª—å£å¤§å°ä¸º5çš„æƒ…å½¢" /><br />
ä¸€èˆ¬æ¥è¯´åˆ†é…ç»™è¿›ç¨‹çš„ç‰©ç†å—æ•°(å³é©»ç•™é›†å¤§å°)è¦å¤§äºå·¥ä½œé›†å¤§å°ã€‚è½åœ¨å·¥ä½œé›†å†…çš„é¡µé¢éœ€è¦è°ƒå…¥é©»ç•™é›†ä¸­ï¼Œè€Œè½åœ¨å·¥ä½œé›†å¤–çš„é¡µé¢å¯ä»é©»ç•™é›†ç§»é™¤ã€‚è‹¥å¯ç”¨ç‰©ç†å—å°äºè¿›ç¨‹çš„å·¥ä½œé›†åˆï¼Œå°±éœ€è¦æš‚åœä¸€ä¸ªè¿›ç¨‹</p>
<p>ä¸€äº›å¯¹æ€§èƒ½é—®é¢˜çš„å½±å“å› ç´ ï¼š</p>
<ul>
<li>é¡µé¢è¾ƒå¤§åˆ™ç¼ºé¡µç‡è¾ƒä½ï¼Œé¡µé¢è¾ƒå°åˆ™ç¼ºé¡µç‡è¾ƒé«˜ã€‚é¡µé¢è¾ƒå°ä¼šå‡å°‘ç¢ç‰‡ï¼Œä½†å¯¼è‡´é¡µè¡¨è¾ƒé•¿å ç”¨æ›´å¤šå†…å­˜ï¼Œé¡µé¢è¾ƒå¤§æ—¶ç›¸å<br />
</li>
<li>ç‰©ç†å—è¶Šå¤šï¼Œç¼ºé¡µç‡è¶Šä½ï¼Œä½†è¾¾åˆ°ä¸€ä¸ªé˜ˆå€¼æ—¶æ”¹å–„å°±ä¼šå˜å¾—ä¸æ˜æ˜¾<br />
</li>
<li>æ¢å‡ºå·²ä¿®æ”¹è¿‡çš„é¡µé¢æ—¶ï¼Œåº”å½“å†™å›ç£ç›˜ï¼Œå¦‚æœæ¯å½“ä¸€ä¸ªé¡µé¢è¢«æ¢å‡ºæ—¶å°±å°†å®ƒå†™å›ç£ç›˜ï¼Œé‚£ä¹ˆæ¯æ¢å‡ºä¸€ä¸ªé¡µé¢å°±éœ€è¦å¯åŠ¨ä¸€æ¬¡ç£ç›˜ï¼Œæ•ˆç‡æä½ã€‚ä¸ºæ­¤åœ¨ç³»ç»Ÿä¸­å»ºç«‹ä¸€ä¸ªå·²ä¿®æ”¹æ¢å‡ºé¡µé¢çš„é“¾è¡¨ï¼Œå¯¹æ¯ä¸ªè¦è¢«æ¢å‡ºçš„é¡µé¢(å·²ä¿®æ”¹)ï¼Œå¯ä»¥æš‚ä¸å°†å®ƒä»¬å†™å›ç£ç›˜ï¼Œè€Œå°†å®ƒä»¬æŒ‚åœ¨è¯¥é“¾è¡¨ä¸Šï¼Œä»…å½“è¢«æ¢å‡ºé¡µé¢æ•°è¾¾åˆ°ç»™å®šå€¼æ—¶ï¼Œæ‰å°†å®ƒä»¬ä¸€èµ·å†™å›ç£ç›˜ï¼Œè¿™æ ·å°±å¯æ˜¾è‘—å‡å°‘ç£ç›˜I/Oçš„æ¬¡æ•°ï¼Œå³å‡å°‘å·³ä¿®æ”¹é¡µé¢æ¢å‡ºçš„å¼€é”€ã€‚æ­¤å¤–ï¼Œå¦‚æœæœ‰è¿›ç¨‹åœ¨è¿™æ‰¹æ•°æ®è¿˜æœªå†™å›ç£ç›˜æ—¶éœ€è¦å†æ¬¡è®¿é—®è¿™äº›é¡µé¢ï¼Œå°±ä¸éœ€ä»å¤–å­˜è°ƒå…¥ï¼Œè€Œç›´æ¥ä»å·²ä¿®æ”¹æ¢å‡ºé¡µé¢é“¾è¡¨ä¸Šè·å–ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥å‡å°‘é¡µé¢ä»ç£ç›˜è¯»å…¥å†…å­˜çš„é¢‘ç‡ï¼Œå‡å°‘é¡µé¢æ¢è¿›çš„å¼€é”€<br />
</li>
<li>ç¼–å†™ç¨‹åºçš„å±€éƒ¨åŒ–ç¨‹åº¦è¶Šé«˜ï¼Œæ‰§è¡Œæ—¶çš„ç¼ºé¡µç‡å°±è¶Šä½ã€‚å¦‚æœå­˜å‚¨é‡‡ç”¨çš„æ˜¯æŒ‰è¡Œå­˜å‚¨ï¼Œè®¿é—®æ—¶å°±è¦å°½é‡é‡‡ç”¨ç›¸åŒçš„è®¿é—®æ–¹å¼ï¼Œé¿å…æŒ‰åˆ—è®¿é—®é€ æˆç¼ºé¡µç‡è¿‡é«˜çš„ç°è±¡</li>
</ul>
<h3 id="å†…å­˜æ˜ å°„">å†…å­˜æ˜ å°„</h3>
<div class="note info"><p><strong>å†…å­˜æ˜ å°„æ–‡ä»¶(Memory-MappedFiles)</strong><br />
å°†ç£ç›˜æ–‡ä»¶çš„å…¨éƒ¨æˆ–éƒ¨åˆ†å†…å®¹ä¸è¿›ç¨‹è™šæ‹Ÿåœ°å€ç©ºé—´çš„æŸä¸ªåŒºåŸŸå»ºç«‹æ˜ å°„å…³ç³»ï¼Œä¾¿å¯ä»¥ç›´æ¥è®¿é—®è¢«æ˜ å°„çš„æ–‡ä»¶ï¼Œè€Œä¸å¿…æ‰§è¡Œæ–‡ä»¶I/Oæ“ä½œï¼Œä¹Ÿæ— é¡»å¯¹æ–‡ä»¶å†…å®¹è¿›è¡Œç¼“å­˜å¤„ç†ã€‚å¯é€šè¿‡å…±äº«é¡µè¡¨å®ç°<br />
ç³»ç»Ÿå†…å­˜ä¸­çš„æ‰€æœ‰é¡µé¢éƒ½ç”±è™šæ‹Ÿå­˜å‚¨å™¨è´Ÿè´£ç®¡ç†ï¼Œè™šæ‹Ÿå­˜å‚¨å™¨ä»¥ç»Ÿä¸€çš„æ–¹å¼å¤„ç†æ‰€æœ‰ç£ç›˜I/O.å½“è¿›ç¨‹é€€å‡ºæˆ–æ˜¾å¼åœ°è§£é™¤æ–‡ä»¶æ˜ å°„æ—¶ï¼Œæ‰€æœ‰è¢«æ”¹åŠ¨çš„é¡µé¢ä¼šè¢«å†™å›ç£ç›˜æ–‡ä»¶ã€‚<br />
å¤šä¸ªè¿›ç¨‹å…è®¸å¹¶å‘åœ°å†…å­˜æ˜ å°„åŒä¸€æ–‡ä»¶ï¼Œä»¥ä¾¿å…è®¸æ•°æ®å…±äº«ã€‚å®é™…ä¸Šï¼Œå¾ˆå¤šæ—¶å€™ï¼Œå…±äº«å†…å­˜æ˜¯é€šè¿‡å†…å­˜æ˜ å°„æ¥å®ç°çš„ã€‚è¿›ç¨‹å¯ä»¥é€šè¿‡å…±äº«å†…å­˜æ¥é€šä¿¡ï¼Œè€Œå…±äº«å†…å­˜æ˜¯é€šè¿‡æ˜ å°„ç›¸åŒæ–‡ä»¶åˆ°é€šä¿¡è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´å®ç°çš„ã€‚å†…å­˜æ˜ å°„æ–‡ä»¶å……å½“é€šä¿¡è¿›ç¨‹ä¹‹é—´çš„å…±äº«å†…å­˜åŒºåŸŸï¼Œå¦‚å›¾3.28æ‰€ç¤ºã€‚ä¸€ä¸ªè¿›ç¨‹åœ¨å…±äº«å†…å­˜ä¸Šå®Œæˆäº†å†™æ“ä½œï¼Œæ­¤åˆ»å½“å¦ä¸€ä¸ªè¿›ç¨‹åœ¨æ˜ å°„åˆ°è¿™ä¸ªæ–‡ä»¶çš„è™šæ‹Ÿåœ°å€ç©ºé—´ä¸Šæ‰§è¡Œè¯»æ“ä½œæ—¶ï¼Œå°±èƒ½ç«‹åˆ»çœ‹åˆ°ä¸Šä¸€ä¸ªè¿›ç¨‹å†™æ“ä½œçš„ç»“æœã€‚</p>
</div>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231218192446.png" /></p>
<h3 id="åœ°å€ç¿»è¯‘">åœ°å€ç¿»è¯‘</h3>
<p>æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol type="1">
<li>æ ¹æ®TLB,Cacheæ˜¯å¦nè·¯ç»„ç›¸è”ï¼Œé¡µé¢å¤§å°ç­‰ï¼Œè®¡ç®—å‡ºé€»è¾‘ç‰©ç†åœ°å€çš„æ ¼å¼<br />
</li>
<li>æ ¹æ®é€»è¾‘åœ°å€çš„æ ‡è®°æŸ¥æ‰¾TLB(æ³¨æ„æ˜¯å¦åˆ†ç»„)ä»¥åŠé¡µè¡¨(æ³¨æ„æ˜¯å¦æœ‰æ•ˆ)<br />
</li>
<li>æ‹¼æ¥å‡ºç‰©ç†åœ°å€ï¼Œæ ¹æ®è¯¥åœ°å€æŸ¥æ‰¾Cacheå’Œä¸»å­˜(å¦‚æœCacheä¸å‘½ä¸­)</li>
</ol>
<div class="note warning"><ul>
<li>è™šå­˜çš„æœ€å¤§å®¹é‡&lt;=è®¡ç®—æœºçš„åœ°å€ä½æ•°èƒ½å®¹çº³çš„æœ€å¤§å®¹é‡ &amp;&amp; &lt;=å†…å¤–å­˜ä¹‹å’Œ<br />
</li>
<li>ç½®æ¢é¡µæ—¶ï¼ŒæŠŠéœ€è¦è°ƒå…¥é¡µçš„å†…å®¹æ”¾åˆ°è¢«æ¢å‡ºçš„é¡µçš„é¡µæ¡†é‡Œï¼Œä¹Ÿå°±æ˜¯é¡µæ¡†å·ä¸å˜<br />
</li>
<li>é¡µç¼“å†²é˜Ÿåˆ—å°†è¢«æ·˜æ±°çš„é¡µé¢ç¼“å­˜ä¸‹æ¥ï¼Œæš‚æ—¶ä¸å†™å›ç£ç›˜ï¼Œé˜Ÿåˆ—é•¿åº¦ä¼šå½±å“é¡µé¢ç½®æ¢çš„é€Ÿåº¦ï¼Œä½†ä¸ä¼šå½±å“ç¼ºé¡µç‡<br />
</li>
<li>å¤„ç†ç¼ºé¡µä¸­æ–­ä¸åŒ…æ‹¬è®¿é—®è°ƒå…¥çš„é¡µå†…å®¹ï¼Œå› æ­¤å¤„ç†åä»å¤´å¼€å§‹è®¿å­˜<br />
</li>
<li>é«˜çº§é¡µè¡¨æŒ‡çš„æ˜¯æœ€é«˜å‡ ä½è¡¨ç¤ºçš„é¡µè¡¨ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€çº§é¡µè¡¨æ˜¯å¯ä»¥ç›´æ¥æŸ¥åˆ°é¡µæ¡†å·çš„é¡µè¡¨</li>
</ul>
</div>
<hr />
<h1 id="æ–‡ä»¶ç®¡ç†">æ–‡ä»¶ç®¡ç†</h1>
<h2 id="æ¦‚å¿µ-2">æ¦‚å¿µ</h2>
<p>æ–‡ä»¶(File)æ˜¯ä»¥ç¡¬ç›˜ä¸ºè½½ä½“çš„å­˜å‚¨åœ¨è®¡ç®—æœºä¸Šçš„ä¿¡æ¯é›†åˆ<br />
æ–‡ä»¶çš„ç»“æ„:</p>
<ol type="1">
<li>æ•°æ®é¡¹ã€‚æ˜¯æ–‡ä»¶ç³»ç»Ÿä¸­æœ€ä½çº§çš„æ•°æ®ç»„ç»‡å½¢å¼ï¼Œå¯åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§ç±»å‹ï¼š
<ol type="1">
<li>åŸºæœ¬æ•°æ®é¡¹ã€‚ç”¨äºæè¿°ä¸€ä¸ªå¯¹è±¡çš„æŸç§å±æ€§çš„ä¸€ä¸ªå€¼ï¼Œæ˜¯æ•°æ®ä¸­çš„æœ€å°é€»è¾‘å•ä½ã€‚<br />
</li>
<li>ç»„åˆæ•°æ®é¡¹ã€‚ç”±å¤šä¸ªåŸºæœ¬æ•°æ®é¡¹ç»„æˆã€‚<br />
</li>
</ol></li>
<li>è®°å½•ã€‚æ˜¯ä¸€ç»„ç›¸å…³çš„æ•°æ®é¡¹çš„é›†åˆï¼Œç”¨äºæè¿°ä¸€ä¸ªå¯¹è±¡åœ¨æŸæ–¹é¢çš„å±æ€§ã€‚<br />
</li>
<li>æ–‡ä»¶ã€‚æ˜¯æŒ‡ç”±åˆ›å»ºè€…æ‰€å®šä¹‰çš„ã€å…·æœ‰æ–‡ä»¶åçš„ä¸€ç»„ç›¸å…³å…ƒç´ çš„é›†åˆï¼Œå¯åˆ†ä¸ºæœ‰ç»“æ„æ–‡ä»¶å’Œæ— ç»“æ„æ–‡ä»¶ä¸¤ç§ã€‚åœ¨æœ‰ç»“æ„çš„æ–‡ä»¶ä¸­ï¼Œæ–‡ä»¶ç”±è‹¥å¹²ä¸ªç›¸ä¼¼çš„è®°å½•ç»„æˆï¼Œå¦‚ä¸€ä¸ªç­çš„å­¦ç”Ÿè®°å½•ï¼›è€Œæ— ç»“æ„æ–‡ä»¶åˆ™è¢«è§†ä¸ºä¸€ä¸ªå­—ç¬¦æµï¼Œæ¯”å¦‚ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶æˆ–å­—ç¬¦æ–‡ä»¶ã€‚</li>
</ol>
<p><strong>æ–‡ä»¶å±æ€§</strong>ï¼Œä¸€èˆ¬ç”¨æ–‡ä»¶æ§åˆ¶å—(FCB)ç»´æŠ¤</p>
<ol type="1">
<li>åç§°ï¼Œä¸€èˆ¬å”¯ä¸€<br />
</li>
<li>ç±»å‹<br />
</li>
<li>åˆ›å»ºè€…<br />
</li>
<li>æ‰€æœ‰è€…<br />
</li>
<li>ä½ç½®(æŒ‡é’ˆ)<br />
</li>
<li>å¤§å°<br />
</li>
<li>ä¿æŠ¤(è®¿é—®æ§åˆ¶ä¿¡æ¯)<br />
</li>
<li>æ—¶é—´ï¼ŒåŒ…æ‹¬åˆ›å»ºï¼Œæœ€åä¿®æ”¹ï¼Œæœ€åå­˜å–ç­‰</li>
</ol>
<p><strong>FCB</strong><br />
æ–‡ä»¶æ§åˆ¶å—(FCB)æ˜¯ç”¨æ¥å­˜æ”¾æ§åˆ¶æ–‡ä»¶éœ€è¦çš„å„ç§ä¿¡æ¯çš„æ•°æ®ç»“æ„,FCBçš„æœ‰åºé›†åˆç§°ä¸ºæ–‡ä»¶ç›®å½•ï¼Œä¸€ä¸ªFCBå°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ç›®å½•é¡¹ã€‚<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231218195544.png" /><br />
FCBä¸»è¦åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š</p>
<ul>
<li>åŸºæœ¬ä¿¡æ¯ï¼Œå¦‚æ–‡ä»¶åã€æ–‡ä»¶çš„ç‰©ç†ä½ç½®ã€æ–‡ä»¶çš„é€»è¾‘ç»“æ„ã€æ–‡ä»¶çš„ç‰©ç†ç»“æ„ç­‰ã€‚<br />
</li>
<li>å­˜å–æ§åˆ¶ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ–‡ä»¶ä¸»çš„å­˜å–æƒé™ã€æ ¸å‡†ç”¨æˆ·çš„å­˜å–æƒé™ä»¥åŠä¸€èˆ¬ç”¨æˆ·çš„å­˜å–æƒé™ã€‚<br />
</li>
<li>ä½¿ç”¨ä¿¡æ¯ï¼Œå¦‚æ–‡ä»¶å»ºç«‹æ—¶é—´ã€ä¸Šæ¬¡ä¿®æ”¹æ—¶é—´ç­‰ã€‚</li>
</ul>
<p><strong>ç´¢å¼•èŠ‚ç‚¹</strong></p>
<p>æœ‰çš„ç³»ç»Ÿä¸ºäº†ä¾¿äºæ£€ç´¢ï¼Œé‡‡ç”¨äº†æ–‡ä»¶åå’Œæ–‡ä»¶æè¿°ä¿¡æ¯åˆ†å¼€çš„æ–¹æ³•ï¼Œæ–‡ä»¶æè¿°ä¿¡æ¯å•ç‹¬å½¢æˆä¸€ä¸ªç§°ä¸º<strong>ç´¢å¼•ç»“ç‚¹</strong>çš„æ•°æ®ç»“æ„ï¼Œç®€ç§°iç»“ç‚¹(inode)</p>
<ul>
<li>ç£ç›˜ç´¢å¼•ç»“ç‚¹ï¼Œå­˜æ”¾åœ¨ç£ç›˜ä¸Šçš„ç´¢å¼•èŠ‚ç‚¹ï¼Œæ¯ä¸ªæ–‡ä»¶æœ‰ä¸€ä¸ªå”¯ä¸€çš„ç£ç›˜ç´¢å¼•ç»“ç‚¹
<ul>
<li>æ–‡ä»¶ä¸»æ ‡è¯†ç¬¦ï¼Œè¡¨ç¤ºæ‹¥æœ‰æ–‡ä»¶çš„ä¸ªäººæˆ–è€…ç”¨æˆ·ç»„<br />
</li>
<li>æ–‡ä»¶ç±»å‹ï¼Œå¦‚linuxçš„ç›®å½•å’Œæ™®é€šæ–‡ä»¶<br />
</li>
<li>æ–‡ä»¶å­˜å–æƒé™<br />
</li>
<li>ç‰©ç†åœ°å€<br />
</li>
<li>é•¿åº¦<br />
</li>
<li>é“¾æ¥è®¡æ•°<br />
</li>
<li>å­˜å–æ—¶é—´<br />
</li>
</ul></li>
<li>å†…å­˜ç´¢å¼•ç»“ç‚¹ï¼Œå­˜æ”¾åœ¨å†…å­˜ä¸­çš„ç´¢å¼•ç»“ç‚¹ã€‚å½“æ–‡ä»¶è¢«æ‰“å¼€æ—¶ï¼Œè¦å°†ç£ç›˜ç´¢å¼•ç»“ç‚¹å¤åˆ¶åˆ°å†…å­˜çš„ç´¢å¼•ç»“ç‚¹ä¸­ï¼Œä¾¿äºä»¥åä½¿ç”¨ã€‚åœ¨ç£ç›˜ç»“ç‚¹çš„åŸºç¡€ä¸Šå¢åŠ äº†ï¼š
<ul>
<li>ç´¢å¼•ç»“ç‚¹ç¼–å·<br />
</li>
<li>çŠ¶æ€,æ˜¯å¦ä¸Šé”æˆ–è¢«ä¿®æ”¹<br />
</li>
<li>è®¿é—®è®¡æ•°ï¼Œè®°å½•æ­£åœ¨è®¿é—®æ­¤ç»“ç‚¹çš„è¿›ç¨‹æ•°é‡<br />
</li>
<li>é€»è¾‘è®¾å¤‡å·ï¼Œæ‰€å±æ–‡ä»¶ç³»ç»Ÿçš„é€»è¾‘è®¾å¤‡å·<br />
</li>
<li>é“¾æ¥æŒ‡é’ˆï¼ŒæŒ‡å‘ç©ºé—²é“¾è¡¨å’Œæ•£åˆ—é˜Ÿåˆ—çš„æŒ‡é’ˆ</li>
</ul></li>
</ul>
<h3 id="æ“ä½œ">æ“ä½œ</h3>
<p><strong>å¯¹æ–‡ä»¶çš„åŸºæœ¬æ“ä½œ</strong></p>
<ol type="1">
<li>åˆ›å»ºæ–‡ä»¶ï¼š
<ol type="1">
<li>åˆ†é…å¤–å­˜ç©ºé—´<br />
</li>
<li>åˆ›å»ºç›®å½•é¡¹<br />
</li>
</ol></li>
<li>å†™æ–‡ä»¶ï¼Œéœ€è¦æ‰§è¡Œç³»ç»Ÿè°ƒç”¨ï¼Œéœ€è¦æœç´¢ç›®å½•æ‰¾åˆ°ç›¸å…³ç›®å½•é¡¹ï¼Œæ¯ä¸ªæ–‡ä»¶ç»´æŠ¤ä¸€ä¸ªå†™æŒ‡é’ˆï¼Œå†™åæ›´æ–°,å¦‚éœ€è¦äº’æ–¥å†™ï¼Œ<strong>å¯é€šè¿‡ç³»ç»Ÿè°ƒç”¨åŠ é”</strong></li>
<li>è¯»æ–‡ä»¶ï¼Œéœ€è¦æ‰§è¡Œç³»ç»Ÿè°ƒç”¨ï¼Œç±»ä¼¼å†™æ–‡ä»¶ä¹Ÿéœ€è¦ä¸€ä¸ªè¯»æŒ‡é’ˆï¼Œè¯»åæ›´æ–°ï¼Œå¯¹åªç”¨åˆ°ä¸€ä¸ªæ–‡ä»¶çš„è¿›ç¨‹è¿™ä¸¤ä¸ªæŒ‡é’ˆå¯ä»¥å…±ç”¨<br />
</li>
<li>é‡æ–°å®šä½æ–‡ä»¶ï¼Œä¹Ÿç§°æ–‡ä»¶å®šä½ï¼Œæœç´¢ç›®å½•æ‰¾åˆ°é€‚å½“æ¡ç›®ï¼Œå¹¶å°†ç›®å‰æ–‡ä»¶ä½ç½®æŒ‡é’ˆé‡å®šä½åˆ°ç»™å®šå€¼ï¼Œåªæ¶‰åŠç›®å½•<br />
</li>
<li>åˆ é™¤ï¼Œæ‰¾åˆ°ç›®å½•é¡¹ï¼Œé‡Šæ”¾ç©ºé—´ï¼Œåˆ é™¤ç›®å½•æ¡ç›®<br />
</li>
<li>æˆªæ–­ï¼Œæ–‡ä»¶æ‰€æœ‰å±æ€§ä¸å˜ï¼Œç©ºé—´é‡Šæ”¾ï¼Œé•¿åº¦ç½®é›¶</li>
</ol>
<p><strong>æ–‡ä»¶æ‰“å¼€å’Œå…³é—­</strong><br />
æ“ä½œç³»ç»Ÿç»´æŠ¤ä¸€ä¸ªåŒ…å«æ‰€æœ‰æ‰“å¼€æ–‡ä»¶ä¿¡æ¯çš„è¡¨(æ‰“å¼€æ–‡ä»¶è¡¨)ã€‚æ‰“å¼€æ“ä½œæ—¶ï¼Œé€šè¿‡ç³»ç»Ÿè°ƒç”¨openï¼Œæœç´¢ç›®å½•æ‰¾åˆ°è¯¥æ–‡ä»¶ï¼Œå°†å…¶å¤åˆ¶åˆ°å†…å­˜æ‰“å¼€æ–‡ä»¶è¡¨çš„ä¸€ä¸ªè¡¨ç›®ï¼Œå°†è¯¥è¡¨ç›®ç´¢å¼•è¿”å›ç»™ç”¨æˆ·ã€‚<br />
è¿™æ ·å¯¹æ‰“å¼€æ–‡ä»¶å¯ä»¥ç”¨æ‰“å¼€æ–‡ä»¶è¡¨å¿«é€Ÿç´¢å¼•ï¼Œå…³é—­æ—¶é€šè¿‡ç³»ç»Ÿè°ƒç”¨closeï¼Œåˆ é™¤æ‰“å¼€æ–‡ä»¶è¡¨çš„æ¡ç›®</p>
<p>åœ¨å¤šä¸ªä¸åŒè¿›ç¨‹å¯ä»¥åŒæ—¶æ‰“å¼€æ–‡ä»¶çš„æ“ä½œç³»ç»Ÿä¸­ï¼Œé€šå¸¸é‡‡ç”¨ä¸¤çº§è¡¨ï¼šæ•´ä¸ªç³»ç»Ÿè¡¨å’Œæ¯ä¸ªè¿›ç¨‹è¡¨ã€‚<br />
æ•´ä¸ªç³»ç»Ÿçš„æ‰“å¼€æ–‡ä»¶è¡¨åŒ…å«FCBçš„å‰¯æœ¬åŠå…¶ä»–ä¿¡æ¯ã€‚æ¯ä¸ªè¿›ç¨‹çš„æ‰“å¼€æ–‡ä»¶è¡¨æ ¹æ®å®ƒæ‰“å¼€çš„æ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…å«æŒ‡å‘ç³»ç»Ÿè¡¨ä¸­é€‚å½“æ¡ç›®çš„æŒ‡é’ˆã€‚å¯¹é€šè¿‡openæ‰“å¼€åŒä¸€æ–‡ä»¶çš„å…¶ä»–è¿›ç¨‹ï¼Œåªéœ€è¦å¢åŠ æ–‡ä»¶æ‰“å¼€è¡¨çš„ä¸€ä¸ªæ¡ç›®ä¸ç›¸åº”çš„æŒ‡é’ˆã€‚<br />
ä¸€èˆ¬æ¯ä¸ªæ–‡ä»¶åœ¨ç³»ç»Ÿæ‰“å¼€è¡¨ä¸­æœ‰ä¸€ä¸ªæ‰“å¼€è®¡æ•°å™¨ï¼Œé€šè¿‡openå’Œcloseå¢å‡ï¼Œå½’é›¶æ—¶å…è®¸åˆ é™¤</p>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231219191021.png" /><br />
å¯¹äºè®¿é—®æ‰“å¼€æ–‡ä»¶è¡¨çš„ç´¢å¼•ï¼ŒUNIXç§°ä¹‹ä¸ºæ–‡ä»¶æè¿°ç¬¦ï¼Œè€ŒWindowsç§°ä¹‹ä¸ºæ–‡ä»¶å¥æŸ„ã€‚åªè¦æ–‡ä»¶æœªè¢«å…³é—­ï¼Œæ‰€æœ‰æ–‡ä»¶æ“ä½œå°±é€šè¿‡æ‰“å¼€æ–‡ä»¶è¡¨æ¥è¿›è¡Œ</p>
<p>æ¯ä¸ªæ‰“å¼€æ–‡ä»¶éƒ½å…·æœ‰å¦‚ä¸‹å…³è”ä¿¡æ¯ï¼š</p>
<ul>
<li>æ–‡ä»¶æŒ‡é’ˆã€‚ç³»ç»Ÿè·Ÿè¸ªä¸Šæ¬¡çš„è¯»å†™ä½ç½®ä½œä¸ºå½“å‰æ–‡ä»¶ä½ç½®çš„æŒ‡é’ˆï¼Œè¿™ç§æŒ‡é’ˆå¯¹æ‰“å¼€æ–‡ä»¶çš„æŸä¸ªè¿›ç¨‹æ¥è¯´æ˜¯å”¯ä¸€çš„ï¼Œå› æ­¤å¿…é¡»ä¸ç£ç›˜æ–‡ä»¶å±æ€§åˆ†å¼€ä¿å­˜ã€‚<br />
</li>
<li>æ–‡ä»¶æ‰“å¼€è®¡æ•°ã€‚å½’é›¶æ—¶æ‰å¯ä»¥åˆ é™¤æ–‡ä»¶æ‰“å¼€æ¡ç›®<br />
</li>
<li>æ–‡ä»¶ç£ç›˜ä½ç½®ã€‚å¤§å¤šæ•°æ–‡ä»¶æ“ä½œè¦æ±‚ç³»ç»Ÿä¿®æ”¹æ–‡ä»¶æ•°æ®ã€‚æŸ¥æ‰¾ç£ç›˜ä¸Šçš„æ–‡ä»¶æ‰€éœ€çš„ä¿¡æ¯ä¿å­˜åœ¨å†…å­˜ä¸­èƒ½æé«˜æ•ˆç‡<br />
</li>
<li>è®¿é—®æƒé™ã€‚æ¯ä¸ªè¿›ç¨‹æ‰“å¼€æ–‡ä»¶éƒ½éœ€è¦æœ‰ä¸€ä¸ªè®¿é—®æ¨¡å¼(åˆ›å»ºã€åªè¯»ã€è¯»å†™ã€æ·»åŠ ç­‰)ã€‚æ“ä½œç³»ç»Ÿæ ¹æ®è¯¥ä¿¡æ¯å…è®¸æˆ–æ‹’ç»åç»­çš„I/Oè¯·æ±‚</li>
</ul>
<h3 id="æ–‡ä»¶ä¿æŠ¤å’Œæƒé™">æ–‡ä»¶ä¿æŠ¤å’Œæƒé™</h3>
<p>æ–‡ä»¶ä¿æŠ¤é€šè¿‡å£ä»¤ä¿æŠ¤ã€åŠ å¯†ä¿æŠ¤å’Œè®¿é—®æ§åˆ¶ç­‰æ–¹å¼å®ç°ï¼Œç›¸å…³æƒé™å¯åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li>è¯»<br />
</li>
<li>å†™<br />
</li>
<li>æ‰§è¡Œ<br />
</li>
<li>æ·»åŠ ï¼Œç›¸å½“äºç¼–ç¨‹ä¸­çš„appendæ“ä½œ<br />
</li>
<li>åˆ é™¤<br />
</li>
<li>åˆ—è¡¨æ¸…å•ï¼Œåˆ—å‡ºæ–‡ä»¶ä¿¡æ¯</li>
</ul>
<p>æœ€æ™®éçš„è®¿é—®æ§åˆ¶æœºåˆ¶ï¼Œä¸ºæ¯ä¸ªæ–‡ä»¶å’Œç›®å½•å¢åŠ ä¸€ä¸ªè®¿é—®æ§åˆ¶åˆ—è¡¨(Access-Control List, ACL)æ”¾åœ¨FCBæˆ–è€…ç´¢å¼•ç»“ç‚¹,ä»¥è§„å®šæ¯ä¸ªç”¨æˆ·ååŠå…¶æ‰€å…è®¸çš„è®¿é—®ç±»å‹ã€‚è¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯å¯ä»¥ä½¿ç”¨å¤æ‚çš„è®¿é—®æ–¹æ³•ï¼Œç¼ºç‚¹æ˜¯é•¿åº¦æ— æ³•é¢„è®¡å¹¶ä¸”å¯èƒ½å¯¼è‡´å¤æ‚çš„ç©ºé—´ç®¡ç†<br />
ç²¾ç®€çš„è®¿é—®åˆ—è¡¨é‡‡ç”¨æ‹¥æœ‰è€…ã€ç»„å’Œå…¶ä»–ä¸‰ç§ç”¨æˆ·ç±»å‹ã€‚</p>
<ol type="1">
<li>æ‹¥æœ‰è€…ã€‚åˆ›å»ºæ–‡ä»¶çš„ç”¨æˆ·ã€‚<br />
</li>
<li>ç»„ã€‚ä¸€ç»„éœ€è¦å…±äº«æ–‡ä»¶ä¸”å…·æœ‰ç±»ä¼¼è®¿é—®çš„ç”¨æˆ·ã€‚<br />
</li>
<li>å…¶ä»–ã€‚ç³»ç»Ÿå†…çš„æ‰€æœ‰å…¶ä»–ç”¨æˆ·ã€‚</li>
</ol>
<p>å…¶ä»–çš„è®¿é—®æ§åˆ¶æ–¹æ³•ï¼š</p>
<ul>
<li>å£ä»¤ï¼Œç”¨æˆ·åœ¨å»ºç«‹æ–‡ä»¶æ—¶æä¾›ä¸€ä¸ªå£ä»¤ï¼Œå»ºç«‹fcbæ—¶é™„ä¸Šå£ä»¤ï¼Œå…¶ä»–ç”¨æˆ·è®¿é—®æ—¶éœ€è¦æä¾›å£ä»¤ï¼Œç¼ºç‚¹æ˜¯å£ä»¤å­˜å‚¨åœ¨ç³»ç»Ÿä¸­ä¸å®‰å…¨<br />
</li>
<li>å¯†ç ï¼Œç”¨å¯†ç å¯¹æ–‡ä»¶åŠ å¯†ï¼Œè®¿é—®éœ€è¦å¯†é’¥ï¼Œæœ‰ä¸€å®šçš„åŠ å¯†è§£å¯†æˆæœ¬</li>
</ul>
<p>æ­¤å¤–ï¼Œç›®å½•ç”±äºæ¶‰åŠé€’å½’çš„å­ç›®å½•ï¼Œéœ€è¦ä¸åŒçš„ä¿æŠ¤æœºåˆ¶</p>
<h3 id="é€»è¾‘ç»“æ„">é€»è¾‘ç»“æ„</h3>
<p>æŒ‰é€»è¾‘ç»“æ„ï¼Œæ–‡ä»¶å¯åˆ’åˆ†ä¸ºæ— ç»“æ„æ–‡ä»¶å’Œæœ‰ç»“æ„æ–‡ä»¶ä¸¤å¤§ç±»ã€‚</p>
<ul>
<li>æ— ç»“æ„æ–‡ä»¶(æµå¼æ–‡ä»¶)ï¼Œæ— ç»“æ„æ–‡ä»¶å°†æ•°æ®æŒ‰é¡ºåºç»„ç»‡æˆè®°å½•å¹¶ç§¯ç´¯ã€ä¿å­˜<br />
</li>
<li>æœ‰ç»“æ„æ–‡ä»¶(è®°å½•å¼æ–‡ä»¶)
<ul>
<li>é¡ºåºæ–‡ä»¶ï¼Œé¡ºåºæˆ–è€…é“¾è¡¨å­˜å‚¨ï¼Œåˆ†ä¸ºæ²¡æœ‰å…³é”®å­—æ’åºçš„ä¸²ç»“æ„å’ŒæŒ‰å…³é”®å­—æ’åºçš„é¡ºåºç»“æ„<br />
</li>
<li>ç´¢å¼•æ–‡ä»¶ï¼Œå»ºç«‹ä¸€å¼ ç´¢å¼•è¡¨ï¼Œä¸ºä¸»æ–‡ä»¶çš„æ¯ä¸ªè®°å½•åœ¨ç´¢å¼•è¡¨ä¸­åˆ†åˆ«è®¾ç½®ä¸€ä¸ªè¡¨é¡¹ï¼ŒåŒ…å«æŒ‡å‘å˜é•¿è®°å½•çš„æŒ‡é’ˆ(å³é€»è¾‘èµ·å§‹åœ°å€)å’Œè®°å½•é•¿åº¦ï¼Œç´¢å¼•è¡¨æŒ‰å…³é”®å­—æ’åºï¼Œå› æ­¤å…¶æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªå®šé•¿è®°å½•çš„é¡ºåºæ–‡ä»¶ã€‚<br />
</li>
<li>ç´¢å¼•é¡ºåºæ–‡ä»¶,å°†é¡ºåºæ–‡ä»¶ä¸­çš„æ‰€æœ‰è®°å½•åˆ†ä¸ºè‹¥å¹²ç»„ï¼Œä¸ºé¡ºåºæ–‡ä»¶å»ºç«‹ä¸€å¼ ç´¢å¼•è¡¨ï¼Œåœ¨ç´¢å¼•è¡¨ä¸­ä¸ºæ¯ç»„ä¸­çš„ç¬¬ä¸€æ¡è®°å½•å»ºç«‹ä¸€ä¸ªç´¢å¼•é¡¹ï¼Œå…¶ä¸­å«æœ‰è¯¥è®°å½•çš„å…³é”®å­—å€¼å’ŒæŒ‡å‘è¯¥è®°å½•çš„æŒ‡é’ˆã€‚è§é™„å›¾<br />
</li>
<li>ç›´æ¥æˆ–è€…æ•£åˆ—æ–‡ä»¶ï¼Œç›´æ¥ç”¨å“ˆå¸Œäº§ç”Ÿçš„é”®å€¼å¯¹å‚¨å­˜åœ°å€</li>
</ul></li>
</ul>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231219200129.png" /></p>
<h3 id="ç‰©ç†ç»“æ„">ç‰©ç†ç»“æ„</h3>
<p>å¸¸ç”¨çš„ç£ç›˜ç©ºé—´åˆ†é…æ–¹æ³•æœ‰ä¸‰ç§ï¼šè¿ç»­åˆ†é…ã€é“¾æ¥åˆ†é…å’Œç´¢å¼•åˆ†é…ã€‚</p>
<ul>
<li>è¿ç»­åˆ†é…,æ¯ä¸ªæ–‡ä»¶åœ¨ç£ç›˜ä¸Šå æœ‰ä¸€ç»„è¿ç»­çš„å—,é€»è¾‘æ–‡ä»¶ä¸­çš„è®°å½•ä¹Ÿé¡ºåºå­˜å‚¨åœ¨ç›¸é‚»æ¥çš„å—ä¸­,ç›®å½•é¡¹ä¸­çš„ç‰©ç†åœ°å€åªéœ€è¦åŒ…æ‹¬ç¬¬ä¸€å—åœ°å€å’ŒåŒºåŸŸé•¿åº¦
<ul>
<li>éš¾ä»¥åŠ¨æ€å¢åŠ <br />
</li>
<li>åˆ é™¤å’Œæ’å…¥è®°å½•æ—¶æ€§èƒ½æ¶ˆè€—è¾ƒå¤§<br />
</li>
<li>åå¤å¢åˆ ä¼šäº§ç”Ÿå¤–éƒ¨ç¢ç‰‡<br />
</li>
<li>éš¾ä»¥ç¡®å®šæ–‡ä»¶æœ€åéœ€è¦åˆ†é…çš„ç©ºé—´å¤§å°<br />
</li>
</ul></li>
<li>é“¾æ¥åˆ†é…
<ul>
<li>éšå¼é“¾æ¥ï¼Œç›®å½•é¡¹ä¸­å«æœ‰æ–‡ä»¶ç¬¬ä¸€å—çš„æŒ‡é’ˆå’Œæœ€åä¸€å—çš„æŒ‡é’ˆ,ä¸€ä¸ªç›˜å—æœ‰é“¾æ¥ä¸‹ä¸€ä¸ªç›˜å—çš„æŒ‡é’ˆï¼Œåªèƒ½é¡ºåºè®¿é—®ï¼Œç¼ºç‚¹æ˜¯å®¹æ˜“ä¸¢å¤±ï¼Œå¯ä»¥é€šè¿‡å°†è‹¥å¹²ç›˜å—ç»„åˆæˆç°‡æ¥æ”¹è¿›(ä¼šå¢åŠ å†…éƒ¨ç¢ç‰‡)<br />
</li>
<li>æ˜¾å¼é“¾æ¥ï¼ŒæŠŠç”¨äºé“¾æ¥æ–‡ä»¶å„ç‰©ç†å—çš„æŒ‡é’ˆï¼Œä»æ¯ä¸ªç‰©ç†å—çš„æœ«å°¾ä¸­æå–å‡ºæ¥ï¼Œæ˜¾å¼åœ°å­˜æ”¾åœ¨å†…å­˜çš„ä¸€å¼ é“¾æ¥è¡¨ä¸­ï¼Œç§°ä¸ºæ–‡ä»¶åˆ†é…è¡¨FAT,å¯ä»¥ç”¨ä¸€ä¸ªç‰¹æ®Šçš„æ•°å­—-1è¡¨ç¤ºæ–‡ä»¶çš„æœ€åä¸€å—ï¼Œå¯ä»¥ç”¨-2è¡¨ç¤ºè¿™ä¸ªç£ç›˜å—æ˜¯ç©ºé—²çš„,FATè¡¨åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶å°±ä¼šè¢«è¯»å…¥å†…å­˜ï¼Œå› æ­¤æŸ¥æ‰¾è®°å½•çš„è¿‡ç¨‹æ˜¯åœ¨å†…å­˜ä¸­è¿›è¡Œçš„<br />
</li>
</ul></li>
<li>ç´¢å¼•åˆ†é…ï¼Œå°†æ¯ä¸ªæ–‡ä»¶æ‰€æœ‰çš„ç›˜å—å·éƒ½é›†ä¸­æ”¾åœ¨ä¸€èµ·æ„æˆç´¢å¼•ï¼Œæ¯ä¸ªæ–‡ä»¶æœ‰ç´¢å¼•å—ï¼Œå…¶ç¬¬iæ¡ç›®çš„æŒ‡é’ˆæŒ‡å‘æ–‡ä»¶ç¬¬iå—ï¼Œè¿™æ ·æ²¡æœ‰å¤–éƒ¨ç¢ç‰‡ï¼Œä½†å¢åŠ äº†å­˜å‚¨å¼€é”€
<ul>
<li>é“¾æ¥ç´¢å¼•å—æ¥å‡å°‘å¼€é”€<br />
</li>
<li>å¤šå±‚ç´¢å¼•æ¥æ”¯æŒæ›´å¤§æ–‡ä»¶<br />
</li>
<li>æ··åˆç´¢å¼•ï¼Œè§ä¸‹æ–‡</li>
</ul></li>
</ul>
<div class="note info"><ul>
<li>å¯¹äºå°æ–‡ä»¶ï¼Œä¸ºäº†æé«˜å¯¹ä¼—å¤šå°æ–‡ä»¶çš„è®¿é—®é€Ÿåº¦ï¼Œå°†å®ƒä»¬çš„æ¯ä¸ªç›˜å—åœ°å€ç›´æ¥æ”¾å…¥FCB,è¿™æ ·å°±å¯ä»¥ç›´æ¥ä»FCBä¸­è·å¾—è¯¥æ–‡ä»¶çš„ç›˜å—åœ°å€ï¼Œå³ä¸ºç›´æ¥å¯»å€ã€‚<br />
</li>
<li>å¯¹äºä¸­å‹æ–‡ä»¶ï¼Œå¯ä»¥é‡‡ç”¨å•çº§ç´¢å¼•æ–¹å¼ï¼Œéœ€è¦å…ˆä»FCBä¸­æ‰¾åˆ°è¯¥æ–‡ä»¶çš„ç´¢å¼•è¡¨ï¼Œä»ä¸­è·å¾—è¯¥æ–‡ä»¶çš„ç›˜å—åœ°å€ï¼Œå³ä¸ºä¸€æ¬¡é—´å€ã€‚<br />
</li>
<li>å¯¹äºå¤§å‹æˆ–ç‰¹å¤§å‹æ–‡ä»¶ï¼Œå¯ä»¥é‡‡ç”¨ä¸¤çº§å’Œä¸‰çº§ç´¢å¼•åˆ†é…æ–¹å¼ã€‚UNIXç³»ç»Ÿé‡‡ç”¨çš„å°±æ˜¯è¿™ç§åˆ†é…æ–¹å¼</li>
</ul>
<p><strong>unixçš„inode</strong></p>
<ul>
<li>ç›´æ¥åœ°å€ï¼Œåœ¨ç´¢å¼•ç»“ç‚¹ä¸­å¯è®¾ç½®10ä¸ªç›´æ¥åœ°å€é¡¹ï¼Œå°äº10ä¸ªç›˜å—çš„æ–‡ä»¶å¯ä»¥ç›´æ¥å¯»å€<br />
</li>
<li>â€”æ¬¡é—´æ¥åœ°å€ï¼Œi.addr(l0)æä¾›ä¸€æ¬¡é—´æ¥åœ°å€,å­˜æ”¾çš„æ˜¯ç´¢å¼•è¡¨ï¼Œæ‰€æœ‰ä¸€çº§å¯»å€ç´¢å¼•è¡¨å¯å­˜æ”¾1024ä¸ªç›˜å—å·ï¼Œå‡è®¾ä¸€ä¸ªç›˜å—4kB,å…è®¸æ–‡ä»¶é•¿è¾¾4MB<br />
</li>
<li>å¤šæ¬¡é—´æ¥åœ°å€ã€‚å½“æ–‡ä»¶é•¿åº¦å¤§äº4MB + 40KB (ä¸€æ¬¡é—´æ¥åœ°å€ä¸10ä¸ªç›´æ¥åœ°å€é¡¹)æ—¶ï¼Œç³»ç»Ÿè¿˜éœ€é‡‡ç”¨äºŒæ¬¡é—´æ¥åœ°å€åˆ†é…æ–¹å¼ã€‚ç”¨åœ°å€é¡¹i.addr(ll)æä¾›äºŒæ¬¡é—´æ¥åœ°å€ï¼Œå…è®¸æ–‡ä»¶æœ€å¤§é•¿åº¦å¯è¾¾4GBï¼Œä»¥æ­¤ç±»æ¨</li>
</ul>
</div>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231219205637.png" /><br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231219205646.png" /><br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231219205853.png" /><br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231219210438.png" /><br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231219211121.png" /></p>
<div class="note info"><p>ç–‘éš¾æ¢³ç†ï¼š<br />
æ–‡ä»¶ï¼šä¿¡æ¯çš„é›†åˆï¼Œåœ¨æ“ä½œç³»ç»Ÿä¸­æ–‡ä»¶ç”±ä¸€ç³»åˆ—çš„ç›®å½•é¡¹FCBç®¡ç†ã€‚<br />
ç›®å½•é¡¹å¯åŒ…æ‹¬æ–‡ä»¶çš„å¤§éƒ¨åˆ†ä¿¡æ¯ï¼Œä½†ç›®å½•é¡¹æœ€é‡è¦çš„åŠŸèƒ½æ˜¯æä¾›æ–‡ä»¶åä»¥ä¾¿æŸ¥è¯¢ï¼Œå› æ­¤ç›®å½•é¡¹å¯ä»¥åªå­˜æ”¾æ–‡ä»¶åä¸ä¸€ä¸ªç´¢å¼•ç»“ç‚¹å·æˆ–ç‰©ç†ç°‡å·ï¼Œä¸€èˆ¬ç´¢å¼•ç»“ç‚¹ç”¨äºå­˜æ”¾æè¿°ä¿¡æ¯ã€‚åŒæ—¶ï¼Œç›®å½•é¡¹å¯ä»¥é›†ä¸­å­˜æ”¾åœ¨ä¸€äº›ç‰©ç†ç°‡ä¸Šä¾¿äºæŸ¥è¯¢<br />
å½“æ‰¾åˆ°æ–‡ä»¶åå¯¹åº”çš„ç›®å½•é¡¹æ—¶ï¼Œæ‰éœ€è¦å°†ç´¢å¼•ç»“ç‚¹è°ƒå…¥å†…å­˜ï¼Œç´¢å¼•ç»“ç‚¹ä¸­è®°å½•äº†æ–‡ä»¶çš„å„ç§ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ–‡ä»¶åœ¨å¤–å­˜ä¸­çš„å­˜æ”¾ä½ç½®ï¼Œæ ¹æ®â€œå­˜æ”¾ä½ç½®â€å³å¯æ‰¾åˆ°æ–‡ä»¶<br />
æ“ä½œç³»ç»Ÿä¸­çš„æ–‡ä»¶å¤¹ï¼Œå®é™…ä¸Šæ˜¯ä¸€ç§ç›®å½•æ–‡ä»¶ï¼Œç›®å½•æ–‡ä»¶åªå­˜æ”¾ç›®å½•é¡¹FCB,å¯ä»¥é€šè¿‡ç›®å½•æ–‡ä»¶çš„FCBè°ƒå–åˆ°ç›®å½•æ–‡ä»¶</p>
<p>ç‰©ç†å­˜æ”¾ä¸Šï¼Œå¯åˆ†ä¸ºï¼š</p>
<ul>
<li>è¿ç»­å­˜æ”¾ï¼Œæ­¤æ—¶FCBæˆ–è€…ç´¢å¼•ç»“ç‚¹å¯ä»¥ç”¨(èµ·å§‹å—å·,å—æ•°)çš„å½¢å¼æè¿°æ–‡ä»¶ç‰©ç†åœ°å€<br />
</li>
<li>éšå¼é“¾æ¥ï¼Œç›®å½•é¡¹éœ€è¦è®°è½½èµ·å§‹ç»“æŸå—å·æˆ–è€…æŒ‡é’ˆï¼Œæ¶‰åŠåˆ°çš„æ¯ä¸ªç£ç›˜å—æœ‰æŒ‡å‘ä¸‹ä¸€å—çš„æŒ‡é’ˆ(æŒ‡é’ˆå¤§å°ä¸è®¡å…¥æ–‡ä»¶å¤§å°)<br />
</li>
<li>æ˜¾å¼é“¾æ¥ï¼Œä¸€ä¸ªç£ç›˜è®¾ç½®ä¸€å¼ æ–‡ä»¶åˆ†é…è¡¨FATï¼Œå¸¸é©»å†…å­˜ï¼Œç”±äºè¡¨é¡¹ç­‰é•¿ï¼Œç‰©ç†å—å·(è¡¨é¡¹çš„ç´¢å¼•)å¯ä»¥ç­‰é•¿,è®¿é—®ç¬¬iå—å¯ä»¥æŸ¥è¡¨ï¼Œé¿å…ä½é€Ÿçš„IO(éšæœºè®¿é—®)<br />
</li>
<li>ç´¢å¼•è¡¨ï¼Œæ¯ä¸ªæ–‡ä»¶éœ€è¦ç´¢å¼•è¡¨ï¼Œå­˜æ”¾åœ¨ç‰¹å®šç‰©ç†ç°‡ï¼Œç§°ä¸ºç´¢å¼•å—ï¼Œä¸æ•°æ®å—åŒºåˆ†ï¼ŒFCB(æˆ–è€…ç´¢å¼•ç»“ç‚¹)éœ€è¦è®°å½•ç´¢å¼•å—å·ï¼Œç´¢å¼•å—å¯ä»¥é“¾æ¥ï¼Œå¯ä»¥åˆ†å±‚ï¼Œå¯ä»¥åƒlinuxä¸€æ ·æ··åˆåœ¨inodeé‡Œ</li>
</ul>
<p>æ–‡ä»¶æ“ä½œï¼š</p>
<ol type="1">
<li>åˆ›å»º(createç³»ç»Ÿè°ƒç”¨)
<ol type="1">
<li>æ‰¾åˆ°è¶³å¤Ÿçš„ç©ºé—²ç¡¬ç›˜å—<br />
</li>
<li>æ ¹æ®è·¯å¾„æ‰¾åˆ°åˆ›å»ºç›®å½•çš„ç›®å½•æ–‡ä»¶ï¼Œä¸ºå…¶å¢åŠ ä¸€ä¸ªç›®å½•é¡¹<br />
</li>
</ol></li>
<li>åˆ é™¤(delete)
<ol type="1">
<li>æ‰¾åˆ°ç›®å½•é¡¹ï¼Œæ ¹æ®ç‰©ç†å—ä¿¡æ¯å›æ”¶ç£ç›˜<br />
</li>
<li>åˆ é™¤ç›®å½•é¡¹(åœ¨ä¸Šçº§ç›®å½•çš„ç›®å½•æ–‡ä»¶é‡Œ)<br />
</li>
</ol></li>
<li>æ‰“å¼€(open)
<ol type="1">
<li>æ‰¾åˆ°ç›®å½•é¡¹ï¼Œæ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰è¶³å¤Ÿæƒé™<br />
</li>
<li>å°†ç›®å½•é¡¹è°ƒå…¥å†…å­˜çš„æ‰“å¼€æ–‡ä»¶è¡¨ï¼Œè¿”å›ç”¨æˆ·çš„æ˜¯å¯¹åº”è¡¨é¡¹çš„ç¼–å·ï¼Œä¸éœ€è¦è°ƒå…¥æ–‡ä»¶å†…å®¹(åˆ†ä¸ºè¿›ç¨‹å’Œç³»ç»Ÿï¼Œç³»ç»Ÿä¸­çš„è¡¨é¡¹æœ‰æ‰“å¼€è®¡æ•°ï¼Œè¿›ç¨‹ä¸­é“¾æ¥åˆ°ç³»ç»Ÿçš„è¡¨é¡¹ï¼Œå¹¶ä¸”è¿›ç¨‹æœ‰è‡ªå·±çš„è¯»å†™æŒ‡é’ˆ)<br />
</li>
</ol></li>
<li>å…³é—­(close)
<ol type="1">
<li>åˆ é™¤è¿›ç¨‹çš„æ‰“å¼€æ–‡ä»¶è¡¨é¡¹<br />
</li>
<li>å›æ”¶å†…å­˜<br />
</li>
<li>ç³»ç»Ÿæ‰“å¼€æ–‡ä»¶è¡¨é¡¹ï¼Œæ‰“å¼€è®¡æ•°å™¨å‡ä¸€ï¼Œè‹¥ä¸º0åˆ é™¤<br />
</li>
</ol></li>
<li>è¯»(read)
<ol type="1">
<li>æ ¹æ®è¯»å†™æŒ‡é’ˆï¼Œè¯»å…¥é•¿åº¦ï¼Œè¯»åæ•°æ®å­˜æ”¾ä½ç½®è¿›è¡Œè¯»å‘½ä»¤<br />
</li>
</ol></li>
<li>å†™(write)
<ol type="1">
<li>ç±»ä¼¼è¯»å‘½ä»¤</li>
</ol></li>
</ol>
<p><strong>æ³¨æ„</strong>ï¼š(è¿›ç¨‹)æ‰“å¼€æ–‡ä»¶è¡¨çš„ç´¢å¼•å·ä¹Ÿå«<strong>æ–‡ä»¶æè¿°ç¬¦(å¥æŸ„)</strong>ï¼Œè¯»å†™æ—¶ç”¨æè¿°ç¬¦å³å¯æŒ‡å®šæ–‡ä»¶ï¼Œæ— éœ€è®¿é—®å¤–å­˜çš„æ–‡ä»¶å</p>
<p>æ–‡ä»¶å…±äº«ï¼š</p>
<ul>
<li>ç¡¬é“¾æ¥ï¼šç›®å½•æ–‡ä»¶çš„ç›®å½•é¡¹åªæä¾›æ–‡ä»¶åå’Œç´¢å¼•ç»“ç‚¹æŒ‡é’ˆ(ç¡¬ç›˜å—å·)ï¼Œç´¢å¼•èŠ‚ç‚¹ç»´æŠ¤æ‰“å¼€è®¡æ•°ï¼Œé“¾æ¥åˆ°åŒä¸€ä¸ªç´¢å¼•èŠ‚ç‚¹çš„ä¸¤ä¸ªç›®å½•é¡¹å…±äº«ä¸€ä¸ªç´¢å¼•èŠ‚ç‚¹è¡¨ç¤ºçš„æ–‡ä»¶<br />
</li>
<li>è½¯é“¾æ¥ï¼šä¸€ç§ç±»å‹ä¸ºLinkçš„æ–‡ä»¶ï¼Œå†…å®¹åŒ…æ‹¬é“¾æ¥æ–‡ä»¶çš„è·¯å¾„ï¼Œå¯ä»¥ç”¨è¿™ä¸ªè·¯å¾„æ£€ç´¢åˆ°å¯¹åº”æ–‡ä»¶ï¼Œä½†é™¤æ­¤ä»¥å¤–å’Œé“¾æ¥æ–‡ä»¶æ— å…³ï¼Œæ ¹æ®è·¯å¾„å¯»æ‰¾å‘ç°æ— æ•ˆååˆ é™¤</li>
</ul>
<p><img src="/assets/resources/Pasted%20image%2020240221111830.png" /></p>
</div>
<h2 id="ç›®å½•">ç›®å½•</h2>
<p>FCBçš„æœ‰åºé›†åˆç§°ä¸ºç›®å½•ï¼ŒFCBåˆ™æ˜¯ç›®å½•é¡¹<br />
ç›®å½•ç®¡ç†çš„åŸºæœ¬è¦æ±‚ï¼šæŒ‰åå­˜å–,è®¿é—®æ§åˆ¶ï¼Œä¸åŒç”¨æˆ·å¯¹ä¸åŒæ–‡ä»¶é‡‡ç”¨ç›¸åŒçš„åå­—ï¼Œæ€§èƒ½è¾ƒå¥½ç­‰</p>
<p><strong>ç›®å½•ç»“æ„</strong></p>
<ol type="1">
<li>å•çº§ç›®å½•ï¼Œå½“è®¿é—®ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œå…ˆæŒ‰æ–‡ä»¶ååœ¨è¯¥ç›®å½•ä¸­æŸ¥æ‰¾åˆ°ç›¸åº”çš„FCBï¼Œå»ºç«‹æ–°æ–‡ä»¶æ—¶éœ€è¦å…ˆç¡®ä¿æ²¡æœ‰é‡åå†æ–°å¢ä¸€ä¸ªç›®å½•é¡¹<br />
</li>
<li>ä¸¤çº§ç›®å½•ï¼Œåˆ†ä¸ºä¸»æ–‡ä»¶ç›®å½•MDFå’Œç”¨æˆ·æ–‡ä»¶ç›®å½•UFD,ä¸»æ–‡ä»¶ç›®å½•é¡¹è®°å½•ç”¨æˆ·ååŠç›¸åº”ç”¨æˆ·æ–‡ä»¶ç›®å½•æ‰€åœ¨çš„å­˜å‚¨ä½ç½®ã€‚ç”¨æˆ·æ–‡ä»¶ç›®å½•é¡¹è®°å½•è¯¥ç”¨æˆ·æ–‡ä»¶çš„FCBä¿¡æ¯ã€‚å½“æŸç”¨æˆ·æ¬²å¯¹å…¶æ–‡ä»¶è¿›è¡Œè®¿é—®æ—¶ï¼Œåªéœ€æœç´¢è¯¥ç”¨æˆ·å¯¹åº”çš„UFDï¼Œè¿™æ ·è§£å†³äº†é‡åé—®é¢˜<br />
</li>
<li>æ ‘å½¢ç›®å½•(æœ€æ™®é)ï¼Œç”¨æ–‡ä»¶çš„è·¯å¾„åæ ‡è¯†æ–‡ä»¶ï¼Œæ–‡ä»¶è·¯å¾„åæ˜¯ä¸ªå­—ç¬¦ä¸²ï¼Œç”±ä»æ ¹ç›®å½•å‡ºå‘åˆ°æ‰€æ‰¾æ–‡ä»¶é€šè·¯ä¸Šæ‰€æœ‰ç›®å½•åä¸æ•°æ®æ–‡ä»¶åç”¨åˆ†éš”ç¬¦â€œ/â€é“¾æ¥è€Œæˆï¼Œåˆ†ä¸ºç»å¯¹è·¯å¾„(æ ¹ç›®å½•å¼€å§‹)å’Œç›¸å¯¹è·¯å¾„(å½“å‰ç›®å½•å¼€å§‹)ï¼Œä¸€èˆ¬æ“ä½œç³»ç»Ÿæä¾›ä¸€æ¡ä¸“é—¨çš„ç³»ç»Ÿè°ƒç”¨ï¼Œä¾›ç”¨æˆ·éšæ—¶æ”¹å˜<br />
</li>
<li>æ— ç¯å›¾ç›®å½•ç»“æ„,æ¯ä¸ªå…±äº«ç»“ç‚¹è®¾ç½®ä¸€ä¸ªå…±äº«è®¡æ•°å™¨,å½’é›¶æ‰å¯ä»¥åˆ é™¤ï¼Œå¯¹äºå…±äº«æ–‡ä»¶ï¼Œåªå­˜åœ¨ä¸€ä¸ªçœŸæ­£çš„æ–‡ä»¶ï¼Œä»»ä½•æ”¹å˜éƒ½ä¼šä¸ºå…¶ä»–ç”¨æˆ·æ‰€è§</li>
</ol>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231220121025.png" /><br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231220121323.png" /><br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231220121512.png" /><br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231220121641.png" /></p>
<p><strong>ç›®å½•æ“ä½œ</strong></p>
<ul>
<li>æœç´¢<br />
</li>
<li>åˆ›å»ºæ–‡ä»¶ï¼Œæ–°å¢ç›®å½•é¡¹<br />
</li>
<li>åˆ é™¤æ–‡ä»¶ï¼Œåˆ é™¤ç›®å½•é¡¹<br />
</li>
<li>åˆ›å»ºç›®å½•<br />
</li>
<li>åˆ é™¤ç›®å½•ï¼Œåˆ†ä¸ºå¯åˆ é™¤éç©ºç›®å½•å’Œä¸å¯åˆ é™¤ï¼Œåè€…éœ€è¦é€’å½’åˆ é™¤ç›®å½•ä¸­æ–‡ä»¶å’Œç›®å½•<br />
</li>
<li>ç§»åŠ¨ç›®å½•<br />
</li>
<li>æ˜¾ç¤ºç›®å½•<br />
</li>
<li>ä¿®æ”¹ç›®å½•å±æ€§<br />
ç›®å½•ä¸€èˆ¬æœ‰å“ˆå¸Œè¡¨å’Œçº¿æ€§è¡¨ä¸¤ç§å®ç°</li>
</ul>
<p><strong>æ–‡ä»¶å…±äº«</strong></p>
<ul>
<li>åŸºäºç´¢å¼•ç»“ç‚¹çš„å…±äº«æ–¹å¼(ç¡¬é“¾æ¥)ï¼šæ–‡ä»¶å±æ€§ç­‰ä¿¡æ¯ï¼Œä¸å†æ”¾åœ¨ç›®å½•é¡¹ä¸­ï¼Œè€Œæ”¾åœ¨ç´¢å¼•ç»“ç‚¹ä¸­ã€‚åœ¨æ–‡ä»¶ç›®å½•ä¸­åªè®¾ç½®æ–‡ä»¶ååŠæŒ‡å‘ç›¸åº”ç´¢å¼•ç»“ç‚¹çš„æŒ‡é’ˆã€‚åœ¨ç´¢å¼•ç»“ç‚¹ä¸­è¿˜åº”æœ‰ä¸€ä¸ªé“¾æ¥è®¡æ•°count,ç”¨äºè¡¨ç¤ºé“¾æ¥åˆ°æœ¬ç´¢å¼•ç»“ç‚¹(å³æ–‡ä»¶)ä¸Šçš„ç”¨æˆ·ç›®å½•é¡¹çš„æ•°ç›®ã€‚<br />
</li>
<li>åˆ©ç”¨ç¬¦å·é“¾å®ç°æ–‡ä»¶å…±äº«(è½¯é“¾æ¥)ï¼šä¸ºä½¿ç”¨æˆ·Bèƒ½å…±äº«ç”¨æˆ·Açš„ä¸€ä¸ªæ–‡ä»¶F,å¯ä»¥ç”±ç³»ç»Ÿåˆ›å»ºä¸€ä¸ªLINKç±»å‹çš„æ–°æ–‡ä»¶ï¼Œä¹Ÿå–åä¸ºF,å¹¶å°†è¯¥æ–‡ä»¶å†™å…¥ç”¨æˆ·Bçš„ç›®å½•ä¸­ï¼Œç³»ç»Ÿçœ‹åˆ°è¦è¯»çš„æ–‡ä»¶æ˜¯LINKç±»å‹ï¼Œåˆ™æ ¹æ®è¯¥æ–‡ä»¶ä¸­çš„è·¯å¾„åå»æ‰¾åˆ°æ–‡ä»¶F,ç„¶åå¯¹å®ƒè¿›è¡Œè¯»ã€‚åªæœ‰æ–‡ä»¶ä¸»æ‰æ‹¥æœ‰æŒ‡å‘å…¶ç´¢å¼•ç»“ç‚¹çš„æŒ‡é’ˆã€‚è€Œå…±äº«è¯¥æ–‡ä»¶çš„å…¶ä»–ç”¨æˆ·åªæœ‰è¯¥æ–‡ä»¶çš„è·¯å¾„åï¼Œå½“æ–‡ä»¶ä¸»æŠŠä¸€ä¸ªå…±äº«æ–‡ä»¶åˆ é™¤åï¼Œè‹¥å…¶ä»–ç”¨æˆ·åˆè¯•å›¾é€šè¿‡ç¬¦å·é“¾å»è®¿é—®å®ƒæ—¶ï¼Œåˆ™ä¼šè®¿é—®å¤±è´¥ï¼Œäºæ˜¯å°†ç¬¦å·é“¾æ¥åˆ é™¤,ç¼ºç‚¹æ˜¯å¢åŠ I/Oå¼€é”€ä¸ä¸€å®šçš„ç©ºé—´å¼€é”€<br />
</li>
<li>ä¸¤ä¸ªè¿›ç¨‹åŒæ—¶å¯¹åŒä¸€ä¸ªæ–‡ä»¶è¿›è¡Œæ“ä½œï¼Œè¿™æ ·çš„å…±äº«ç§°ä¸ºåŠ¨æ€å…±äº«</li>
</ul>
<p>ç¡¬é“¾æ¥çš„æŸ¥æ‰¾é€Ÿåº¦è¦æ¯”è½¯é“¾æ¥çš„å¿«</p>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231220122126.png" /><br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231220122157.png" /></p>
<div class="note warning"><ul>
<li>næ¡è®°å½•çš„å¹³å‡æŸ¥æ‰¾æ¬¡æ•°æ˜¯(1+n)/2<br />
</li>
<li>ç´¢å¼•åˆ†é…ä¸‹æ–‡ä»¶æœ€å¤§ç­‰äº(<code>ç´¢å¼•æ€»æ•°*æ–‡ä»¶å—å¤§å°</code>)<br />
</li>
<li>å¯¹æ–‡ä»¶ä¿®æ”¹åéœ€è¦å†™å›æ“ä½œ<br />
</li>
<li>æå‰è¯»(å°†å¯èƒ½è®¿é—®ç›˜å—è¯»å…¥å†…å­˜)å’Œå»¶è¿Ÿå†™(å¯¹æ–‡ä»¶çš„ä¿®æ”¹å…ˆå†™å…¥ç¼“å†²åŒºä»¥ä¾¿é«˜é€Ÿè¯»å–ï¼Œç¼“å†²ä¸å¤Ÿæ‰å†™å…¥æ–‡ä»¶)ï¼Œç¡¬ç›˜é«˜é€Ÿç¼“å­˜å’Œè¿ç»­åˆ†é…ç©ºé—´éƒ½å¯ä»¥æé«˜æ–‡ä»¶è®¿é—®é€Ÿåº¦<br />
</li>
<li>å¹³å‡è®¿é—®ç¡¬ç›˜å—æ•°=æ¯ä¸ªè®¿é—®é¡¹éœ€è¦çš„è®¿é—®æ¬¡æ•°ä¹‹å’Œ/è®¿é—®é¡¹æ€»æ•°<br />
</li>
<li>è¯»å’Œå†™å„è‡ªç®—ä¸€æ¬¡è®¿é—®io,ä¾‹å¦‚ç§»åŠ¨è®°å½•è¿™ç§æ“ä½œéœ€è¦ä¸¤æ¬¡è®¿é—®io<br />
</li>
<li>æ–‡ä»¶æœ€å¤§é•¿åº¦åªè®¡ç®—æ•°æ®éƒ¨åˆ†ï¼Œéœ€è¦å‡å»é“¾æ¥æŒ‡é’ˆå ç”¨å¤§å°<br />
</li>
<li>ç¬¦å·é“¾æ¥æ— æ³•æ„ŸçŸ¥é“¾æ¥æ–‡ä»¶çš„çŠ¶æ€ï¼Œå¼•ç”¨è®¡æ•°ä¿æŒä¸å˜<br />
</li>
<li>è¿›ç¨‹çš„è¯»/å†™æŒ‡é’ˆè®°å½•äº†è¯¥è¿›ç¨‹å¯¹æ–‡ä»¶çš„è¯»/å†™æ“ä½œè¿›è¡Œåˆ°çš„ä½ç½®ï¼Œç‹¬å±äºè¿›ç¨‹<br />
</li>
<li>æ–‡ä»¶æè¿°ç¬¦æ˜¯è¿›ç¨‹å„è‡ªçš„ç”¨æˆ·æ‰“å¼€æ–‡ä»¶è¡¨é¡¹çš„ç´¢å¼•å·<br />
</li>
<li>FATçš„æ¯ä¸ªè¡¨é¡¹ä¸­å­˜æ”¾ä¸‹ä¸€ä¸ªç°‡å·,ä¸”è¿ç»­å­˜æ”¾ï¼Œè®¿é—®ç‰¹å®šåœ°å€æ—¶å¯ä»¥è®¡ç®—è¦è®¿é—®çš„æ˜¯ç¬¬å‡ ä¸ªåœ°å€å—ï¼Œä»è€ŒæŸ¥è¡¨ç›´æ¥æ‰¾åˆ°å…¶ç‰©ç†å—å·<br />
</li>
<li>æ–‡ä»¶ç³»ç»Ÿçš„æ–‡ä»¶ç´¢å¼•ç»“ç‚¹æ•°å†³å®šå¯å­˜æ”¾çš„æ–‡ä»¶æ•°ï¼Œä¸€ä¸ªç´¢å¼•ç»“ç‚¹çš„åœ°å€é¡¹æ•°é‡å’Œæ€§è´¨ä»¥åŠç°‡å¯å­˜æ”¾çš„åœ°å€é¡¹æ•°é‡å†³å®šä¸€ä¸ªæ–‡ä»¶çš„æœ€å¤§é•¿åº¦<br />
</li>
<li>æ‰“å¼€æ–‡ä»¶æŒ‡çš„æ˜¯å°†å…¶ç›®å½•é¡¹è¯»å…¥å†…å­˜ï¼Œä¸”å†™å…¥æ‰“å¼€æ–‡ä»¶è¡¨ï¼Œä¸åŒ…æ‹¬å°†å…¶å†…å®¹è°ƒå…¥å†…å­˜</li>
</ul>
</div>
<h2 id="æ–‡ä»¶ç³»ç»Ÿ">æ–‡ä»¶ç³»ç»Ÿ</h2>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231221205930.png" /><br />
å›¾ä¸­ï¼š</p>
<ul>
<li>åŸºæœ¬æ–‡ä»¶ç³»ç»Ÿï¼šå‘ç›¸åº”è®¾å¤‡é©±åŠ¨ç¨‹åºå‘ç”Ÿå‘½ä»¤ï¼Œè¯»å†™ç£ç›˜çš„ç‰©ç†å—ï¼›ç®¡ç†å†…å­˜ç¼“å†²åŒºï¼Œå­˜æ–‡ä»¶ç³»ç»Ÿéœ€è¦çš„ç¼“å­˜<br />
</li>
<li>æ–‡ä»¶ç»„ç»‡æ¨¡å—ï¼šç»„ç»‡æ–‡ä»¶åŠå…¶é€»è¾‘å’Œç‰©ç†å—ï¼Œå¹¶è¿›è¡Œé€»è¾‘ç‰©ç†å—çš„è½¬æ¢ï¼›ç©ºé—²ç©ºé—´ç®¡ç†å™¨ï¼Œè·Ÿè¸ªæœªåˆ†é…çš„å—<br />
</li>
<li>é€»è¾‘æ–‡ä»¶ç³»ç»Ÿï¼Œç®¡ç†å…ƒæ•°æ®ï¼Œå³æ–‡ä»¶ç³»ç»Ÿçš„æ‰€æœ‰ç»“æ„ï¼Œä½†ä¸åŒ…æ‹¬å®é™…æ•°æ®ï¼Œæœ¬è´¨ä¸Šé€šè¿‡FCBå®ç°ï¼›æ–‡ä»¶ä¿æŠ¤</li>
</ul>
<h3 id="å¸ƒå±€">å¸ƒå±€</h3>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231221210857.png" /><br />
<div class="note info"><ol type="1">
<li>ä¸»å¼•å¯¼è®°å½•(Master Boot Record, MBR),ä½äºç£ç›˜çš„0å·æ‰‡åŒºï¼Œç”¨æ¥å¼•å¯¼è®¡ç®—æœºï¼ŒMBRåé¢æ˜¯åˆ†åŒºè¡¨ï¼Œè¯¥è¡¨ç»™å‡ºæ¯ä¸ªåˆ†åŒºçš„èµ·å§‹å’Œç»“æŸåœ°å€ã€‚è¡¨ä¸­çš„ä¸€ä¸ªåˆ†åŒºè¢«æ ‡è®°ä¸ºæ´»åŠ¨åˆ†åŒºï¼Œå½“è®¡ç®—æœºå¯åŠ¨æ—¶ï¼ŒBIOSè¯»å…¥å¹¶æ‰§è¡ŒMBRã€‚MBRåšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ç¡®å®šæ´»åŠ¨åˆ†åŒºï¼Œè¯»å…¥å®ƒçš„ç¬¬ä¸€å—ï¼Œå³å¼•å¯¼å—ã€‚<br />
</li>
<li>å¼•å¯¼å—(boot block), MBRæ‰§è¡Œå¼•å¯¼å—ä¸­çš„ç¨‹åºåï¼Œè¯¥ç¨‹åºè´Ÿè´£å¯åŠ¨è¯¥åˆ†åŒºä¸­çš„æ“ä½œç³»ç»Ÿã€‚ä¸ºç»Ÿä¸€èµ·è§ï¼Œæ¯ä¸ªåˆ†åŒºéƒ½ä»ä¸€ä¸ªå¼•å¯¼å—å¼€å§‹ï¼Œå³ä½¿å®ƒä¸å«æœ‰ä¸€ä¸ªå¯å¯åŠ¨çš„æ“ä½œç³»ç»Ÿ,ä¹Ÿä¸æ’é™¤ä»¥åä¼šåœ¨è¯¥åˆ†åŒºå®‰è£…ä¸€ä¸ªæ“ä½œç³»ç»Ÿã€‚Windowsç³»ç»Ÿç§°ä¹‹ä¸ºåˆ†åŒºå¼•å¯¼æ‰‡åŒºã€‚é™¤äº†ä»å¼•å¯¼å—å¼€å§‹ï¼Œç£ç›˜åˆ†åŒºçš„å¸ƒå±€æ˜¯éšç€æ–‡ä»¶ç³»ç»Ÿçš„ä¸åŒè€Œå˜åŒ–çš„ã€‚æ–‡ä»¶ç³»ç»Ÿç»å¸¸åŒ…å«æœ‰å¦‚å›¾4.18æ‰€åˆ—çš„ä¸€äº›é¡¹ç›®ã€‚<br />
</li>
<li>è¶…çº§å—(super block),åŒ…å«æ–‡ä»¶ç³»ç»Ÿçš„æ‰€æœ‰å…³é”®ä¿¡æ¯ï¼Œåœ¨è®¡ç®—æœºå¯åŠ¨æ—¶ï¼Œæˆ–è€…åœ¨è¯¥æ–‡ä»¶ç³»ç»Ÿé¦–æ¬¡ä½¿ç”¨æ—¶ï¼Œè¶…çº§å—ä¼šè¢«è¯»å…¥å†…å­˜ã€‚è¶…çº§å—ä¸­çš„å…¸å‹ä¿¡æ¯åŒ…æ‹¬åˆ†åŒºçš„å—çš„æ•°é‡ã€å—çš„å¤§å°ã€ç©ºé—²å—çš„æ•°é‡å’ŒæŒ‡é’ˆã€ç©ºé—²çš„FCBæ•°é‡å’ŒFCBæŒ‡é’ˆç­‰ã€‚<br />
</li>
<li>æ–‡ä»¶ç³»ç»Ÿä¸­ç©ºé—²å—çš„ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨ä½ç¤ºå›¾æˆ–æŒ‡é’ˆé“¾æ¥çš„å½¢å¼ç»™å‡ºã€‚åé¢ä¹Ÿè®¸æ˜¯ä¸€ç»„iç»“ç‚¹ï¼Œæ¯ä¸ªæ–‡ä»¶å¯¹åº”ä¸€ä¸ªç»“ç‚¹ï¼Œiç»“ç‚¹åŒ…å«æ–‡ä»¶å±æ€§ã€‚ä¹Ÿå¯èƒ½æ˜¯æ ¹ç›®å½•ï¼Œå®ƒå­˜æ”¾æ–‡ä»¶ç³»ç»Ÿç›®å½•æ ‘çš„æ ¹éƒ¨ã€‚æœ€åï¼Œç£ç›˜çš„å…¶ä»–éƒ¨åˆ†å­˜æ”¾äº†å…¶ä»–æ‰€æœ‰çš„ç›®å½•å’Œæ–‡ä»¶</li>
</ol>
</div></p>
<p><strong>åœ¨å†…å­˜ä¸­çš„ç»“æ„</strong></p>
<p>å†…å­˜ä¸­çš„ä¿¡æ¯ç”¨äºç®¡ç†æ–‡ä»¶ç³»ç»Ÿå¹¶é€šè¿‡ç¼“å­˜æ¥æé«˜æ€§èƒ½ã€‚è¿™äº›æ•°æ®åœ¨å®‰è£…æ–‡ä»¶ç³»ç»Ÿæ—¶è¢«åŠ è½½ï¼Œåœ¨æ–‡ä»¶ç³»ç»Ÿæ“ä½œæœŸé—´è¢«æ›´æ–°ï¼Œåœ¨å¸è½½æ—¶è¢«ä¸¢å¼ƒã€‚å¯èƒ½åŒ…æ‹¬ï¼š</p>
<ol type="1">
<li>å†…å­˜ä¸­çš„å®‰è£…è¡¨(mounttable),åŒ…å«æ¯ä¸ªå·²å®‰è£…æ–‡ä»¶ç³»ç»Ÿåˆ†åŒºçš„æœ‰å…³ä¿¡æ¯ã€‚<br />
</li>
<li>å†…å­˜ä¸­çš„ç›®å½•ç»“æ„çš„ç¼“å­˜,åŒ…å«æœ€è¿‘è®¿é—®ç›®å½•çš„ä¿¡æ¯ã€‚å¯¹å®‰è£…åˆ†åŒºçš„ç›®å½•ï¼Œå®ƒå¯ä»¥åŒ…æ‹¬ä¸€ä¸ªæŒ‡å‘åˆ†åŒºè¡¨çš„æŒ‡é’ˆã€‚<br />
</li>
<li>æ•´ä¸ªç³»ç»Ÿçš„æ‰“å¼€æ–‡ä»¶è¡¨ï¼ŒåŒ…å«æ¯ä¸ªæ‰“å¼€æ–‡ä»¶çš„FCBå‰¯æœ¬åŠå…¶ä»–ä¿¡æ¯ã€‚<br />
</li>
<li>æ¯ä¸ªè¿›ç¨‹çš„æ‰“å¼€æ–‡ä»¶è¡¨ï¼ŒåŒ…å«ä¸€ä¸ªæŒ‡å‘æ•´ä¸ªç³»ç»Ÿçš„æ‰“å¼€æ–‡ä»¶è¡¨ä¸­çš„é€‚å½“æ¡ç›®çš„æŒ‡é’ˆï¼Œä»¥åŠå…¶ä»–ä¿¡æ¯</li>
</ol>
<p><strong>åˆ›å»ºæ–‡ä»¶çš„æµç¨‹</strong></p>
<ol type="1">
<li>è¿›ç¨‹è°ƒç”¨é€»è¾‘æ–‡ä»¶ç³»ç»Ÿ<br />
</li>
<li>é€»è¾‘æ–‡ä»¶ç³»ç»Ÿåˆ†é…ä¸€ä¸ªFCB<br />
</li>
<li>ç³»ç»Ÿå°†æ–°ç›®å½•è¯»å…¥å†…å­˜ï¼Œç”¨æ–‡ä»¶åå’ŒFCBæ›´æ–°ï¼Œå¹¶å†™å›ç£ç›˜</li>
</ol>
<p><strong>æ‰“å¼€æ–‡ä»¶çš„æµç¨‹</strong>ï¼š</p>
<ol type="1">
<li>è°ƒç”¨Openï¼Œæ–‡ä»¶åä¼ ç»™é€»è¾‘æ–‡ä»¶ç³»ç»Ÿ<br />
</li>
<li>æœç´¢ç³»ç»Ÿçš„æ‰“å¼€æ–‡ä»¶è¡¨
<ol type="1">
<li>å¦‚æœæœ‰å…¶ä»–è¿›ç¨‹ä½¿ç”¨ï¼Œåˆ™ç°åœ¨è¿›ç¨‹çš„æ‰“å¼€æ–‡ä»¶è¡¨è®¾ç½®æ¡ç›®æŒ‡å‘ç³»ç»Ÿçš„æ‰“å¼€æ–‡ä»¶è¡¨ç›¸åº”è¡¨é¡¹<br />
</li>
<li>å¦‚æœè¿™ä¸ªæ–‡ä»¶å°šæœªæ‰“å¼€ï¼Œåˆ™æ ¹æ®æ–‡ä»¶åæœç´¢ç›®å½•ç»“æ„ï¼Œæ‰¾åˆ°åå¤åˆ¶å…¶FCBåˆ°ç³»ç»Ÿæ‰“å¼€æ–‡ä»¶è¡¨ï¼Œè¿›ç¨‹çš„æ‰“å¼€æ–‡ä»¶è¡¨é¡¹å¢è®¾æ¡ç›®æŒ‡å‘ç³»ç»Ÿçš„è¡¨é¡¹ï¼Œé€šè¿‡æŒ‡é’ˆå°†æ•´ä¸ªç³»ç»Ÿæ‰“å¼€æ–‡ä»¶è¡¨çš„æ¡ç›®ä¸å…¶ä»–åŸŸç›¸è¿<br />
</li>
</ol></li>
<li>è¿”å›ä¸€ä¸ªæŒ‡å‘å•ä¸ªè¿›ç¨‹çš„æ‰“å¼€æ–‡ä»¶è¡¨ä¸­çš„é€‚å½“æ¡ç›®çš„æŒ‡é’ˆï¼Œæ–‡ä»¶æ“ä½œå°†ç”¨è¯¥æŒ‡é’ˆè¿›è¡Œ</li>
</ol>
<p><strong>å…³é—­æ–‡ä»¶çš„æµç¨‹</strong>ï¼š</p>
<ol type="1">
<li>åˆ é™¤å•ä¸ªè¿›ç¨‹æ‰“å¼€æ–‡ä»¶è¡¨ä¸­çš„ç›¸åº”æ¡ç›®ï¼Œæ•´ä¸ªç³»ç»Ÿçš„æ‰“å¼€æ–‡ä»¶è¡¨çš„æ–‡ä»¶æ‰“å¼€æ•°é‡ä¹Ÿä¼šé€’å‡<br />
</li>
<li>å½“æ‰€æœ‰æ‰“å¼€æŸä¸ªæ–‡ä»¶çš„ç”¨æˆ·éƒ½å…³é—­è¯¥æ–‡ä»¶åï¼Œä»»ä½•æ›´æ–°çš„å…ƒæ•°æ®å°†å¤åˆ¶åˆ°ç£ç›˜çš„ç›®å½•ç»“æ„ä¸­ï¼Œå¹¶ä¸”æ•´ä¸ªç³»ç»Ÿçš„æ‰“å¼€æ–‡ä»¶è¡¨çš„å¯¹åº”æ¡ç›®ä¹Ÿä¼šè¢«åˆ é™¤</li>
</ol>
<h3 id="å¤–å­˜ç®¡ç†">å¤–å­˜ç®¡ç†</h3>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231223205344.png" /><br />
ç£ç›˜å¯ä»¥åˆ’åˆ†æˆåˆ†åŒºï¼Œè¿™æ˜¯å•çº¯å¯¹ç¡¬ä»¶çš„åˆ’åˆ†ï¼Œè€Œæ–‡ä»¶ç³»ç»Ÿå´æ˜¯è½¯ä»¶å±‚é¢çš„æ¦‚å¿µï¼Œå› æ­¤ä¸€ä¸ªæœ‰æ–‡ä»¶ç³»ç»Ÿçš„åˆ†åŒºæ‰èƒ½å®é™…ä½¿ç”¨ï¼Œç§°ä¸ºå·ï¼Œå·å¯¹åº”ç¡¬ä»¶ä¸Šçš„å­˜å‚¨ï¼Œä¸å±€é™äºå…·ä½“è®¾å¤‡Â Â <br />
å·ä¸­çš„æ–‡ä»¶æ•°æ®å’ŒFCBæ˜¯åˆ†ç¦»çš„(æ±,ä¼¼ä¸ºåˆ†ç¦»è€Œç”Ÿ),ç°ä»£æ“ä½œç³»ç»Ÿå¾€å¾€æœ‰å¾ˆå¤šæ–‡ä»¶ç®¡ç†æ¨¡å—ï¼Œé€šè¿‡å®ƒä»¬å¯ä»¥è®¿é—®ä¸åŒæ ¼å¼å·çš„æ–‡ä»¶Â Â <br />
å·åœ¨æä¾›æ–‡ä»¶æœåŠ¡å‰ï¼Œå¿…é¡»ç”±å¯¹åº”çš„æ–‡ä»¶ç¨‹åºè¿›è¡Œåˆå§‹åŒ–ï¼Œåˆ’åˆ†å¥½ç›®å½•åŒºå’Œæ–‡ä»¶åŒºï¼Œå»ºç«‹ç©ºé—²ç©ºé—´ç®¡ç†è¡¨æ ¼åŠå­˜æ”¾å·ä¿¡æ¯çš„è¶…çº§å—Â Â <br />
æ–‡ä»¶å­˜å‚¨è®¾å¤‡ç®¡ç†å®è´¨ä¸Šæ˜¯å¯¹ç©ºé—²å—çš„ç»„ç»‡ç®¡ç†ï¼Œè¿‡ç¨‹ä¸­ä»¥å—ä¸ºå•ä½äº¤æ¢ä¿¡æ¯<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231223204422.png" /><br />
å¼•å¯¼ä¿¡æ¯æ˜¯ä¸€ç³»åˆ—å¯ä»¥åŠ è½½åˆ°å†…å­˜ä¸­çš„è¿ç»­å—ï¼ŒåŠ è½½åˆ°å†…å­˜åä»å…¶ç¬¬ä¸€æ¡ä»£ç å¼€å§‹æ‰§è¡Œï¼Œå¼•å¯¼ç¨‹åºä¾¿å¯åŠ¨ä¸€ä¸ªå…·ä½“çš„æ“ä½œç³»ç»Ÿã€‚å¼•å¯¼å—ä¹‹åæ˜¯è¶…çº§å—ï¼Œå®ƒå­˜å‚¨æ–‡ä»¶ç³»ç»Ÿçš„æœ‰å…³ä¿¡æ¯,éšåæ˜¯å¤šä¸ªç´¢å¼•ç»“ç‚¹,ç´¢å¼•ç»“ç‚¹ä¸­åŒ…å«å¤šä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å±äºè¯¥æ–‡ä»¶çš„å„ä¸ªæ•°æ®å—ã€‚æœ€åæ˜¯æ–‡ä»¶æ•°æ®å—<br />
æ–‡ä»¶ç³»ç»Ÿåœ¨è¿›ç¨‹ä½¿ç”¨å‰å¿…é¡»å…ˆå®‰è£…ï¼Œä¹Ÿç§°æŒ‚è½½</p>
<ul>
<li>Windowsç³»ç»Ÿç»´æŠ¤ä¸€ä¸ªæ‰©å±•çš„ä¸¤çº§ç›®å½•ç»“æ„ï¼Œç”¨é©±åŠ¨å™¨å­—æ¯è¡¨ç¤ºè®¾å¤‡å’Œå·ï¼Œå·å…·æœ‰å¸¸è§„æ ‘ç»“æ„çš„ç›®å½•ï¼Œä¸é©±åŠ¨å™¨å·ç›¸å…³è”ï¼Œæ¯ä¸ªå·æœ‰è‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿ<br />
</li>
<li>UNIXä½¿ç”¨ç³»ç»Ÿçš„æ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œç”±å†…æ ¸åœ¨å¼•å¯¼é˜¶æ®µç›´æ¥å®‰è£…,ä¹Ÿå¯ä»¥åç»­ç”¨è„šæœ¬æˆ–è€…ç”¨æˆ·å‘½ä»¤å®‰è£…åœ¨å·²æœ‰æ–‡ä»¶ç³»ç»Ÿçš„ç›®å½•ä¸‹ï¼Œä½œä¸ºä¸€ä¸ªç›®å½•æ ‘ï¼Œæ¯ä¸ªæ–‡ä»¶ç³»ç»Ÿéƒ½æ‹¥æœ‰è‡ªå·±çš„æ ¹ç›®å½•ã€‚å®‰è£…æ–‡ä»¶ç³»ç»Ÿçš„è¿™ä¸ªç›®å½•ç§°ä¸ºå®‰è£…ç‚¹ï¼Œå®‰è£…å°±æ˜¯å°†ç£ç›˜åˆ†åŒºæŒ‚è½½åˆ°è¯¥å®‰è£…ç‚¹ä¸‹ï¼Œè¿›å…¥è¯¥ç›®å½•å°±å¯ä»¥è¯»å–è¯¥åˆ†åŒºçš„æ•°æ®ã€‚å·±å®‰è£…æ–‡ä»¶ç³»ç»Ÿå±äºå®‰è£…ç‚¹ç›®å½•çš„ä¸€ä¸ªå­æ–‡ä»¶ç³»ç»Ÿã€‚</li>
</ul>
<ol type="1">
<li>ç©ºé—²è¡¨æ³•ï¼Œæ¯ä¸ªæ–‡ä»¶åˆ†é…ä¸€å—è¿ç»­ç©ºé—´ï¼Œç³»ç»Ÿä¸ºæ‰€æœ‰ç©ºé—²åŒºå»ºç«‹ç©ºé—²è¡¨ï¼Œå’Œè¡¨é¡¹ä¸€ä¸€å¯¹åº”ï¼Œç©ºé—²åŒºçš„åˆ†é…ç±»ä¼¼å†…å­˜åˆ†é…ï¼Œå¯ä»¥ç”¨é¦–æ¬¡/æœ€ä½³é€‚åº”ç­‰ï¼Œä¸é€‚ç”¨å¤§å‹ç³»ç»Ÿ<br />
</li>
<li>ç©ºé—²é“¾è¡¨æ³•ï¼Œæ‰€æœ‰ç©ºé—²ç›˜åŒºç»„æˆä¸€ä¸ªé“¾è¡¨ï¼Œä¸é€‚ç”¨å¤§å‹ç³»ç»Ÿ
<ol type="1">
<li>Â ç©ºé—²ç›˜å—é“¾ï¼Œåˆ†é…æ–‡ä»¶ä»é“¾é¦–è£å‰ªï¼Œå›æ”¶ç©ºé—´æ’å…¥åˆ°é“¾å°¾ï¼Œä½†è¿™æ ·çš„é“¾ä¼šå¾ˆé•¿<br />
</li>
<li>ç©ºé—²ç›˜åŒºé“¾ï¼Œç›˜åŒºå¯ä»¥åŒ…æ‹¬è‹¥å¹²ç›˜å—ï¼Œæ¯ä¸ªç›˜åŒºåŒ…æ‹¬è‡ªå·±ç›˜å—æ•°çš„ä¿¡æ¯ï¼Œä¸€èˆ¬ç”¨é¦–æ¬¡é€‚åº”åˆ†é…ï¼Œå’Œç¬¬ä¸€ä¸ªç›¸åï¼Œåˆ†é…å›æ”¶è¾ƒå¤æ‚ï¼Œæ•ˆç‡è¾ƒé«˜<br />
</li>
</ol></li>
<li>Â ä½ç¤ºå›¾æ³•ï¼Œç”¨äºŒè¿›åˆ¶çš„ä¸€ä½è¡¨ç¤ºä¸€ä¸ªç›˜å—ä½¿ç”¨æƒ…å†µï¼Œæ¯”å¦‚0è¡¨ç¤ºç©ºï¼Œ1è¡¨ç¤ºå·²åˆ†é…ï¼Œåˆ†é…è¿‡ç¨‹æ˜¯ï¼š
<ol type="1">
<li>Â é¡ºåºæ‰«æä½ç¤ºå›¾ï¼Œæ‰¾å‡ºè¶³å¤Ÿçš„0ä½<br />
</li>
<li>Â å°†æ‰¾åˆ°çš„äºŒè¿›åˆ¶ä½ï¼Œè½¬æ¢æˆå¯¹åº”ç›˜å—å·bï¼ŒbÂ =Â n(i-1)Â +j,ijæ˜¯åæ ‡ï¼Œnæ˜¯æ¯è¡Œä½æ•°<br />
</li>
<li>Â ä¿®æ”¹ä½ç¤ºå›¾,<code>map[i,j]=1</code><br />
</li>
<li>Â å›æ”¶æ—¶,<code>jÂ =Â (b-1)DIVn+Â 1</code>Â Â <code>jÂ =Â (b-1)Â MODn+Â 1</code>å¹¶ä¿®æ”¹<code>map[i,j]=0</code><br />
</li>
</ol></li>
<li>Â æˆç»„é“¾æ¥æ³•(UNIXä½¿ç”¨)ï¼ŒæŠŠé¡ºåºçš„nä¸ªç©ºé—²ç›˜å—å·ä¿å­˜åœ¨ç¬¬ä¸€ä¸ªæˆç»„é“¾å—ä¸­ï¼Œå…¶æœ€åä¸€ä¸ªç©ºé—²ç›˜å—(ä½œä¸ºæˆç»„é“¾å—)åˆ™ç”¨äºä¿å­˜å¦ä¸€ç»„ç©ºé—²ç›˜å—å·ï¼Œç³»ç»Ÿåªéœ€ä¿å­˜æŒ‡å‘ç¬¬ä¸€ä¸ªæˆç»„é“¾å—çš„æŒ‡é’ˆï¼Œåˆ†é…ä¸å›æ”¶è¿‡ç¨‹ï¼š
<ol type="1">
<li>Â æ ¹æ®ç¬¬ä¸€ä¸ªæˆç»„é“¾å—çš„æŒ‡é’ˆï¼Œå°†å…¶å¯¹åº”çš„ç›˜å—åˆ†é…ç»™ç”¨æˆ·<br />
</li>
<li>Â æŒ‡é’ˆåç§»ï¼Œå¦‚æœæŒ‡å‘æœ€åä¸€ä¸ªç›˜å—ï¼Œå°±æŠŠä¸‹ä¸€ç»„è¯»å…¥å†…å­˜ï¼ŒæŒ‡é’ˆæŒ‡å‘å…¶å¼€å¤´<br />
</li>
<li>Â å›æ”¶æ—¶ï¼Œæˆç»„é“¾å—çš„æŒ‡é’ˆä¸Šç§»ä¸€æ ¼ï¼Œå†è®°å…¥å›æ”¶ç›˜å—å·ã€‚å½“æˆç»„é“¾å—çš„é“¾æ¥æ•°è¾¾åˆ°næ—¶ï¼Œè¡¨ç¤ºå·±æ»¡ï¼Œä¾¿å°†ç°æœ‰å·²è®°å½•nä¸ªç©ºé—²ç›˜å—å·çš„æˆç»„é“¾å—å·ä½œä¸ºæ–°é“¾å—è®°å…¥æ–°å›æ”¶çš„ç›˜å—<br />
</li>
<li>Â è¡¨ç¤ºç©ºé—²ç©ºé—´çš„ä½å‘é‡è¡¨æˆ–ç¬¬ä¸€ä¸ªæˆç»„é“¾å—ï¼Œä»¥åŠå·ä¸­çš„ç›®å½•åŒºã€æ–‡ä»¶åŒºåˆ’åˆ†ä¿¡æ¯éƒ½è¦å­˜æ”¾åœ¨ç£ç›˜ä¸­ï¼Œä¸€èˆ¬æ”¾åœ¨å·å¤´ä½ç½®ï¼Œåœ¨UNIXç³»ç»Ÿä¸­ç§°ä¸ºè¶…çº§å—ã€‚åœ¨å¯¹å·ä¸­çš„æ–‡ä»¶è¿›è¡Œæ“ä½œå‰ï¼Œè¶…çº§å—éœ€è¦é¢„å…ˆè¯»å…¥ç³»ç»Ÿç©ºé—²çš„ä¸»å­˜ï¼Œå¹¶ä¸”ç»å¸¸ä¿æŒä¸»å­˜è¶…çº§å—ä¸ç£ç›˜å·ä¸­è¶…çº§å—çš„ä¸€è‡´</li>
</ol></li>
</ol>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231223205331.png" /><br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231223205318.png" /></p>
<h3 id="è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿvfs">è™šæ‹Ÿæ–‡ä»¶ç³»ç»ŸVFS</h3>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231223205303.png" /><br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231223205258.png" /><br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231223205226.png" /><br />
VFSæä¾›æ–‡ä»¶ç³»ç»Ÿçš„ç»Ÿä¸€æ¥å£ï¼Œä½¿ç”¨è€…ä¸éœ€è¦å…³æ³¨å…·ä½“å®ç°Â Â <br />
ä¸ºäº†å®ç°VFS,Â Linuxä¸»è¦æŠ½è±¡äº†å››ç§å¯¹è±¡ç±»å‹ã€‚æ¯ä¸ªVFSå¯¹è±¡éƒ½å­˜æ”¾åœ¨ä¸€ä¸ªé€‚å½“çš„æ•°æ®ç»“æ„ä¸­ï¼Œå…¶ä¸­åŒ…æ‹¬å¯¹è±¡çš„å±æ€§å’ŒæŒ‡å‘å¯¹è±¡æ–¹æ³•(å‡½æ•°)è¡¨çš„æŒ‡é’ˆã€‚</p>
<ul>
<li>è¶…çº§å—å¯¹è±¡ï¼šè¡¨ç¤ºä¸€ä¸ªå·±å®‰è£…(æˆ–ç§°æŒ‚è½½)çš„ç‰¹å®šæ–‡ä»¶ç³»ç»Ÿã€‚<br />
</li>
<li>ç´¢å¼•ç»“ç‚¹å¯¹è±¡ï¼›è¡¨ç¤ºä¸€ä¸ªç‰¹å®šçš„æ–‡ä»¶ã€‚<br />
</li>
<li>ç›®å½•é¡¹å¯¹è±¡ï¼šè¡¨ç¤ºä¸€ä¸ªç‰¹å®šçš„ç›®å½•é¡¹ã€‚<br />
</li>
<li>æ–‡ä»¶å¯¹è±¡ï¼šè¡¨ç¤ºä¸€ä¸ªä¸è¿›ç¨‹ç›¸å…³çš„å·²æ‰“å¼€æ–‡ä»¶</li>
</ul>
<p>linuxä¸­æœ‰ä¸€åˆ‡çš†æ–‡ä»¶çš„è¯´æ³•ï¼Œè¿™ä¹ŸåŒ…æ‹¬ç›®å½•ï¼Œç‰¹å®šåœ°è¯´ï¼š</p>
<ul>
<li>è¶…çº§å—å¯¹è±¡ï¼šå¯¹åº”æ–‡ä»¶ç³»ç»Ÿçš„è¶…çº§å—ï¼Œå­˜å‚¨æ–‡ä»¶ç³»ç»Ÿçš„å…ƒä¿¡æ¯<br />
</li>
<li>ç´¢å¼•èŠ‚ç‚¹å¯¹è±¡ï¼šæ–‡ä»¶ç³»ç»Ÿå¤„ç†æ–‡ä»¶æ‰€éœ€è¦çš„æ‰€æœ‰ä¿¡æ¯ï¼Œéƒ½æ”¾åœ¨ä¸€ä¸ªç§°ä¸ºç´¢å¼•ç»“ç‚¹çš„æ•°æ®ç»“æ„ä¸­ï¼Œç´¢å¼•ç»“ç‚¹å¯¹æ–‡ä»¶æ˜¯å”¯ä¸€çš„ã€‚åªæœ‰å½“æ–‡ä»¶è¢«è®¿é—®æ—¶ï¼Œæ‰åœ¨å†…å­˜ä¸­åˆ›å»ºç´¢å¼•ç»“ç‚¹å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æœ‰ä¸ªä¿®æ”¹çŠ¶æ€å­—ï¼Œç”¨äºæ›´æ–°<br />
</li>
<li>ç›®å½•é¡¹å¯¹è±¡ï¼šç›®å½•é¡¹å¯¹è±¡æ˜¯ä¸€ä¸ªè·¯å¾„çš„ç»„æˆéƒ¨åˆ†ï¼Œå®ƒè¦ä¹ˆæ˜¯ç›®å½•åï¼Œè¦ä¹ˆæ˜¯æ–‡ä»¶å;ä¾‹å¦‚'/test'ä¸­'/'å’Œ'test'éƒ½æ˜¯è¿™ç§å¯¹è±¡<br />
</li>
<li>æ–‡ä»¶å¯¹è±¡ï¼šæ–‡ä»¶å¯¹è±¡ä»£è¡¨è¿›ç¨‹æ‰“å¼€çš„ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ–‡ä»¶å¯ä»¥å¯¹åº”å‡ºå¤šä¸ªæ–‡ä»¶å¯¹è±¡ï¼Œå®ƒå¯¹åº”ä¸€ä¸ªå”¯ä¸€çš„ç´¢å¼•èŠ‚ç‚¹å’Œç›®å½•é¡¹ï¼ŒåŒ…å«ä¸€äº›æ–‡ä»¶çš„å¿…è¦ä¿¡æ¯</li>
</ul>
<p>ç‰©ç†å­˜å‚¨ä¸­ï¼Œä¸åŒæ–‡ä»¶ç³»ç»Ÿçš„ç›®å½•é¡¹ï¼Œç´¢å¼•ç»“ç‚¹ç­‰ä¹Ÿä¸åŒï¼ŒVFSç”¨ç»Ÿä¸€çš„vnodeè¡¨ç¤ºæ–‡ä»¶ï¼Œåªè¿è¡Œåœ¨å†…å­˜ä¸­(ä¸inodeä¸åŒçš„æ˜¯inodeå¯ä»¥å­˜åœ¨å¤–å­˜)<br />
VFSè¿˜æœ‰å¦ä¸€ä¸ªé‡è¦ä½œç”¨ï¼Œå³æé«˜ç³»ç»Ÿæ€§èƒ½ã€‚æœ€è¿‘æœ€å¸¸ä½¿ç”¨çš„ç›®å½•é¡¹å¯¹è±¡è¢«æ”¾åœ¨ç›®å½•é¡¹é«˜é€Ÿç¼“å­˜çš„ç£ç›˜ç¼“å­˜ä¸­ï¼Œä»¥åŠ é€Ÿä»æ–‡ä»¶è·¯å¾„ååˆ°æœ€åä¸€ä¸ªè·¯å¾„åˆ†é‡çš„ç´¢å¼•ç»“ç‚¹çš„è½¬æ¢è¿‡ç¨‹,VFSå¹¶ä¸æ˜¯ä¸€ç§å®é™…çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒ<strong>åªå­˜åœ¨äºå†…å­˜ä¸­</strong></p>
<p>æ–°åˆ†åŒº(æ–‡ä»¶ç³»ç»Ÿ)çš„æŒ‚è½½ï¼š</p>
<ol type="1">
<li>VFSæ³¨å†Œæ–°çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ”¾åœ¨å†…å­˜çš„æŒ‚è½½è¡¨ä¸­<br />
</li>
<li>æ–‡ä»¶ç³»ç»Ÿæä¾›ä¸€ä¸ªå‡½æ•°åœ°å€åˆ—è¡¨<br />
</li>
<li>å°†åˆ†åŒºæŒ‚è½½åœ¨ç‰¹å®šçš„ä¸€ä¸ªç›®å½•ä¸‹</li>
</ol>
<hr />
<h1 id="ioè®¾å¤‡">I/Oè®¾å¤‡</h1>
<h2 id="æ¦‚å¿µ-3">æ¦‚å¿µ</h2>
<p><strong>åˆ†ç±»</strong></p>
<ol type="1">
<li>å—è®¾å¤‡ï¼Œä¿¡æ¯äº¤æ¢ä»¥æ•°æ®å—ä¸ºå•ä½ï¼Œå±äºæœ‰ç»“æ„è®¾å¤‡ï¼Œå¦‚ç£ç›˜ï¼Œä¼ è¾“çš„æ•°æ®æœ‰ç»“æ„,å¯å¯»å€(éšæœºè¯»å†™)<br />
</li>
<li>å­—ç¬¦è®¾å¤‡ï¼Œä¿¡æ¯äº¤æ¢ä»¥å­—ç¬¦ä¸ºå•ä½ï¼Œå±äºæ— ç»“æ„è®¾å¤‡ï¼Œå¦‚æ‰“å°æœºï¼Œä¸å¯å¯»å€</li>
</ol>
<p>æˆ–è€…æŒ‰ä¼ è¾“é€Ÿç‡åˆ†ï¼š</p>
<ol type="1">
<li>ä½é€Ÿè®¾å¤‡ï¼Œæ¯ç§’æ•°ç™¾å­—èŠ‚æˆ–ä»¥ä¸‹ï¼Œå¦‚é”®é¼ <br />
</li>
<li>ä¸­é€Ÿè®¾å¤‡ï¼Œæ•°ä¸‡å­—èŠ‚æˆ–ä»¥ä¸‹ï¼Œå¦‚æ‰“å°æœº<br />
</li>
<li>é«˜é€Ÿè®¾å¤‡ï¼Œæ•°ç™¾åƒå­—èŠ‚æˆ–æ›´é«˜ï¼Œå¦‚ç£ç›˜</li>
</ol>
<p><strong>I/Oæ¥å£(è®¾å¤‡æ§åˆ¶å™¨)</strong>ï¼š</p>
<p>æ ¹æ®cpuå‘½ä»¤å’Œè®¾å¤‡çŠ¶æ€åè°ƒä¸¤è€…å·¥ä½œ</p>
<ul>
<li>è®¾å¤‡æ§åˆ¶å™¨ä¸cpuæ¥å£ï¼Œåˆ†ä¸ºæ•°æ®ï¼Œåœ°å€ï¼Œæ§åˆ¶çº¿ï¼Œæ•°æ®çº¿ä¸€èˆ¬å’Œæ•°æ®å¯„å­˜å™¨ä¸æ§åˆ¶/çŠ¶æ€å¯„å­˜å™¨ç›¸è¿<br />
</li>
<li>è®¾å¤‡æ§åˆ¶å™¨ä¸è®¾å¤‡æ¥å£ï¼Œå¯èƒ½æœ‰å¤šä¸ªè®¾å¤‡çš„å¤šä¸ªæ¥å£ï¼Œæ¯ä¸ªéƒ½æœ‰æ•°æ®ï¼Œæ§åˆ¶ï¼ŒçŠ¶æ€ç±»å‹çš„ä¿¡å·<br />
</li>
<li>I/Oé€»è¾‘ï¼Œé€šè¿‡æ§åˆ¶çº¿ä¸cpuäº¤äº’ï¼Œå¯¹cpuå‘æ¥çš„å‘½ä»¤è¯‘ç ï¼ŒCPUå¯åŠ¨è®¾å¤‡æ—¶ï¼Œå°†å¯åŠ¨å‘½ä»¤å‘é€ç»™æ§åˆ¶å™¨ï¼ŒåŒæ—¶é€šè¿‡åœ°å€çº¿æŠŠåœ°å€å‘é€ç»™æ§åˆ¶å™¨ï¼Œç”±æ§åˆ¶å™¨çš„I/Oé€»è¾‘å¯¹åœ°å€è¿›è¡Œè¯‘ç ï¼Œå¹¶ç›¸åº”åœ°å¯¹æ‰€é€‰è®¾å¤‡è¿›è¡Œæ§åˆ¶ã€‚</li>
</ul>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231225194343.png" /><br />
ä¸»è¦ä½œç”¨ï¼š</p>
<ul>
<li>æ¥å—è¯†åˆ«cpuå‘½ä»¤<br />
</li>
<li>æ•°æ®äº¤äº’ï¼Œè®¾å¤‡ä¸»å­˜æ§åˆ¶å™¨ä¸‰è€…äº¤äº’<br />
</li>
<li>è¯†åˆ«æŠ¥å‘Šè®¾å¤‡çŠ¶æ€<br />
</li>
<li>åœ°å€è¯†åˆ«<br />
</li>
<li>æ•°æ®ç¼“å†²<br />
</li>
<li>å·®é”™æ§åˆ¶</li>
</ul>
<p><strong>I/Oç«¯å£</strong><br />
æŒ‡è®¾å¤‡æ§åˆ¶å™¨ä¸­å¯è¢«cpuç›´æ¥è®¿é—®çš„å¯„å­˜å™¨ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç±»ï¼š</p>
<ul>
<li>æ•°æ®å¯„å­˜å™¨ï¼Œå®ç°cpuå’Œå¤–è®¾ä¹‹é—´çš„æ•°æ®ç¼“å†²<br />
</li>
<li>çŠ¶æ€å¯„å­˜å™¨ï¼Œè·å–æ‰§è¡Œç»“æœå’Œè®¾å¤‡çš„çŠ¶æ€ä¿¡æ¯<br />
</li>
<li>æ§åˆ¶å¯„å­˜å™¨ï¼Œcpuå†™å…¥ï¼Œå¯¹è®¾å¤‡è¿›è¡Œæ“ä½œï¼Œå¦‚å¯åŠ¨æˆ–æ›´æ”¹æ¨¡å¼</li>
</ul>
<p>cpuå’Œioç«¯å£çš„é€šä¿¡æ–¹å¼ï¼š</p>
<ul>
<li>ç‹¬ç«‹ç¼–å€ï¼Œæ¯ä¸ªç«¯å£åˆ†é…ä¸€ä¸ªç«¯å£å·ï¼Œåªæœ‰æ“ä½œç³»ç»Ÿå¯ä»¥ç”¨ç‰¹æ®ŠioæŒ‡ä»¤è®¿é—®è¿™äº›ç«¯å£<br />
</li>
<li>ç»Ÿä¸€ç¼–å€(å†…å­˜æ˜ å°„I/O)ï¼Œæ¯ä¸ªç«¯å£åˆ†é…å”¯ä¸€çš„å†…å­˜åœ°å€ï¼Œè¿™éƒ¨åˆ†å†…å­˜è¢«è¯¥ç«¯å£ç‹¬å ï¼Œåœ°å€é€šå¸¸é è¿‘åœ°å€ç©ºé—´é¡¶ç«¯</li>
</ul>
<h3 id="æ§åˆ¶æ–¹å¼">æ§åˆ¶æ–¹å¼</h3>
<ol type="1">
<li>ç¨‹åºç›´æ¥æ§åˆ¶ï¼Œcpuå¯¹å¤–è®¾çŠ¶æ€å¾ªç¯æ£€æŸ¥ï¼Œç›´åˆ°ç¡®å®šä»i/oè®¾å¤‡è¯»å–çš„å­—å·²ç»åœ¨ioæ§åˆ¶å™¨çš„æ•°æ®å¯„å­˜å™¨ä¸­ï¼Œç¼ºç‚¹æ˜¯cpuåˆ©ç”¨ç‡ä½ä¸‹<br />
</li>
<li>ä¸­æ–­é©±åŠ¨ï¼Œå…è®¸I/Oè®¾å¤‡ä¸­æ–­cpuï¼Œä¼šæ¶ˆè€—è¾ƒå¤šçš„CPUæ—¶é—´ï¼Œæµç¨‹å¦‚ä¸‹
<ol type="1">
<li>cpuå‘é€æŒ‡ä»¤ï¼Œå¦‚è¯»ï¼Œä¿å­˜éœ€è¦ioçš„å½“å‰ç¨‹åºä¸Šä¸‹æ–‡ï¼Œç»§ç»­ä¸‹ä¸€ä¸ªä½œä¸š<br />
</li>
<li>i/oæ§åˆ¶å™¨æ¥å—æŒ‡ä»¤åï¼Œè¯»æ•°æ®å­˜å…¥æ•°æ®å¯„å­˜å™¨åé€šè¿‡æ§åˆ¶çº¿å‘é€ä¸­æ–­ä¿¡å·<br />
</li>
<li>cpuæ”¶åˆ°ä¸­æ–­ä¿¡å·ï¼Œè¿›è¡Œä¸­æ–­å¤„ç†ï¼Œå¯¹æ§åˆ¶å™¨å‘å‡ºå–è¯·æ±‚<br />
</li>
<li>æ§åˆ¶å™¨æŠŠæ•°æ®æ”¾åˆ°æ•°æ®æ€»çº¿ï¼Œi/oæ§åˆ¶å™¨çš„æ“ä½œå®Œæˆ<br />
</li>
<li>cpuå­˜å…¥å¯„å­˜å™¨ï¼Œéšåå­˜å…¥ä¸»å­˜ï¼Œæ¢å¤å‘å‡ºI/Oè¯·æ±‚çš„ç¨‹åºç»§ç»­è¿è¡Œ<br />
</li>
</ol></li>
<li>DMAæ–¹å¼ï¼Œåœ¨I/Oè®¾å¤‡å’Œå†…å­˜ä¹‹é—´è®¾ç½®æ•°æ®äº¤æ¢é€šè·¯ï¼Œä¸­æ–­æ–¹å¼åœ¨æ¯ä¸ªæ•°æ®éœ€è¦ä¼ è¾“æ—¶ä¸­æ–­CPU,è€ŒDMAæ–¹å¼åˆ™æ˜¯åœ¨æ‰€è¦æ±‚ä¼ é€çš„ä¸€æ‰¹æ•°æ®å…¨éƒ¨ä¼ é€ç»“æŸæ—¶æ‰ä¸­æ–­CPU(ç¼ºç‚¹æ˜¯å¯¹ç¦»æ•£çš„æ•°æ®å—è¯·æ±‚ä»éœ€è¦è¾ƒå¤šcpuå ç”¨)
<ol type="1">
<li>ç‰¹ç‚¹
<ol type="1">
<li>åŸºæœ¬å•ä½æ˜¯æ•°æ®å—<br />
</li>
<li>æ•°æ®ç›´æ¥åœ¨è®¾å¤‡ä¸å†…å­˜ä¹‹é—´ä¼ è¾“<br />
</li>
<li>ä¼ è¾“æ•°æ®å—çš„å¼€å§‹å’Œç»“æŸæ—¶éœ€è¦cpuå¹²é¢„ï¼Œä¼ è¾“è¿‡ç¨‹ç”±dmaæ§åˆ¶å™¨æ“çºµ<br />
</li>
</ol></li>
<li>å¯„å­˜å™¨
<ol type="1">
<li>å‘½ä»¤/çŠ¶æ€å¯„å­˜å™¨CRï¼Œæ¥å—i/oå‘½ä»¤ï¼Œæ§åˆ¶çŠ¶æ€ä¿¡æ¯<br />
</li>
<li>å†…å­˜åœ°å€å¯„å­˜å™¨MAR,åˆ†åˆ«åœ¨è¾“å…¥è¾“å‡ºæ—¶å­˜æ”¾è®¾å¤‡åˆ°å†…å­˜å’Œå†…å­˜åˆ°è®¾å¤‡çš„å†…å­˜èµ·å§‹åœ°å€<br />
</li>
<li>æ•°æ®å¯„å­˜å™¨DRï¼Œæš‚å­˜äº¤æ¢çš„æ•°æ®<br />
</li>
<li>æ•°æ®è®¡æ•°å™¨DCï¼Œå­˜æ”¾ä¼ è¾“æ•°æ®çš„å­—æ•°æˆ–è€…å­—èŠ‚æ•°<br />
</li>
</ol></li>
<li>å·¥ä½œæµç¨‹
<ol type="1">
<li>cpuæ¥å—ioè®¾å¤‡çš„dmaè¯·æ±‚ï¼Œå‘dmaæ§åˆ¶å™¨å‘é€å‘½ä»¤ï¼Œè®¾ç½®MAR,DCåˆå€¼ï¼Œç»§ç»­å…¶ä»–å·¥ä½œ<br />
</li>
<li>DMAä¸ä¸»å­˜äº¤æ¢æ•°æ®ï¼Œæ¯æ¬¡ä¸€ä¸ªå­—ï¼Œç»“æŸåå‘é€ä¸­æ–­ä¿¡å·<br />
</li>
<li>cpuè¿›è¡Œä¸­æ–­å¤„ç†<br />
</li>
</ol></li>
</ol></li>
<li>é€šé“æ§åˆ¶ï¼Œåœ¨å†…å­˜è®¾ç½®é€šé“ï¼Œä¸€ä¸ªé€šé“å¯ä»¥æ§åˆ¶å¤šä¸ªè®¾å¤‡çš„å†…å­˜äº¤æ¢ï¼Œç»“æŸåä¸­æ–­cpu(é€šé“åªéœ€è¦cpuç®€å•åœ°åˆå§‹åŒ–ï¼Œå°±å¯ä»¥æ§åˆ¶ä¸€ç»„æ•°æ®å—çš„ä¼ è¾“ï¼Œå¹¶è¡Œåº¦æœ€é«˜ï¼Œç¡¬ä»¶æˆæœ¬ä¹Ÿæœ€é«˜)é€šé“æ²¡æœ‰è‡ªå·±çš„å†…å­˜ï¼Œç¨‹åºå­˜åœ¨ä¸»å­˜</li>
</ol>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231225210128.png" /><br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231225210117.png" /></p>
<h3 id="ioè½¯ä»¶å±‚æ¬¡">I/Oè½¯ä»¶å±‚æ¬¡</h3>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231225211213.png" /><br />
å°†ç³»ç»Ÿä¸­çš„è®¾å¤‡ç®¡ç†æ¨¡å—åˆ†ä¸ºè‹¥å¹²ä¸ªå±‚æ¬¡,æ¯å±‚éƒ½æ˜¯åˆ©ç”¨å…¶ä¸‹å±‚æä¾›çš„æœåŠ¡ï¼Œæ¯å±‚éƒ½åªæœ‰æ¥å£ä¸å…¶ä»–å±‚é¢äº¤äº’ï¼Œå±è”½å…·ä½“ç»†èŠ‚</p>
<ol type="1">
<li>ç”¨æˆ·å±‚ï¼Œç”¨æˆ·å¯ä»¥è°ƒç”¨ç›¸å…³åº“å‡½æ•°ï¼Œå¯¹è®¾å¤‡è¿›è¡Œæ“ä½œï¼Œæœ€ç»ˆä¸€èˆ¬ä¼šç”¨ç³»ç»Ÿè°ƒç”¨æ¥è·å–ç³»ç»ŸæœåŠ¡<br />
</li>
<li>è®¾å¤‡ç‹¬ç«‹æ€§(æ— å…³æ€§)è½¯ä»¶ï¼Œç”¨äºå®ç°ç”¨æˆ·ç¨‹åºä¸è®¾å¤‡é©±åŠ¨å™¨çš„ç»Ÿä¸€æ¥å£ã€è®¾å¤‡å‘½ä»¤ã€è®¾å¤‡çš„ä¿æŠ¤åŠè®¾å¤‡çš„åˆ†é…ä¸é‡Šæ”¾ç­‰ï¼ŒåŒæ—¶ä¸ºè®¾å¤‡ç®¡ç†å’Œæ•°æ®ä¼ é€æä¾›å¿…è¦çš„å­˜å‚¨ç©ºé—´
<ol type="1">
<li>åº”ç”¨ç¨‹åºç‹¬ç«‹äºå…·ä½“çš„ç‰©ç†è®¾å¤‡ï¼Œç”¨é€»è¾‘è®¾å¤‡åè¯·æ±‚è®¾å¤‡ï¼Œç³»ç»Ÿæ‰§è¡Œæ—¶æ˜ å°„æˆç‰©ç†è®¾å¤‡ï¼Œè¿™æ ·å¯ä»¥çµæ´»åˆ†é…è®¾å¤‡ï¼Œå¹¶æ˜“äºå®ç°I/Oé‡å®šå‘(å³ç‰©ç†è®¾å¤‡å¯ä»¥éšæ„æ›´æ¢)ã€<br />
</li>
<li>ä¸»è¦åŠŸèƒ½ï¼š
<ol type="1">
<li>æ‰§è¡Œæ‰€æœ‰è®¾å¤‡çš„å…¬æœ‰æ“ä½œï¼Œåˆ†é…å›æ”¶ï¼Œé€»è¾‘æ˜ å°„ï¼Œè®¿é—®æ§åˆ¶ï¼Œç¼“å†²å·®é”™æ§åˆ¶ç­‰<br />
</li>
<li>å¯¹ç”¨æˆ·æˆ–æ–‡ä»¶å±‚æä¾›ç»Ÿä¸€æ¥å£ï¼Œr/wç­‰<br />
</li>
</ol></li>
</ol></li>
<li>è®¾å¤‡é©±åŠ¨ç¨‹åºï¼Œè´Ÿè´£å…·ä½“å®ç°ç³»ç»Ÿå¯¹è®¾å¤‡å‘å‡ºçš„æ“ä½œæŒ‡ä»¤ï¼Œè®¾å¤‡é©±åŠ¨ç¨‹åºå‘ä¸Šå±‚ç”¨æˆ·ç¨‹åºæä¾›ä¸€ç»„æ ‡å‡†æ¥å£ï¼Œå‘ä¸‹å‘é€å‘½ä»¤ç»™è®¾å¤‡æ§åˆ¶å™¨ï¼Œå¹¶æ¥å—å…¶ä¿¡å·å‘é€ç»™è½¯ä»¶<br />
</li>
<li>ä¸­æ–­å¤„ç†ï¼Œç”¨äºä¿å­˜è¢«ä¸­æ–­è¿›ç¨‹çš„CPUç¯å¢ƒï¼Œè½¬å…¥ç›¸åº”çš„ä¸­æ–­å¤„ç†ç¨‹åºè¿›è¡Œå¤„ç†ï¼Œå¤„ç†å®Œæ¯•å†æ¢å¤è¢«ä¸­æ–­è¿›ç¨‹çš„ç°åœºåï¼Œè¿”å›åˆ°è¢«ä¸­æ–­è¿›ç¨‹ã€‚
<ol type="1">
<li>ä¸»è¦ä»»åŠ¡ï¼šè¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œè¯»å–è®¾å¤‡çŠ¶æ€ï¼Œä¿®æ”¹è¿›ç¨‹çŠ¶æ€ç­‰</li>
</ol></li>
</ol>
<p>è®¾å¤‡ç‹¬ç«‹æ€§è½¯ä»¶,è®¾å¤‡é©±åŠ¨ç¨‹åºï¼Œä¸­æ–­å¤„ç†ç¨‹åºæ˜¯æ“ä½œç³»ç»Ÿå†…æ ¸éƒ¨åˆ†ï¼Œç§°ä¸º<strong>IOç³»ç»Ÿ</strong>æˆ–è€…<strong>IOæ ¸å¿ƒå­ç³»ç»Ÿ</strong></p>
<p>ä¸€æ¬¡æ ‡å‡†I/Oæ“ä½œæµç¨‹ï¼š</p>
<ol type="1">
<li>é€šè¿‡ç”¨æˆ·å±‚è½¯ä»¶å‘é€ioç›¸å…³çš„æŒ‡ä»¤<br />
</li>
<li>ç‹¬ç«‹è½¯ä»¶è¿›è¡Œè§£æï¼Œä¸€èˆ¬è½¬æ¢æˆé€šç”¨å‘½ä»¤ï¼Œå‘é€ç»™é©±åŠ¨ç¨‹åº<br />
</li>
<li>é©±åŠ¨ç¨‹åºæ ¹æ®è®¾å¤‡å…·ä½“å®ç°è¿™ä¸ªå‘½ä»¤<br />
</li>
<li>ä¸­æ–­å½“å‰è¿è¡Œè¿›ç¨‹ï¼Œç”±ç¡¬ä»¶å¼€å§‹æ‰§è¡Œå‘½ä»¤</li>
</ol>
<h3 id="åº”ç”¨ç¨‹åºæ¥å£">åº”ç”¨ç¨‹åºæ¥å£</h3>
<p>I/Oç³»ç»Ÿä¸æ›´é«˜å±‚çš„æ¥å£</p>
<ol type="1">
<li>å­—ç¬¦è®¾å¤‡æ¥å£ï¼Œå­—ç¬¦è®¾å¤‡æ˜¯æŒ‡æ•°æ®çš„å­˜å–å’Œä¼ è¾“æ˜¯ä»¥å­—ç¬¦ä¸ºå•ä½çš„è®¾å¤‡ï¼Œä¸€èˆ¬ä¸å¯å¯»å€ï¼Œä¸­æ–­é©±åŠ¨ï¼Œéœ€è¦äº’æ–¥æ“ä½œã€‚é€šå¸¸ä¸ºå­—ç¬¦è®¾å¤‡å»ºç«‹ä¸€ä¸ªå­—ç¬¦ç¼“å†²åŒºï¼Œç”¨æˆ·ç¨‹åºé€šè¿‡getæ“ä½œä»ç¼“å†²åŒºè·å–å­—ç¬¦ï¼Œé€šè¿‡putæ“ä½œå°†å­—ç¬¦è¾“å‡ºåˆ°ç¼“å†²åŒºã€‚å¹¶ç”¨ä¸€ä¸ªé€šç”¨çš„in-controlæŒ‡ä»¤å¤„ç†<br />
</li>
<li>å—è®¾å¤‡æ¥å£ï¼Œå—è®¾å¤‡æ˜¯æŒ‡æ•°æ®çš„å­˜å–å’Œä¼ è¾“æ˜¯ä»¥æ•°æ®å—ä¸ºå•ä½çš„è®¾å¤‡ï¼Œå¦‚ç£ç›˜ï¼Œä¸€èˆ¬å¯å¯»å€ï¼Œå¸¸ä½¿ç”¨dma
<ol type="1">
<li>å—è®¾å¤‡æ¥å£å°†ç£ç›˜çš„æ‰€æœ‰æ‰‡åŒºä»0åˆ°ä¾æ¬¡ç¼–å·ï¼Œè¿™æ ·ï¼Œå°±å°†äºŒç»´ç»“æ„å˜ä¸ºä¸€ç§çº¿æ€§åºåˆ—ã€‚<br />
</li>
<li>æŠŠä¸Šå±‚çš„æ‰“å¼€å…³é—­è¯»å†™ç­‰æŠ½è±¡å‘½ä»¤è½¬æ¢æˆè®¾å¤‡è¯†åˆ«çš„åº•å±‚å‘½ä»¤<br />
</li>
<li>å†…å­˜æ˜ å°„æ¥å£é€šè¿‡å†…å­˜çš„å­—èŠ‚æ•°ç»„æ¥è®¿é—®ç£ç›˜ï¼Œè€Œä¸æä¾›è¯»/å†™ç£ç›˜æ“ä½œã€‚æ˜ å°„æ–‡ä»¶åˆ°å†…å­˜çš„ç³»ç»Ÿè°ƒç”¨è¿”å›åŒ…å«æ–‡ä»¶å‰¯æœ¬çš„ä¸€ä¸ªè™šæ‹Ÿå†…å­˜åœ°å€ã€‚åªåœ¨éœ€è¦è®¿é—®å†…å­˜æ˜ åƒæ—¶ï¼Œæ‰ç”±è™šæ‹Ÿå­˜å‚¨å™¨å®é™…è°ƒé¡µ<br />
</li>
</ol></li>
<li>ç½‘ç»œè®¾å¤‡æ¥å£ï¼Œä¸€èˆ¬ä½¿ç”¨ç½‘ç»œå¥—æ¥å­—æ¥å£ï¼Œå¥—æ¥å­—æ¥å£çš„ç³»ç»Ÿè°ƒç”¨ä½¿åº”ç”¨ç¨‹åºåˆ›å»ºçš„æœ¬åœ°å¥—æ¥å­—è¿æ¥åˆ°è¿œç¨‹åº”ç”¨ç¨‹åºåˆ›å»ºçš„å¥—æ¥å­—ï¼Œé€šè¿‡æ­¤è¿æ¥å‘é€å’Œæ¥æ”¶æ•°æ®ã€‚<br />
</li>
<li>é˜»å¡/éé˜»å¡I/O
<ol type="1">
<li>é˜»å¡I/Oæ˜¯æŒ‡å½“ç”¨æˆ·è¿›ç¨‹è°ƒç”¨I/Oæ“ä½œæ—¶ï¼Œè¿›ç¨‹å°±è¢«é˜»å¡ï¼Œéœ€è¦ç­‰å¾…I/Oæ“ä½œå®Œæˆï¼Œè¿›ç¨‹æ‰è¢«å”¤é†’ç»§ç»­æ‰§è¡Œï¼Œæ›´åŠ å¸¸è§<br />
</li>
<li>éé˜»å¡I/Oæ˜¯æŒ‡ç”¨æˆ·è¿›ç¨‹è°ƒç”¨I/Oæ“ä½œæ—¶ï¼Œä¸é˜»å¡è¯¥è¿›ç¨‹ï¼Œè¯¥I/Oè°ƒç”¨è¿”å›ä¸€ä¸ªé”™è¯¯è¿”å›å€¼ï¼Œé€šå¸¸ï¼Œè¿›ç¨‹éœ€è¦é€šè¿‡è½®è¯¢çš„æ–¹å¼æ¥æŸ¥è¯¢I/Oæ“ä½œæ˜¯å¦å®Œæˆã€‚</li>
</ol></li>
</ol>
<div class="note warning"><ul>
<li>I/Oç®¡ç†çš„ä¸»è¦åŠŸèƒ½ï¼šçŠ¶æ€è·Ÿè¸ªï¼Œè®¾å¤‡å­˜å–ï¼Œåˆ†é…(å¤šç”¨æˆ·)ï¼Œæ§åˆ¶<br />
</li>
<li>å…±äº«è®¾å¤‡å¿…é¡»æ˜¯å¯å¯»å€çš„å’Œå¯éšæœºè®¿é—®çš„è®¾å¤‡<br />
</li>
<li>è™šæ‹Ÿè®¾å¤‡æ˜¯æŒ‡é‡‡ç”¨è™šæ‹ŸæŠ€æœ¯å°†ä¸€å°ç‹¬å è®¾å¤‡è½¬æ¢ä¸ºè‹¥å¹²é€»è¾‘è®¾å¤‡<br />
</li>
<li>é€šé“æ§åˆ¶è®¾å¤‡æ§åˆ¶å™¨ã€è®¾å¤‡æ§åˆ¶å™¨æ§åˆ¶è®¾å¤‡å·¥ä½œ<br />
</li>
<li>æ‰€æœ‰è®¾å¤‡çš„å¯åŠ¨å·¥ä½œéƒ½ç”±ç³»ç»Ÿç»Ÿä¸€æ¥åš<br />
</li>
<li>é¦–å…ˆè·å¾—ä¸­æ–­é©±åŠ¨çš„ioè®¾å¤‡(å¦‚é”®ç›˜)è¾“å…¥ä¿¡æ¯çš„æ˜¯ä¸­æ–­ç¨‹åº<br />
</li>
<li>dmaæ¯ä¼ é€ä¸€ä¸ªå­—éƒ½éœ€è¦ä¸­æ–­å¤„ç†</li>
</ul>
</div>
<h2 id="è®¾å¤‡ç‹¬ç«‹æ€§è½¯ä»¶">è®¾å¤‡ç‹¬ç«‹æ€§è½¯ä»¶</h2>
<p>ä¸è®¾å¤‡æ— å…³çš„è½¯ä»¶æ˜¯I/Oç³»ç»Ÿçš„æœ€é«˜å±‚è½¯ä»¶ï¼Œä¸€èˆ¬ç”¨äºæ‰§è¡Œæ‰€æœ‰è®¾å¤‡å…¬æœ‰æ“ä½œ</p>
<h3 id="é«˜é€Ÿç¼“å­˜å’Œç¼“å†²åŒº">é«˜é€Ÿç¼“å­˜å’Œç¼“å†²åŒº</h3>
<p><strong>ç£ç›˜é«˜é€Ÿç¼“å­˜</strong><br />
åˆ©ç”¨å†…å­˜ä¸­çš„å­˜å‚¨ç©ºé—´æ¥æš‚å­˜ä»ç£ç›˜ä¸­è¯»å‡ºçš„ä¸€ç³»åˆ—ç›˜å—ä¸­çš„ä¿¡æ¯ã€‚å› æ­¤ï¼Œç£ç›˜é«˜é€Ÿç¼“å­˜é€»è¾‘ä¸Šå±äºç£ç›˜ï¼Œç‰©ç†ä¸Šåˆ™æ˜¯é©»ç•™åœ¨å†…å­˜ä¸­çš„ç›˜å—ã€‚<br />
åœ¨å†…å­˜ä¸­åˆ†ä¸ºä¸¤ç§å½¢å¼ï¼š</p>
<ul>
<li>åœ¨å†…å­˜ä¸­å¼€è¾Ÿä¸€ä¸ªå•ç‹¬çš„ç©ºé—´ä½œä¸ºç£ç›˜é«˜é€Ÿç¼“å­˜ï¼Œå¤§å°å›ºå®šï¼›<br />
</li>
<li>æ˜¯æœªåˆ©ç”¨çš„å†…å­˜ç©ºé—´ä½œä¸ºä¸€ä¸ªç¼“å†²æ± ï¼Œä¾›è¯·æ±‚åˆ†é¡µç³»ç»Ÿå’Œç£ç›˜I/Oæ—¶å…±äº«ã€‚</li>
</ul>
<p><strong>ç¼“å†²åŒº</strong></p>
<p>å¼•å…¥ç¼“å†²åŒºçš„ç›®çš„ä¸»è¦å¦‚ä¸‹ï¼š</p>
<ol type="1">
<li>ç¼“å’ŒCPUä¸I/Oè®¾å¤‡é—´é€Ÿåº¦ä¸åŒ¹é…çš„çŸ›ç›¾ã€‚<br />
</li>
<li>å‡å°‘å¯¹CPUçš„ä¸­æ–­é¢‘ç‡ï¼Œæ”¾å®½å¯¹CPUä¸­æ–­å“åº”æ—¶é—´çš„é™åˆ¶ã€‚<br />
</li>
<li>è§£å†³åŸºæœ¬æ•°æ®å•å…ƒå¤§å°(å³æ•°æ®ç²’åº¦)ä¸åŒ¹é…çš„é—®é¢˜ã€‚<br />
</li>
<li>æé«˜CPUå’ŒI/Oè®¾å¤‡ä¹‹é—´çš„å¹¶è¡Œæ€§ã€‚</li>
</ol>
<p>ç¡¬ä»¶ç¼“å†²å™¨å‡ºäºæˆæœ¬è¾ƒå°‘ç”¨ï¼Œå†…å­˜è®¾ç½®ç¼“å†²åŒºæ˜¯æ›´å¸¸è§çš„æƒ…å†µ<br />
å‡å®šä»ç£ç›˜æŠŠä¸€å—æ•°æ®è¾“å…¥åˆ°ç¼“å†²åŒºçš„æ—¶é—´ä¸ºT,æ“ä½œç³»ç»Ÿå°†è¯¥ç¼“å†²åŒºä¸­çš„æ•°æ®ä¼ é€åˆ°ç”¨æˆ·åŒºçš„æ—¶é—´ä¸ºM,è€ŒCPUå¯¹è¿™ä¸€å—æ•°æ®å¤„ç†çš„æ—¶é—´ä¸ºCã€‚</p>
<p><strong>å•ç¼“å†²</strong><br />
åˆå§‹çŠ¶æ€ä¸ºï¼šå·¥ä½œåŒºæ˜¯æ»¡çš„ï¼Œç¼“å†²åŒºæ˜¯ç©ºçš„ã€‚ä¸€èˆ¬è®¤ä¸ºäºŒè€…å¤§å°ç›¸ç­‰<br />
å•ç¼“å†²åŒºå¤„ç†æ¯å—æ•°æ®çš„ç”¨æ—¶ä¸ºmax(C, T)+M</p>
<p><img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231226152658.png" /></p>
<p><strong>åŒç¼“å†²</strong><br />
å•ç¼“å†²ä¸­CPUåœ¨Mæ—¶é—´ç©ºé—²ï¼Œæ‰€ä»¥å¼•å…¥åŒç¼“å†²<br />
å…ˆè£…å¡«åˆ°ç¼“å†²åŒº1,åœ¨ç¼“å†²åŒº1å¡«æ»¡åæ‰å¼€å§‹è£…å¡«ç¼“å†²åŒº2,ä¸æ­¤åŒæ—¶å¤„ç†æœºå¯ä»¥ä»ç¼“å†²åŒº1ä¸­å–å‡ºæ•°æ®é€å…¥ç”¨æˆ·è¿›ç¨‹ï¼Œå½“ç¼“å†²åŒº1ä¸­çš„æ•°æ®å¤„ç†å®Œåï¼Œè‹¥ç¼“å†²åŒº2å·±å¡«æ»¡ï¼Œåˆ™å¤„ç†æœºåˆä»ç¼“å†²åŒº2ä¸­å–å‡ºæ•°æ®é€å…¥ç”¨æˆ·è¿›ç¨‹ï¼Œè€ŒI/Oè®¾å¤‡åˆå¯ä»¥è£…å¡«ç¼“å†²åŒº1<br />
åˆå§‹çŠ¶æ€ï¼šå·¥ä½œåŒºæ˜¯ç©ºçš„ï¼Œå…¶ä¸­ä¸€ä¸ªç¼“å†²åŒºæ˜¯æ»¡çš„ï¼Œå¦å¤–ä¸€ä¸ªç¼“å†²åŒºæ˜¯ç©ºçš„</p>
<ul>
<li>å‡è®¾<code>T&gt;C+M</code>,æ»¡çš„åŒºä¼ é€æ•°æ®ï¼Œç©ºåŒºå……å…¥æ•°æ®ï¼ŒC+Måæ•°æ®å¤„ç†å®Œï¼Œä½†æ–°çš„æ•°æ®è¿˜æ²¡å†²å…¥ï¼Œéœ€è¦ç­‰åˆ°Tæ‰èƒ½å›åˆ°åˆå§‹çŠ¶æ€<br />
</li>
<li>å‡è®¾<code>T&lt;C+M</code>,Tåç©ºåŒºè¢«å†²æ»¡ï¼Œä½†åŸæ•°æ®æ²¡æœ‰å¤„ç†å®Œï¼Œéœ€è¦ç­‰åˆ°C+M<br />
</li>
<li>è‹¥<code>M+C&lt;T</code>,åˆ™å¯ä½¿å—è®¾å¤‡è¿ç»­è¾“å…¥ï¼›è‹¥<code>C+M&gt;T</code>,åˆ™å¯ä½¿CPUä¸å¿…ç­‰å¾…è®¾å¤‡è¾“å…¥</li>
</ul>
<p>ç»¼ä¸Šï¼Œå¤„ç†ä¸€å—æ•°æ®å‘¨æœŸéœ€è¦æ—¶é—´æ˜¯max(C + M, T)ã€‚<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231226154810.png" /><br />
ä¸ºäº†å®ç°åŒå‘æ•°æ®ä¼ è¾“ï¼Œå¿…é¡»åœ¨ä¸¤å°æœºå™¨ä¸­éƒ½è®¾ç½®ä¸¤ä¸ªç¼“å†²åŒºï¼Œä¸€ä¸ªç”¨ä½œå‘é€ç¼“å†²åŒºï¼Œå¦ä¸€ä¸ªç”¨ä½œæ¥æ”¶ç¼“å†²åŒº<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231226155325.png" /></p>
<p><strong>å¾ªç¯ç¼“å†²</strong><br />
åŒ…å«å¤šä¸ªå¤§å°ç›¸ç­‰çš„ç¼“å†²åŒº,æ¯ä¸ªæœ‰ä¸€ä¸ªæŒ‡å‘ä¸‹ä¸ªåŒºçš„æŒ‡é’ˆï¼Œæ„æˆä¸€ä¸ªå¾ªç¯é“¾è¡¨<br />
éœ€è¦æœ‰ä¸¤ä¸ªæŒ‡é’ˆinå’Œoutï¼ŒinæŒ‡å‘ç¬¬ä¸€ä¸ªç©ºåŒºï¼ŒoutæŒ‡å‘ç¬¬ä¸€ä¸ªæ»¡åŒº</p>
<p><strong>ç¼“å†²æ± </strong><br />
ç”±å¤šä¸ªç³»ç»Ÿå…¬ç”¨çš„ç¼“å†²åŒºç»„æˆï¼Œç¼“å†²åŒºæŒ‰å…¶ä½¿ç”¨çŠ¶å†µå¯ä»¥å½¢æˆä¸‰ä¸ªé˜Ÿåˆ—ï¼šç©ºç¼“å†²é˜Ÿåˆ—ã€è£…æ»¡è¾“å…¥æ•°æ®çš„ç¼“å†²é˜Ÿåˆ—(è¾“å…¥é˜Ÿåˆ—)å’Œè£…æ»¡è¾“å‡ºæ•°æ®çš„ç¼“å†²é˜Ÿåˆ—(è¾“å‡ºé˜Ÿåˆ—)ã€‚<br />
ä»¥åŠå››ç§ç¼“å†²åŒºï¼š</p>
<ul>
<li>ç”¨äºæ”¶å®¹è¾“å…¥æ•°æ®çš„å·¥ä½œç¼“å†²åŒº<br />
</li>
<li>ç”¨äºæå–è¾“å…¥æ•°æ®çš„å·¥ä½œç¼“å†²åŒº<br />
</li>
<li>ç”¨äºæ”¶å®¹è¾“å‡ºæ•°æ®çš„å·¥ä½œç¼“å†²åŒº<br />
</li>
<li>ç”¨äºæå–è¾“å‡ºæ•°æ®çš„å·¥ä½œç¼“å†²åŒº<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231226155733.png" /><br />
å½“è¾“å…¥è¿›ç¨‹éœ€è¦è¾“å…¥æ•°æ®æ—¶ï¼Œä¾¿ä»ç©ºç¼“å†²é˜Ÿåˆ—çš„é˜Ÿé¦–æ‘˜ä¸‹ä¸€ä¸ªç©ºç¼“å†²åŒºï¼ŒæŠŠå®ƒä½œä¸ºæ”¶å®¹è¾“å…¥å·¥ä½œç¼“å†²åŒºï¼Œç„¶åæŠŠè¾“å…¥æ•°æ®è¾“å…¥å…¶ä¸­ï¼Œè£…æ»¡åå†å°†å®ƒæŒ‚åˆ°è¾“å…¥é˜Ÿåˆ—é˜Ÿå°¾ã€‚å½“è®¡ç®—è¿›ç¨‹éœ€è¦è¾“å…¥æ•°æ®æ—¶ï¼Œä¾¿ä»è¾“å…¥é˜Ÿåˆ—å–å¾—ä¸€ä¸ªç¼“å†²åŒºä½œä¸ºæå–è¾“å…¥å·¥ä½œç¼“å†²åŒºï¼Œè®¡ç®—è¿›ç¨‹ä»ä¸­æå–æ•°æ®/æ•°æ®ç”¨å®Œåå†å°†å®ƒæŒ‚åˆ°ç©ºç¼“å†²é˜Ÿåˆ—å°¾ã€‚å½“è®¡ç®—è¿›ç¨‹éœ€è¦è¾“å‡ºæ•°æ®æ—¶ï¼Œä¾¿ä»ç©ºç¼“å†²é˜Ÿåˆ—çš„é˜Ÿé¦–å–å¾—ä¸€ä¸ªç©ºç¼“å†²åŒºï¼Œä½œä¸ºæ”¶å®¹è¾“å‡ºå·¥ä½œç¼“å†²åŒºï¼Œå½“å…¶ä¸­è£…æ»¡è¾“å‡ºæ•°æ®åï¼Œå†å°†å®ƒæŒ‚åˆ°è¾“å‡ºé˜Ÿåˆ—é˜Ÿå°¾ã€‚å½“è¦è¾“å‡ºæ—¶ï¼Œç”±è¾“å‡ºè¿›ç¨‹ä»è¾“å‡ºé˜Ÿåˆ—ä¸­å–å¾—ä¸€ä¸ªè£…æ»¡è¾“å‡ºæ•°æ®çš„ç¼“å†²åŒºï¼Œä½œä¸ºæå–è¾“å‡ºå·¥ä½œç¼“å†²åŒºï¼Œå½“æ•°æ®æå–å®Œåï¼Œå†å°†å®ƒæŒ‚åˆ°ç©ºç¼“å†²é˜Ÿåˆ—çš„é˜Ÿå°¾ã€‚<br />
ç±»ä¼¼ä¸€ä¸ªå¾ªç¯æµæ°´çº¿ï¼Œä¸€ä¸ªè£…ç“¶ï¼Œä¸€ä¸ªæŠŠç“¶å­é‡Œçš„åŸæ–™ç”¨æ‰</li>
</ul>
<p><strong>ä¸¤è€…æ¯”è¾ƒ</strong><br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231226160003.png" /></p>
<h3 id="è®¾å¤‡åˆ†é…ä¸å›æ”¶">è®¾å¤‡åˆ†é…ä¸å›æ”¶</h3>
<p>è®¾å¤‡åˆ†é…æ˜¯æŒ‡æ ¹æ®ç”¨æˆ·çš„I/Oè¯·æ±‚åˆ†é…æ‰€éœ€çš„è®¾å¤‡ã€‚éœ€è¦å……åˆ†åˆ©ç”¨è®¾å¤‡åˆä¸å¯¼è‡´è¿›ç¨‹æ­»é”</p>
<p><strong>è®¾å¤‡çš„åˆ†ç±»</strong></p>
<ul>
<li>ç‹¬å è®¾å¤‡ï¼Œåˆ†é…ç»™è¿›ç¨‹åç‹¬å ï¼Œç›´åˆ°é‡Šæ”¾<br />
</li>
<li>å…±äº«è®¾å¤‡ï¼Œå¤šä¸ªè¿›ç¨‹å¯å…±ç”¨çš„è®¾å¤‡<br />
</li>
<li>è™šæ‹Ÿè®¾å¤‡ï¼ŒSPOOLing(å‡è„±æœº)æŠ€æœ¯å®ç°äº†è™šæ‹Ÿè®¾å¤‡åŠŸèƒ½ï¼Œå¯ä»¥å°†è®¾å¤‡åŒæ—¶åˆ†é…ç»™å¤šä¸ªè¿›ç¨‹ã€‚è¿™ç§æŠ€æœ¯å®è´¨ä¸Šå°±æ˜¯å®ç°äº†å¯¹è®¾å¤‡çš„I/Oæ“ä½œçš„æ‰¹å¤„ç†ã€‚</li>
</ul>
<p><strong>æ•°æ®ç»“æ„</strong><br />
è®¾å¤‡åˆ†é…ä¾æ®çš„ä¸»è¦æ•°æ®ç»“æ„æœ‰è®¾å¤‡æ§åˆ¶è¡¨(DCT)ã€æ§åˆ¶å™¨æ§åˆ¶è¡¨(COCT)ã€é€šé“æ§åˆ¶è¡¨(CHCT)å’Œç³»ç»Ÿè®¾å¤‡è¡¨(SDT)</p>
<ul>
<li>ä¸€ä¸ªè®¾å¤‡æ§åˆ¶è¡¨å°±è¡¨ç¤ºä¸€ä¸ªè®¾å¤‡ï¼Œè€Œè¿™ä¸ªæ§åˆ¶è¡¨ä¸­çš„è¡¨é¡¹å°±æ˜¯è®¾å¤‡çš„å„ä¸ªå±æ€§,å‡¡å› è¯·æ±‚æœ¬è®¾å¤‡è€Œæœªå¾—åˆ°æ»¡è¶³çš„è¿›ç¨‹ï¼Œå…¶PCBæ’æˆä¸€ä¸ªè®¾å¤‡è¯·æ±‚é˜Ÿåˆ—ï¼Œè®¾å¤‡é˜Ÿåˆ—çš„é˜Ÿé¦–æŒ‡é’ˆæŒ‡å‘è¯¥è¯·æ±‚é˜Ÿåˆ—é˜Ÿé¦–PCBã€‚<br />
</li>
<li>COCTéœ€è¦ä¸€ä¸ªé€šé“æœåŠ¡ï¼Œå› æ­¤å­˜æ”¾ä¸€ä¸ªCHCTçš„æŒ‡é’ˆ<br />
</li>
<li>CHCTå¯ä»¥æœåŠ¡å¤šä¸ªè®¾å¤‡ï¼Œå› æ­¤å­˜æ”¾ä¸€ä¸ªè®¾å¤‡æ§åˆ¶å™¨è¡¨çš„é¦–åœ°å€<br />
</li>
<li>SDTå­˜å‚¨ç³»ç»Ÿè¿æ¥åˆ°çš„è®¾å¤‡ï¼Œæ˜¯å”¯ä¸€çš„<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231226160400.png" /><br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231226160538.png" /></li>
</ul>
<p><img src="/assets/resources/Pasted%20image%2020240223185939.png" /></p>
<p>è®¾å¤‡åˆ†é…çš„è¿‡ç¨‹:</p>
<ol type="1">
<li>åˆ†é…è®¾å¤‡:é¦–å…ˆæ ¹æ®I/Oè¯·æ±‚ä¸­çš„ç‰©ç†è®¾å¤‡åï¼ŒæŸ¥æ‰¾SDT,ä»ä¸­æ‰¾å‡ºè¯¥è®¾å¤‡çš„DCT,å†æ ¹æ®DCTä¸­çš„è®¾å¤‡çŠ¶æ€å­—æ®µï¼Œå¯çŸ¥è¯¥è®¾å¤‡çš„çŠ¶æ€ã€‚è‹¥å¿™ï¼Œåˆ™å°†è¿›ç¨‹PCBæŒ‚åˆ°è®¾å¤‡ç­‰å¾…é˜Ÿåˆ—ä¸­ï¼šè‹¥ä¸å¿™ï¼Œåˆ™æ ¹æ®ä¸€å®šçš„ç­–ç•¥å°†è®¾å¤‡åˆ†é…ç»™è¯¥è¿›ç¨‹</li>
<li>åˆ†é…æ§åˆ¶å™¨:è®¾å¤‡åˆ†é…åï¼Œæ ¹æ®DCTæ‰¾åˆ°COCT,æŸ¥è¯¢æ§åˆ¶å™¨çš„çŠ¶æ€ã€‚è‹¥å¿™ï¼Œåˆ™å°†è¿›ç¨‹PCBæŒ‚åˆ°æ§åˆ¶å™¨ç­‰å¾…é˜Ÿåˆ—ä¸­ï¼›è‹¥ä¸å¿™ï¼Œåˆ™å°†æ§åˆ¶å™¨åˆ†é…ç»™è¯¥è¿›ç¨‹ã€‚</li>
<li>åˆ†é…é€šé“:æ§åˆ¶å™¨åˆ†é…åï¼Œæ ¹æ®COCTæ‰¾åˆ°CHCT,æŸ¥è¯¢é€šé“çš„çŠ¶æ€ã€‚è‹¥å¿™ï¼Œåˆ™å°†è¿›ç¨‹PCBæŒ‚åˆ°é€šé“ç­‰å¾…é˜Ÿåˆ—ä¸­ï¼šè‹¥ä¸å¿™ï¼Œåˆ™å°†é€šé“åˆ†é…ç»™è¯¥è¿›ç¨‹ã€‚åªæœ‰è®¾å¤‡ã€æ§åˆ¶å™¨å’Œé€šé“éƒ½åˆ†é…æˆåŠŸæ—¶ï¼Œè¿™æ¬¡çš„è®¾å¤‡åˆ†é…æ‰ç®—æˆåŠŸï¼Œä¹‹åä¾¿å¯å¯åŠ¨è®¾å¤‡è¿›è¡Œæ•°æ®ä¼ è¾“</li>
<li>å¯ä»¥ç›´æ¥åˆ†é…ç‰©ç†è®¾å¤‡ï¼Œä¹Ÿå¯ä»¥ç”¨ç±»åˆ«åŒºåˆ†é€»è¾‘è®¾å¤‡ï¼Œåˆ†é…æŸä¸€ç±»è®¾å¤‡</li>
</ol>
<p><strong>åˆ†é…ç­–ç•¥</strong><br />
éœ€è¦è€ƒè™‘è®¾å¤‡å›ºæœ‰å±æ€§ï¼Œåˆ†é…ç®—æ³•ï¼Œå®‰å…¨æ€§</p>
<ul>
<li>é™æ€åˆ†é…ï¼šåœ¨ç”¨æˆ·ä½œä¸šæ‰§è¡Œå‰ï¼Œä¸€æ¬¡æ€§åˆ†é…å…¶éœ€è¦çš„æ‰€æœ‰è®¾å¤‡ä¸æ§åˆ¶å™¨ï¼Œè¿›ç¨‹ç‹¬å è¿™äº›è®¾å¤‡ä¸æ§åˆ¶å™¨ç›´åˆ°ç»ˆæ­¢æˆ–æ’¤é”€ï¼Œä½¿ç”¨æ•ˆç‡è¾ƒä½ä½†æ²¡æœ‰æ­»é”ï¼Œå¸¸ç”¨äºç‹¬å è®¾å¤‡<br />
</li>
<li>åŠ¨æ€åˆ†é…ï¼šè¿›ç¨‹æ‰§è¡Œä¸­æ ¹æ®éœ€æ±‚åˆ†é…ï¼Œç”¨å®Œç«‹åˆ»é‡Šæ”¾ï¼Œæ•ˆç‡ä½†å¯èƒ½æ­»é”ï¼Œå¸¸ç”¨äºå…±äº«è®¾å¤‡<br />
</li>
<li>å¸¸è§çš„åˆ†é…ç®—æ³•ï¼šå…ˆè¯·æ±‚å…ˆåˆ†é…ï¼Œä¼˜å…ˆçº§ç­‰<br />
</li>
<li>æ¯å½“è¿›ç¨‹å‘å‡ºI/Oè¯·æ±‚åä¾¿è¿›å…¥é˜»å¡æ€ï¼Œç›´åˆ°å…¶I/Oæ“ä½œå®Œæˆæ—¶æ‰è¢«å”¤é†’ï¼Œè¿™æ ·ç ´åäº†å æœ‰å¹¶ç­‰å¾…æ¡ä»¶ï¼Œä¸ä¼šäº§ç”Ÿæ­»é”ï¼Œæ˜¯ä¸€ç§å®‰å…¨çš„åˆ†é…ï¼Œä½†æ•ˆç‡è¾ƒä½ï¼Œä¸èƒ½å¹¶è¡Œ<br />
</li>
<li>è¿›ç¨‹åœ¨å‘å‡ºI/Oè¯·æ±‚åä»ç»§ç»­è¿è¡Œï¼Œä»…å½“è¿›ç¨‹æ‰€è¯·æ±‚çš„è®¾å¤‡å·²è¢«å¦ä¸€è¿›ç¨‹å ç”¨æ—¶ï¼Œæ‰è¿›å…¥é˜»å¡æ€ï¼Œè¿™æ ·ä¸å®‰å…¨ï¼Œä½†å¹¶è¡Œåº¦é«˜</li>
</ul>
<p><strong>è®¾å¤‡ç‹¬ç«‹æ€§</strong><br />
æŒ‡åº”ç”¨ç¨‹åºç‹¬ç«‹äºå…·ä½“è®¾å¤‡ï¼Œåœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨é€»è¾‘è®¾å¤‡åæ¥è¯·æ±‚ä½¿ç”¨æŸç±»è®¾å¤‡ï¼Œåœ¨ç³»ç»Ÿä¸­è®¾ç½®ä¸€å¼ é€»è¾‘è®¾å¤‡è¡¨LUTï¼Œç”¨äºå°†é€»è¾‘è®¾å¤‡åæ˜ å°„ä¸ºç‰©ç†è®¾å¤‡åï¼Œè¡¨é¡¹åŒ…æ‹¬é€»è¾‘è®¾å¤‡åã€ç‰©ç†è®¾å¤‡åå’Œè®¾å¤‡é©±åŠ¨ç¨‹åºå…¥å£åœ°å€ï¼›å½“è¿›ç¨‹ç”¨é€»è¾‘è®¾å¤‡åæ¥è¯·æ±‚åˆ†é…è®¾å¤‡æ—¶ï¼Œç³»ç»Ÿä¸ºå®ƒåˆ†é…ä¸€å°ç›¸åº”çš„ç‰©ç†è®¾å¤‡ï¼Œå¹¶åœ¨LUTä¸­å»ºç«‹ä¸€ä¸ªè¡¨ç›®ï¼Œå½“ä»¥åè¿›ç¨‹å†åˆ©ç”¨è¯¥é€»è¾‘è®¾å¤‡åè¯·æ±‚I/Oæ“ä½œæ—¶ï¼Œç³»ç»Ÿé€šè¿‡æŸ¥æ‰¾LUTæ¥å¯»æ‰¾å¯¹åº”çš„ç‰©ç†è®¾å¤‡å’Œé©±åŠ¨ç¨‹åº</p>
<p>é€»è¾‘è®¾å¤‡è¡¨å¯ä»¥ç³»ç»Ÿä¸­å”¯ä¸€è®¾å®š(ä¸å…è®¸é‡å)ä¹Ÿå¯ä»¥æ¯ä¸ªç”¨æˆ·è®¾ç½®ä¸€ä¸ªï¼Œç”¨æˆ·ç™»å½•æ—¶å»ºç«‹ä¸€ä¸ªè¿›ç¨‹ï¼Œå¹¶å»ºç«‹ä¸€ä¸ªLUTæ”¾å…¥å…¶PCB</p>
<h3 id="spoolingæŠ€æœ¯å‡è„±æœº">SPOOLingæŠ€æœ¯(å‡è„±æœº)</h3>
<p>ä¸ºäº†ç¼“å’ŒCPUçš„é«˜é€Ÿä¸I/Oè®¾å¤‡ä½é€Ÿæ€§ä¹‹é—´çš„çŸ›ç›¾ï¼Œå¼•å…¥äº†è„±æœºè¾“å…¥/è¾“å‡ºæŠ€æœ¯ï¼Œåˆ©ç”¨ä¸“é—¨çš„å¤–å›´æ§åˆ¶æœºï¼Œå°†ä½é€ŸI/Oè®¾å¤‡ä¸Šçš„æ•°æ®ä¼ é€åˆ°é«˜é€Ÿç£ç›˜ä¸Šï¼Œæˆ–è€…ç›¸å<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231226211005.png" /></p>
<ol type="1">
<li>è¾“å…¥äº•å’Œè¾“å‡ºäº•ï¼Œåˆ†åˆ«æ¨¡æ‹Ÿè„±æœºè¾“å…¥å’Œè¾“å‡ºæ—¶çš„ç£ç›˜ï¼Œæ¥å—IOè®¾å¤‡è¾“å…¥çš„æ•°æ®ï¼Œæ”¶å®¹ç”¨æˆ·ç¨‹åºçš„è¾“å‡ºæ•°æ®ï¼Œæ¯ä¸ªè¿›ç¨‹çš„è¾“å…¥è¾“å‡ºæ•°æ®éƒ½ä»¥æ–‡ä»¶ä¸ºå•ä½ä¿å­˜ï¼Œæœ€åé“¾æ¥æˆä¸€ä¸ªè¾“å…¥æˆ–è€…è¾“å‡ºé˜Ÿåˆ—<br />
</li>
<li>è¾“å…¥ç¼“å†²åŒºå’Œè¾“å‡ºç¼“å†²åŒºï¼Œç”¨äºæš‚å­˜è¾“å…¥è¾“å‡ºè¿‡ç¨‹çš„æ•°æ®<br />
</li>
<li>è¾“å…¥è¿›ç¨‹å’Œè¾“å‡ºè¿›ç¨‹ï¼Œæ¨¡æ‹Ÿè„±æœºè¾“å…¥/è¾“å‡ºæ—¶çš„å¤–å›´æ§åˆ¶æœºï¼Œç”¨æˆ·è¯·æ±‚è¾“å…¥å’Œè¾“å‡ºçš„æ•°æ®åˆ°è¾¾äº•åï¼Œå¯ä»¥ä»è¾“å…¥äº•è¯»å…¥å†…å­˜ï¼Œæˆ–è€…ä»è¾“å‡ºäº•ç»è¿‡ç¼“å†²åŒºåˆ°è¾¾è¾“å‡ºè®¾å¤‡</li>
</ol>
<p>å®ä¾‹ï¼š<strong>å…±äº«æ‰“å°æœº</strong><br />
ç”¨æˆ·è¿›ç¨‹è¯·æ±‚æ‰“å°ï¼Œç”±å‡è„±æœºè¿›ç¨‹è¿›è¡Œä»¥ä¸‹å·¥ä½œï¼š</p>
<ol type="1">
<li>åœ¨ç£ç›˜ç¼“å†²åŒºä¸­ä¸ºä¹‹ç”³è¯·ä¸€ä¸ªç©ºé—²ç›˜å—ï¼Œå¹¶å°†è¦æ‰“å°çš„æ•°æ®é€å…¥å…¶ä¸­æš‚å­˜ã€‚<br />
</li>
<li>ä¸ºç”¨æˆ·è¿›ç¨‹ç”³è¯·ä¸€å¼ ç©ºç™½çš„ç”¨æˆ·è¯·æ±‚æ‰“å°è¡¨ï¼Œå¹¶å°†ç”¨æˆ·çš„æ‰“å°è¦æ±‚å¡«å…¥å…¶ä¸­ï¼Œå†å°†è¯¥è¡¨æŒ‚åˆ°å‡è„±æœºæ–‡ä»¶é˜Ÿåˆ—<br />
è½¯ä»¶å±‚é¢ä¸Šè¿›ç¨‹å·²ç»å®Œæˆäº†è¾“å‡ºå·¥ä½œï¼Œå…·ä½“çš„ç¡¬ä»¶æ“ä½œä¼šåœ¨ä¹‹åè¿›è¡Œ</li>
</ol>
<p><strong>ç‰¹ç‚¹</strong></p>
<ol type="1">
<li>æé«˜äº† I/Oçš„é€Ÿåº¦ï¼Œå°†å¯¹ä½é€ŸI/Oè®¾å¤‡æ‰§è¡Œçš„I/Oæ“ä½œæ¼”å˜ä¸ºå¯¹ç£ç›˜ç¼“å†²åŒºä¸­æ•°æ®çš„å­˜å–ï¼Œå¦‚åŒè„±æœºè¾“å…¥/è¾“å‡ºä¸€æ ·ï¼Œç¼“å’Œäº† CPUå’Œä½é€ŸI/Oè®¾å¤‡ä¹‹é—´çš„é€Ÿåº¦ä¸åŒ¹é…çš„çŸ›ç›¾<br />
</li>
<li>å°†ç‹¬å è®¾å¤‡æ”¹é€ ä¸ºå…±äº«è®¾å¤‡ï¼Œåœ¨å‡è„±æœºæ‰“å°æœºç³»ç»Ÿä¸­ï¼Œå®é™…ä¸Šå¹¶æ²¡æœ‰ä¸ºä»»ä½•è¿›ç¨‹åˆ†é…è®¾å¤‡<br />
</li>
<li>å®ç°äº†è™šæ‹Ÿè®¾å¤‡åŠŸèƒ½ï¼Œå¯¹æ¯ä¸ªè¿›ç¨‹è€Œè¨€ï¼Œå®ƒä»¬éƒ½è®¤ä¸ºè‡ªå·±ç‹¬å äº†ä¸€ä¸ªè®¾å¤‡<br />
è¿™ä¸‰éƒ¨åˆ†ç”±<strong>é¢„è¾“å…¥ç¨‹åºã€äº•ç®¡ç†ç¨‹åºå’Œç¼“è¾“å‡ºç¨‹åº</strong>ç®¡ç†<br />
å¯¹æ—¶é—´çš„ä¼˜åŒ–ä¸»è¦ä½“ç°åœ¨ï¼Œcpué€šè¿‡å†…å­˜å‘ç£ç›˜çš„è¾“å…¥è¾“å‡ºäº•äº¤æ¢æ•°æ®è¦å¿«äºä½é€ŸI/Oè®¾å¤‡ï¼Œä½†ç›¸å¯¹çš„ä¹Ÿä¼šå¢åŠ ç©ºé—´å ç”¨</li>
</ol>
<h3 id="è®¾å¤‡é©±åŠ¨ç¨‹åºæ¥å£">è®¾å¤‡é©±åŠ¨ç¨‹åºæ¥å£</h3>
<p>æ¯ä¸ªè®¾å¤‡é©±åŠ¨ç¨‹åºä¸æ“ä½œç³»ç»Ÿä¹‹é—´åº”è¯¥æœ‰ç›¸åŒæˆ–ç›¸è¿‘çš„æ¥å£ï¼Œè¿™æ ·ä¾¿äºè®¾å¤‡çš„æ·»åŠ ç®¡ç†å’Œå¼€å‘<br />
å¯¹äºæ¯ç§è®¾å¤‡ç±»å‹ï¼Œä¾‹å¦‚ç£ç›˜ï¼Œæ“ä½œç³»ç»Ÿéƒ½è¦å®šä¹‰ä¸€ç»„é©±åŠ¨ç¨‹åºå¿…é¡»æ”¯æŒçš„å‡½æ•°ï¼Œé©±åŠ¨ç¨‹åºä¸­é€šå¸¸åŒ…å«ä¸€å¼ è¡¨æ ¼ï¼Œè¿™å¼ è¡¨æ ¼å…·æœ‰é’ˆå¯¹è¿™äº›å‡½æ•°æŒ‡å‘é©±åŠ¨ç¨‹åºè‡ªèº«çš„æŒ‡é’ˆï¼Œè£…è½½é©±åŠ¨ç¨‹åºæ—¶ï¼Œæ“ä½œç³»ç»Ÿè®°å½•è¿™ä¸ªå‡½æ•°æŒ‡é’ˆè¡¨çš„åœ°å€ï¼Œæ‰€ä»¥å½“æ“ä½œç³»ç»Ÿéœ€è¦è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå®ƒå¯ä»¥é€šè¿‡è¿™å¼ è¡¨æ ¼å‘å‡ºé—´æ¥è°ƒç”¨ã€‚è¿™ä¸ªå‡½æ•°æŒ‡é’ˆè¡¨å®šä¹‰äº†é©±åŠ¨ç¨‹åºä¸æ“ä½œç³»ç»Ÿå…¶ä½™éƒ¨åˆ†ä¹‹é—´çš„æ¥å£ã€‚.ç»™å®šç±»å‹çš„æ‰€æœ‰è®¾å¤‡éƒ½å¿…é¡»æœä»è¿™ä¸€è¦æ±‚ã€‚<br />
ä¸è®¾å¤‡æ— å…³çš„è½¯ä»¶è¿˜è¦è´Ÿè´£å°†ç¬¦å·åŒ–çš„è®¾å¤‡åæ˜ å°„åˆ°é€‚å½“çš„é©±åŠ¨ç¨‹åºä¸Šã€‚ä¾‹å¦‚ï¼Œåœ¨UNIXä¸­,è®¾å¤‡å/dev/disk0å”¯ä¸€ç¡®å®šäº†ä¸€ä¸ªç‰¹æ®Šæ–‡ä»¶çš„iç»“ç‚¹ï¼Œè¿™ä¸ªiç»“ç‚¹åŒ…å«äº†ä¸»è®¾å¤‡å·(ç”¨äºå®šä½ç›¸åº”çš„é©±åŠ¨ç¨‹åº)å’Œæ¬¡è®¾å¤‡å·(ç”¨æ¥ç¡®å®šè¦è¯»å†™çš„å…·ä½“è®¾å¤‡)<br />
åœ¨UNIXå’ŒWindowsä¸­ï¼Œè®¾å¤‡æ˜¯ä½œä¸ºå‘½åå¯¹è±¡å‡ºç°åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„ï¼Œæœ‰è‡ªå·±çš„FCBæ–‡ä»¶ï¼Œå› æ­¤é’ˆå¯¹æ–‡ä»¶çš„å¸¸è§„ä¿æŠ¤è§„åˆ™ä¹Ÿé€‚ç”¨äºI/Oè®¾å¤‡ã€‚ç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥ä¸ºæ¯ä¸ªè®¾å¤‡è®¾ç½®é€‚å½“çš„è®¿é—®æƒé™</p>
<h2 id="ç£ç›˜å’Œå›ºæ€ç¡¬ç›˜">ç£ç›˜å’Œå›ºæ€ç¡¬ç›˜</h2>
<h3 id="ç£ç›˜">ç£ç›˜</h3>
<p>è¡¨é¢æ¶‚æœ‰ç£æ€§ç‰©è´¨çš„ç‰©ç†ç›˜ç‰‡ï¼Œç›˜ç‰‡æ—‹è½¬ï¼Œé€šè¿‡ç£å¤´è¯»å–æ•°æ®ï¼Œç£ç›˜ç›˜é¢ä¸Šçš„æ•°æ®å­˜å‚¨åœ¨ä¸€ç»„åŒå¿ƒåœ†ä¸­ï¼Œç§°ä¸ºç£é“ã€‚æ¯ä¸ªç£é“ä¸ç£å¤´ä¸€æ ·å®½ï¼Œä¸€ä¸ªç›˜é¢æœ‰ä¸Šåƒä¸ªç£é“ã€‚ç£é“åˆåˆ’åˆ†ä¸ºå‡ ç™¾ä¸ªæ‰‡åŒºï¼Œæ¯ä¸ªæ‰‡åŒºå›ºå®šå­˜å‚¨å¤§å°ï¼Œä¸€ä¸ªæ‰‡åŒºç§°ä¸ºä¸€ä¸ªç›˜å—ã€‚<br />
å¤šä¸ªç›˜ç‰‡å‚ç›´å †å ï¼Œç»„æˆç£ç›˜ç»„ï¼Œæ¯ä¸ªç›˜é¢å¯¹åº”ä¸€ä¸ªç£å¤´ï¼Œæ‰€æœ‰ç£å¤´å›ºå®šåœ¨ä¸€èµ·ï¼Œä¸ç£ç›˜ä¸­å¿ƒçš„è·ç¦»ç›¸åŒä¸”ä¸€èµ·ç§»åŠ¨ã€‚æ‰€æœ‰ç›˜ç‰‡ä¸Šç›¸å¯¹ä½ç½®ç›¸åŒçš„ç£é“ç»„æˆæŸ±é¢ã€‚æ‰‡åŒºæ˜¯ç£ç›˜å¯å¯»å€çš„æœ€å°å•ä½ï¼Œç£ç›˜ä¸Šèƒ½å­˜å‚¨çš„ç‰©ç†å—æ•°ç›®ç”±æ‰‡åŒºæ•°ã€ç£é“æ•°åŠç£ç›˜é¢æ•°å†³å®š<br />
ç£ç›˜åœ°å€ç”¨â€œæŸ±é¢å·â€¢ç›˜é¢å·â€¢æ‰‡åŒºå·â€è¡¨ç¤ºã€‚<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231225195259.png" /><br />
ç£ç›˜æŒ‰ä¸åŒçš„æ–¹å¼å¯åˆ†ä¸ºè‹¥å¹²ç±»å‹ï¼š</p>
<ul>
<li>ç£å¤´ç›¸å¯¹äºç›˜ç‰‡çš„å¾„å‘æ–¹å‘å›ºå®šçš„ï¼Œç§°ä¸ºå›ºå®šå¤´ç£ç›˜ï¼Œæ¯ä¸ªç£é“ä¸€ä¸ªç£å¤´ï¼›<br />
</li>
<li>ç£å¤´å¯ç§»åŠ¨çš„ï¼Œç§°ä¸ºæ´»åŠ¨å¤´ç£ç›˜ï¼Œç£å¤´è‡‚å¯æ¥å›ä¼¸ç¼©å®šä½ç£é“ï¼›<br />
</li>
<li>ç£ç›˜æ°¸ä¹…å›ºå®šåœ¨ç£ç›˜é©±åŠ¨å™¨å†…çš„ï¼Œç§°ä¸ºå›ºå®šç›˜ç£ç›˜ï¼›<br />
</li>
<li>å¯ç§»åŠ¨å’Œæ›¿æ¢çš„ï¼Œç§°ä¸ºå¯æ¢ç›˜ç£ç›˜ã€‚</li>
</ul>
<h4 id="ç£ç›˜ç®¡ç†">ç£ç›˜ç®¡ç†</h4>
<p>ä¸ºäº†è®©æ§åˆ¶å™¨èƒ½è¿›è¡Œè¯»å†™æ“ä½œï¼Œéœ€è¦æŠŠç£ç›˜åˆ’åˆ†æ‰‡åŒºï¼Œè¿™è¢«ç§°ä¸ºä½çº§(ç‰©ç†)æ ¼å¼åŒ–ï¼Œæ¯ä¸ªæ‰‡åŒºçš„æ•°æ®ç»“æ„é€šå¸¸ç”±å¤´å°¾å’Œä¸­é—´çš„æ•°æ®åŒºå®Œæˆ<br />
ä½çº§æ ¼å¼åŒ–æ—¶ï¼Œç£ç›˜æ§åˆ¶å™¨å¯ä»¥ç”¨å¤‡ç”¨å—æ›¿æ¢åå—ï¼Œè¿™ç§æƒ…å†µåå—å¯¹æ“ä½œç³»ç»Ÿé€æ˜<br />
æ“ä½œç³»ç»Ÿéœ€è¦æŠŠæ•°æ®ç»“æ„è®°å½•åˆ°ç£ç›˜ä¸Šï¼Œè¿™éœ€è¦å°†ç£ç›˜åˆ†æˆè‹¥å¹²æŸ±é¢ç»„æˆçš„åˆ†åŒº(åˆ†åŒºçš„èµ·å§‹æ‰‡åŒºå’Œå¤§å°è®°å½•åœ¨ä¸»å¼•å¯¼è®°å½•çš„åˆ†åŒºè¡¨)ï¼Œå¹¶ä¸”å¯¹åˆ†åŒºè¿›è¡Œé€»è¾‘æ ¼å¼åŒ–ï¼ŒæŠŠæ–‡ä»¶ç³»ç»Ÿå­˜å‚¨åˆ°ç£ç›˜ä¸Š<br />
é€»è¾‘æ ¼å¼åŒ–æ—¶å±è”½çš„åå—å¯ä»¥è¢«æ“ä½œç³»ç»Ÿæ„ŸçŸ¥<br />
è‹¥å¹²ç›¸é‚»æ‰‡åŒºä¼šè¢«ç»„åˆæˆä¸€ç°‡(linuxç§°ä¸ºå—)ï¼Œä¸€èˆ¬ç°‡æ˜¯æ–‡ä»¶å­˜å‚¨çš„æœ€å°å•ä½,å³å°äºä¸€ç°‡å¤§å°çš„æ–‡ä»¶ä¹Ÿä¼šå ç”¨ä¸€ç°‡,æ‰€ä»¥ä¸€èˆ¬å¯¹ç£ç›˜é¼“åŠ±å‡å°‘å°æ–‡ä»¶</p>
<p>è®¡ç®—æœºå¯åŠ¨æ—¶ï¼Œè‡ªä¸¾ç¨‹åºæ‰¾åˆ°ç£ç›˜ä¸Šçš„æ“ä½œç³»ç»Ÿå†…æ ¸ï¼ŒåŠ è½½åˆ°å†…å­˜ï¼Œè½¬åˆ°èµ·å§‹åœ°å€ï¼Œä¸€èˆ¬romä¸­å­˜æ”¾è‡ªä¸¾ç¨‹åºçš„è£…å…¥ç¨‹åºï¼Œå®Œæ•´çš„å¼•å¯¼ç¨‹åºæ”¾åœ¨ç£ç›˜å¯åŠ¨å—ä¸Šï¼Œæœ‰å¯åŠ¨åˆ†åŒºçš„ç£ç›˜ç§°ä¸ºç³»ç»Ÿç£ç›˜æˆ–è€…å¯åŠ¨ç£ç›˜<br />
ä¾‹å¦‚åœ¨windowsä¸­ï¼Œ0å·æ‰‡åŒºå­˜æ”¾å¼•å¯¼ä»£ç ï¼Œç§°ä¸ºä¸»å¼•å¯¼è®°å½•MBRï¼Œromä¸­ä»£ç æŒ‡ç¤ºç³»ç»Ÿä»MBRè¯»å–ä»£ç ï¼Œå¹¶æ ¹æ®MBRå­˜æ”¾çš„åˆ†åŒºè¡¨å’Œå¼•å¯¼åˆ†åŒºæ ‡å¿—è¯»å–åˆ°å¼•å¯¼åˆ†åŒºçš„å¼•å¯¼æ‰‡åŒº(ç¬¬ä¸€ä¸ªæ‰‡åŒº)<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231226102839.png" /><br />
ç£ç›˜å¯èƒ½ä¼šå‡ºç°åå—ï¼Œå¯ä»¥æ‰‹åŠ¨å¤„ç†æˆ–è€…æ§åˆ¶å™¨ç»´æŠ¤å±è”½ä¸€ä¸ªåå—åˆ—è¡¨ï¼Œç”¨å¤‡ç”¨å—æ›¿æ¢æ‰</p>
<h4 id="ç£ç›˜è°ƒåº¦ç®—æ³•">ç£ç›˜è°ƒåº¦ç®—æ³•</h4>
<p>ä¸€æ¬¡ç£ç›˜è¯»å†™æ“ä½œçš„æ—¶é—´ç”±å¯»æ‰¾(å¯»é“)æ—¶é—´ã€æ—‹è½¬å»¶è¿Ÿæ—¶é—´å’Œä¼ è¾“æ—¶é—´å†³å®šã€‚</p>
<ul>
<li>å¯»æ‰¾æ—¶é—´<span class="math inline">\(T_s\)</span> ,æ´»åŠ¨å¤´ç£ç›˜åœ¨è¯»å†™ä¿¡æ¯å‰ï¼Œå°†ç£å¤´ç§»åŠ¨åˆ°æŒ‡å®šç£é“æ‰€éœ€è¦çš„æ—¶é—´ã€‚è¿™ä¸ªæ—¶é—´é™¤è·¨è¶Šnæ¡ç£é“çš„æ—¶é—´å¤–ï¼Œè¿˜åŒ…æ‹¬å¯åŠ¨ç£è‡‚çš„æ—¶é—´s,å³<span class="math inline">\(T_s = m\times{n} + s\)</span>,å¼ä¸­ï¼Œmæ˜¯ä¸ç£ç›˜é©±åŠ¨å™¨é€Ÿåº¦æœ‰å…³çš„å¸¸æ•°ï¼Œçº¦ä¸º0.2ms,ç£è‡‚çš„å¯åŠ¨æ—¶é—´çº¦ä¸º2msã€‚<br />
</li>
<li>æ—‹è½¬å»¶è¿Ÿæ—¶é—´<span class="math inline">\(T_r\)</span> ç£å¤´å®šä½åˆ°æŸä¸€ç£é“çš„æ‰‡åŒºæ‰€éœ€è¦çš„æ—¶é—´ï¼Œè®¾ç£ç›˜çš„æ—‹è½¬é€Ÿåº¦ä¸ºr,<span class="math inline">\(T_r=\frac{1}{2r}\)</span>,å…¸å‹é€Ÿåº¦æ˜¯æ¯åˆ†é’Ÿ5400è½¬<br />
</li>
<li>ä¼ è¾“æ—¶é—´<span class="math inline">\(T_t\)</span>ä»ç£ç›˜è¯»å‡ºæˆ–å‘ç£ç›˜å†™å…¥æ•°æ®æ‰€ç»å†çš„æ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´å–å†³äºæ¯æ¬¡æ‰€è¯»/å†™çš„å­—èŠ‚æ•°bå’Œç£ç›˜çš„æ—‹è½¬é€Ÿåº¦ï¼š<span class="math inline">\(T_t=\frac{b}{rN}\)</span></li>
</ul>
<p>æ€»å¹³å‡å­˜å–æ—¶é—´å¯ä»¥è¡¨ç¤ºä¸º:<span class="math display">\[T_a=T_s+\frac{1}{2r}+\frac{b}{rN}\]</span></p>
<p><strong>å¸¸è§çš„ç£ç›˜è°ƒåº¦ç®—æ³•</strong>ï¼š</p>
<ol type="1">
<li>FCFSï¼Œè¾ƒå°‘ç”¨<br />
</li>
<li>æœ€çŸ­å¯»æ‰¾æ—¶é—´ä¼˜å…ˆSSTF,è°ƒåº¦å¤„ç†çš„ç£é“æ˜¯ä¸å½“å‰ç£å¤´æ‰€åœ¨ç£é“è·ç¦»æœ€è¿‘çš„ç£é“ï¼Œä»¥ä¾¿ä½¿æ¯æ¬¡çš„å¯»æ‰¾æ—¶é—´æœ€çŸ­,å¯èƒ½äº§ç”Ÿé¥¥é¥¿<br />
</li>
<li>æ‰«æSCAN (åˆç§°ç”µæ¢¯è°ƒåº¦)ï¼Œè§„å®šç£å¤´è¿åŠ¨æ–¹å‘ï¼Œæ¥å›å¾€å¤åœ°å•å‘æ‰«æï¼Œåå‘äºæœ€é‡Œæˆ–è€…æœ€å¤–çš„ç£é“<br />
</li>
<li>å¾ªç¯æ‰«æC-SCANï¼Œåœ¨æ‰«æç®—æ³•çš„åŸºç¡€ä¸Šè§„å®šç£å¤´å•å‘ç§»åŠ¨æ¥æä¾›æœåŠ¡ï¼Œå›è¿”æ—¶ç›´æ¥å¿«é€Ÿç§»åŠ¨è‡³èµ·å§‹ç«¯è€Œä¸æœåŠ¡ä»»ä½•è¯·æ±‚<br />
</li>
<li>LOOKå’ŒC-LOOKï¼Œåœ¨æ‰«æç®—æ³•çš„åŸºç¡€ä¸Šï¼Œç£å¤´ç§»åŠ¨åªéœ€è¦åˆ°è¾¾æœ€è¿œç«¯çš„ä¸€ä¸ªè¯·æ±‚å³å¯è¿”å›ï¼Œä¸éœ€è¦åˆ°è¾¾ç£ç›˜ç«¯ç‚¹ï¼Œä¸€èˆ¬é»˜è®¤æ˜¯æ‰«æç®—æ³•çš„é«˜çº§æ›¿ä»£<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231226104356.png" /></li>
</ol>
<p><strong>å‡å°‘å»¶è¿Ÿæ—¶é—´</strong><br />
å¯¹ç›˜é¢æ‰‡åŒºè¿›è¡Œäº¤æ›¿ç¼–å·ï¼Œå¯¹ç£ç›˜ç‰‡ç»„ä¸­çš„ä¸åŒç›˜é¢é”™ä½å‘½åã€‚å‡è®¾æ¯ä¸ªç›˜é¢æœ‰8ä¸ªæ‰‡åŒºï¼Œç£ç›˜ç‰‡ç»„å…±8ä¸ªç›˜é¢<br />
ç£ç›˜æ˜¯è¿ç»­è‡ªè½¬è®¾å¤‡ï¼Œç£å¤´è¯»/å†™ä¸€ä¸ªç‰©ç†å—åï¼Œéœ€è¦ç»è¿‡çŸ­æš‚çš„å¤„ç†æ—¶é—´æ‰èƒ½å¼€å§‹è¯»/å†™ä¸‹ä¸€å—ã€‚å‡è®¾é€»è¾‘è®°å½•æ•°æ®è¿ç»­å­˜æ”¾åœ¨ç£ç›˜ç©ºé—´ä¸­ï¼Œè‹¥åœ¨ç›˜é¢ä¸ŠæŒ‰æ‰‡åŒºäº¤æ›¿ç¼–å·è¿ç»­å­˜æ”¾ï¼Œåˆ™è¿ç»­è¯»/å†™å¤šæ¡è®°å½•æ—¶èƒ½å‡å°‘ç£å¤´çš„å»¶è¿Ÿæ—¶é—´ï¼›åŒæŸ±é¢ä¸åŒç›˜é¢çš„æ‰‡åŒºè‹¥èƒ½é”™ä½ç¼–å·ï¼Œè¿ç»­è¯»/å†™ç›¸é‚»ä¸¤ä¸ªç›˜é¢çš„é€»è¾‘è®°å½•æ—¶ä¹Ÿèƒ½å‡å°‘ç£å¤´å»¶è¿Ÿæ—¶é—´ã€‚</p>
<p>ä¼ è¾“æ—¶é—´è¢«ç¡¬ä»¶é™åˆ¶ï¼Œæ— æ³•ä¼˜åŒ–</p>
<h3 id="å›ºæ€ç¡¬ç›˜">å›ºæ€ç¡¬ç›˜</h3>
<p>åŸºäºé—ªå­˜æŠ€æœ¯çš„å­˜å‚¨å™¨ï¼Œç”±ä¸€ä¸ªæˆ–å¤šä¸ªé—ªå­˜èŠ¯ç‰‡å’Œé—ªå­˜ç¿»è¯‘å±‚ç»„æˆï¼Œé—ªå­˜ç¿»è¯‘å±‚å°†æ¥è‡ªCPUçš„é€»è¾‘å—è¯»å†™è¯·æ±‚ç¿»è¯‘æˆå¯¹åº•å±‚ç‰©ç†è®¾å¤‡çš„è¯»å†™æ§åˆ¶ä¿¡å·,ç›¸å½“äºæ‰®æ¼”äº†ç£ç›˜æ§åˆ¶å™¨çš„è§’è‰²<br />
<img src="/assets/è‹å¤§linux_ppt/Pasted%20image%2020231225195457.png" /></p>
<p>å›ºæ€çš„ä¸»è¦ç¼ºç‚¹æ˜¯é—ªå­˜æ“¦å†™å¯¿å‘½æœ‰é™ï¼Œéœ€è¦ç£¨æŸå‡è¡¡æŠ€æœ¯ï¼š</p>
<ol type="1">
<li>åŠ¨æ€ç£¨æŸå‡è¡¡ã€‚å†™å…¥æ•°æ®æ—¶ï¼Œè‡ªåŠ¨é€‰æ‹©è¾ƒæ–°çš„é—ªå­˜å—<br />
</li>
<li>é™æ€ç£¨æŸå‡è¡¡ã€‚å°±ç®—æ²¡æœ‰æ•°æ®å†™å…¥ï¼ŒSSDä¹Ÿä¼šç›‘æµ‹å¹¶è‡ªåŠ¨è¿›è¡Œæ•°æ®åˆ†é…ï¼Œè®©è€çš„é—ªå­˜å—æ‰¿æ‹…æ— é¡»å†™æ•°æ®çš„å­˜å‚¨ä»»åŠ¡ï¼ŒåŒæ—¶è®©è¾ƒæ–°çš„é—ªå­˜å—è…¾å‡ºç©ºé—´ï¼Œå¹³å¸¸çš„è¯»å†™æ“ä½œåœ¨è¾ƒæ–°çš„é—ªå­˜å—ä¸­è¿›è¡Œã€‚</li>
</ol>
<div class="note warning"><ul>
<li>æ–‡ä»¶ä»¥å—ä¸ºå•ä½å­˜æ”¾äºç£ç›˜ä¸­ï¼Œæ–‡ä»¶çš„è¯»å†™ä¹Ÿä»¥å—ä¸ºå•ä½<br />
</li>
<li>åˆ†åŒºåœ¨é€»è¾‘æ ¼å¼åŒ–ä¹‹å‰ï¼Œé€»è¾‘æ ¼å¼åŒ–æ˜¯å»ºç«‹æ–‡ä»¶ç³»ç»Ÿ<br />
</li>
<li>é»˜è®¤çš„scanç®—æ³•ä¸ä¼šè°ƒåº¦åˆ°æœ€å†…å¤–çš„ç£é“ï¼Œè€Œæ˜¯æœ€é è¿‘å†…å¤–ä¾§çš„ç£é“<br />
</li>
<li>åŒ…æ‹¬å¤šä¸ªæ‰‡åŒºçš„ç°‡ï¼Œå…¶ç‰©ç†åœ°å€æ˜¯èµ·å§‹æ‰‡åŒºçš„åœ°å€</li>
</ul>
</div>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E7%A0%94distance/" rel="tag"><i class="fa fa-tag"></i> ç ”distance</a>
              <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="tag"><i class="fa fa-tag"></i> æ“ä½œç³»ç»Ÿ</a>
          </div>

        
  <div class="social-like a2a_kit a2a_kit_size_32 a2a_default_style">
    <a class="a2a_dd" target="_blank" rel="noopener" href="https://www.addtoany.com/share"></a>
      <a class="a2a_button_facebook"></a>
      <a class="a2a_button_twitter"></a>
      <a class="a2a_button_wechat"></a>
      <a class="a2a_button_qzone"></a>
  </div>

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/thinklive/47457/" rel="prev" title="ç ”distanceâ€”â€”è®¡ç®—æœºç»„æˆéƒ¨åˆ†">
                  <i class="fa fa-angle-left"></i> ç ”distanceâ€”â€”è®¡ç®—æœºç»„æˆéƒ¨åˆ†
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/thinklive/24155/" rel="next" title="ç ”distanceâ€”â€”æ•°æ®ç»“æ„éƒ¨åˆ†">
                  ç ”distanceâ€”â€”æ•°æ®ç»“æ„éƒ¨åˆ† <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments utterances-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2023 â€“ 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">thinklive</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>ç«™ç‚¹æ€»å­—æ•°ï¼š</span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">589k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>ç«™ç‚¹é˜…è¯»æ—¶é•¿ &asymp;</span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">35:42</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> æŠ€æœ¯æ”¯æŒ
  </div><script defer src="/lib/three.js"></script><script defer src="/lib/lines.js"></script><script defer src="/lib/waves.js"></script>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.24/fancybox/fancybox.umd.js" integrity="sha256-oyhjPiYRWGXaAt+ny/mTMWOnN1GBoZDUQnzzgC7FRI4=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>


  <script src=""></script>
  <script src="/%5Bobject%20Object%5D"></script>
  <script src="/%5Bobject%20Object%5D"></script>
  <script src="/%5Bobject%20Object%5D"></script>
  <script src="/%5Bobject%20Object%5D"></script>


<script>
var options = {
  bottom: '64px', // default: '32px'
  right: 'unset', // default: '32px'
  left: '32px', // default: 'unset'
  time: '0.5s', // default: '0.3s'
  mixColor: '#fff', // default: '#fff'
  backgroundColor: '#fff',  // default: '#fff'
  buttonColorDark: '#100f2c',  // default: '#100f2c'
  buttonColorLight: '#fff', // default: '#fff'
  saveInCookies: true, // default: true,
  label: 'ğŸŒ“', // default: ''
  autoMatchOsTheme: true // default: true
}
const darkmode = new Darkmode(options);
darkmode.showWidget();
</script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/pjax.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.2.12/pdfobject.min.js","integrity":"sha256-g2xji1rlE3KsGVClvuxTbcR0Kn2+wtQADSff2Tbb4zA="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>


  <script class="next-config" data-name="wavedrom" type="application/json">{"enable":true,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/wavedrom/3.3.0/wavedrom.min.js","integrity":"sha256-IRMDzTC+wK5stMucZ/XSXkeS5VNtxZ+/Bm8Mcqfoxdo="}}</script>
  <script class="next-config" data-name="wavedrom_skin" type="application/json">{"enable":true,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/wavedrom/3.3.0/skins/default.js","integrity":"sha256-fduc/Zszk5ezWws2uInY/ALWVmIrmV6VTgXbsYSReFI="}}</script>
  <script src="/js/third-party/tags/wavedrom.js"></script>

  <script src="/js/third-party/fancybox.js"></script>

  <script src="/js/third-party/pace.js"></script>

  <script src="/js/third-party/addtoany.js"></script>

  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/2.3.0/quicklink.umd.js" integrity="sha256-yvJQOINiH9fWemHn0vCA5lsHWJaHs6/ZmO+1Ft04SvM=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":false,"archive":false,"delay":true,"timeout":3000,"priority":true,"url":"https://thinklive1.github.io/thinklive/26286/"}</script>
  <script src="/js/third-party/quicklink.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '64px',
  right: '32px',
  left: 'unset',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: 'ğŸŒ“',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>
<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"thinklive1/blog_comments","issue_term":"pathname","theme":"photon-dark"}</script>
<script src="/js/third-party/comments/utterances.js"></script>
<script>
    const snowflakes = ["â„", "â„", "â†", "â…", "âœ¥","â„", "â„", "â†", "â…", "âœ¥","âœ»"];
    // åˆ›å»ºé›ªèŠ±
    function createSnowflake() {
        const snowflake = document.createElement("span");
        snowflake.classList.add("snowflake");
        const randomIndex = Math.floor(Math.random() * snowflakes.length);
        snowflake.textContent = snowflakes[randomIndex];
        
        // èµ·å§‹ä½ç½®
        /* 80%æ¦‚ç‡ ç”Ÿæˆåœ¨é¡µé¢ä¸¤ä¾§ 30% çš„ä½ç½®
        const probability = Math.random();
        let startPosition = Math.random() * 100;

        if (probability < 0.8) {
            startPosition = Math.random() < 0.5 ? Math.random() * 30 : (Math.random() * 30) + 70;
        }
        snowflake.style.left = `${startPosition}vw`;
        */
        snowflake.style.left = `${Math.random() * 100}vw`;
        snowflake.style.top = `-30px`;
        // é›ªèŠ±å¤§å°ä¸é€æ˜åº¦
        const size = Math.random() * 18 + 10;
        snowflake.style.fontSize = `${size}px`;
        const opacity = Math.random() * 0.6 + (size > 18 ? 0.4 : 0);
        snowflake.style.setProperty("--opacity", opacity);
        // åŠ¨ç”»æŒç»­æ—¶é—´
        const fallDuration = Math.random() * 10 + 10;
        // æ—‹è½¬æŒç»­æ—¶é—´
        const rotateDuration = Math.random() * 3 + 1;

        snowflake.style.animationDuration = `${fallDuration}s, ${fallDuration}s`; // å‘ CSS æ·»åŠ æ·¡å‡ºåŠ¨ç”»çš„æŒç»­æ—¶é—´
        // æ¨ªå‘å¹…åº¦
        const translateX = (Math.random() * 500 - 200);
        snowflake.style.setProperty("--translateX", `${translateX}px`);
        // çºµå‘å¹…åº¦
        snowflake.style.setProperty("--translateY", `${window.innerHeight}px`);

        document.body.appendChild(snowflake);
        // ç§»é™¤é›ªèŠ±
        setTimeout(() => {
            snowflake.remove();
        }, fallDuration * 1000);
    }
    
    function snowfallAnimation() {
        // è½½å…¥æ—¶è‹¥è¾¹æ æ˜¯éšè—çŠ¶æ€åˆ™ä¸åŠ è½½é›ªèŠ±
        const sidebarnav = document.querySelector('.sidebar');
        const sidebarnavdisplay = window.getComputedStyle(sidebarnav).getPropertyValue('display'); 
        if (sidebarnavdisplay !== 'none') {
            createSnowflake();
        }
        setTimeout(snowfallAnimation, 150); // ç”Ÿæˆé€Ÿåº¦ï¼Œæ¯«ç§’
    }
    snowfallAnimation();
function toggleMode() {
    console.log("change color!");
    const root1 = document.documentElement;

    // æ£€æŸ¥å½“å‰ color-scheme
    const isLightMode = getComputedStyle(root1).getPropertyValue('--content-bg-color').trim() === '#fff';

    if (isLightMode) {
        // åˆ‡æ¢åˆ°æš—æ¨¡å¼
        root1.style.setProperty('--content-bg-color', '#000');
        root1.style.setProperty('--text-color', '#fff');
        root1.style.setProperty('--highlight-background', '#444');
        root1.style.setProperty('--highlight-foreground', '#bbb');
        root1.style.setProperty('--btn-default-bg', '#777');
        root1.style.setProperty('--menu-item-bg-color', '#777');
        root1.style.setProperty('--note-warning-bg-color', '#777');
        root1.style.setProperty('--note-bg-color', '#555');
        root1.style.setProperty('--note-info-bg-color', '#777');
        root1.style.setProperty('--table-row-odd-bg-color', '#777');
        root1.style.transition = 'all 0.5s ease';

    }

    else {
        root1.style.setProperty('--content-bg-color', '#fff');
        root1.style.setProperty('--text-color', '#555');
        root1.style.setProperty('--highlight-background', '#eaeef3');
        root1.style.setProperty('--highlight-foreground', '#00193a');
        root1.style.setProperty('--btn-default-bg', '#fff');
        root1.style.setProperty('--menu-item-bg-color', '#f5f5f5');
        root1.style.setProperty('--note-warning-bg-color', '#fdf8ea');
        root1.style.setProperty('--note-bg-color', '#f9f9f9');
        root1.style.setProperty('--note-info-bg-color', '#eef7fa');
        root1.style.setProperty('--table-row-odd-bg-color', '#f9f9f9');
        root1.style.transition = 'all 0.5s ease';
    }
}

function DarkTrigger() {
    console.log('dark!!')
    let isDarkMode = getComputedStyle(document.documentElement).getPropertyValue('--content-bg-color').trim() === '#000';
    console.log(isDarkMode)
    if (isDarkMode) {
        // åˆ‡æ¢åˆ°æš—æ¨¡å¼
        const warningNotes = document.querySelectorAll('.post-body .note.warning');
        // ä¿®æ”¹èƒŒæ™¯é¢œè‰²
        warningNotes.forEach(note => {
        note.style.background = '#666';
        });

        const infoNotes = document.querySelectorAll('.post-body .note.info');
        // ä¿®æ”¹èƒŒæ™¯é¢œè‰²
        infoNotes.forEach(note => {
        note.style.background = '#666';
        });
    }
}


</script>

 <!--js: çº¿æ¡ç‰¹æ•ˆ-->
  <script type="text/javascript" color="255,255,255" opacity='1' zIndex="-1" count="300" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>

<button style="background: #868686;
  width: 3rem;
  height: 3rem;
  position: fixed;
  border-radius: 50%;
  border: none;
  right: unset;
  bottom: 2rem;
  left: 2rem;
  cursor: pointer;
  transition: all 0.5s ease;
  display: flex;
  justify-content: center;
  align-items: center;" class="darkmode-toggle" role="checkbox" onclick="toggleMode()">ğŸŒ“</button>

  <video autoplay loop muted playsinline style="position:fixed;top:50%;opacity: 0.8;left:50%;min-width:100%;min-height:100%;transform:translateX(-50%)translateY(-50%);z-index:-2;">
  <source src="/images/red.mp4" type="video/mp4">
<!-- hexo injector body_end start --><script src="/assets/mmedia/mmedia-loader.js"></script><!-- hexo injector body_end end --></body>
</html>
