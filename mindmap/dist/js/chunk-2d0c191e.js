(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c191e"],{4738:function(e,v,s){"use strict";s.r(v);var t=function(){var e=this;e._self._c;return e._m(0)},_=[function(){var e=this,v=e._self._c;return v("div",[v("h1",[e._v("内置工具方法")]),v("h2",[e._v("基础工具方法")]),v("p",[e._v("引用：")]),v("pre",{staticClass:"hljs"},[v("code",[v("span",{staticClass:"hljs-keyword"},[e._v("import")]),e._v(" {walk, ...} "),v("span",{staticClass:"hljs-keyword"},[e._v("from")]),e._v(" "),v("span",{staticClass:"hljs-string"},[e._v("'simple-mind-map/src/utils'")]),e._v("\n")])]),v("h3",[e._v("方法")]),v("h4",[e._v("resizeImgSizeByOriginRatio(width, height, newWidth, newHeight)")]),v("blockquote",[v("p",[e._v("v0.6.5+")])]),v("p",[v("code",[e._v("width")]),e._v(": 图片原始的宽度")]),v("p",[v("code",[e._v("height")]),e._v("：图片原始的高度")]),v("p",[v("code",[e._v("newWidth")]),e._v("：要缩放到的宽度")]),v("p",[v("code",[e._v("newHeight")]),e._v("：要缩放到的高度")]),v("p",[e._v("按比例缩放图片。在保持图片原始宽高比的情况下缩放到指定的"),v("code",[e._v("newWidth")]),e._v("、"),v("code",[e._v("newHeight")]),e._v("大小。")]),v("h4",[e._v("walk(root, parent, beforeCallback, afterCallback, isRoot, layerIndex = 0, index = 0)")]),v("p",[e._v("深度优先遍历树")]),v("p",[v("code",[e._v("root")]),e._v("：要遍历的树的根节点")]),v("p",[v("code",[e._v("parent")]),e._v("：父节点")]),v("p",[v("code",[e._v("beforeCallback")]),e._v("：前序遍历回调函数，回调参数为：root, parent, isRoot, layerIndex, index")]),v("p",[v("code",[e._v("afterCallback")]),e._v("：后序遍历回调函数，回调参数为：root, parent, isRoot, layerIndex, index")]),v("p",[v("code",[e._v("isRoot")]),e._v("：是否是根节点")]),v("p",[v("code",[e._v("layerIndex")]),e._v("：节点层级")]),v("p",[v("code",[e._v("index")]),e._v("：节点在同级节点里的索引")]),v("p",[e._v("示例：")]),v("pre",{staticClass:"hljs"},[v("code",[e._v("walk(tree, "),v("span",{staticClass:"hljs-literal"},[e._v("null")]),e._v(", "),v("span",{staticClass:"hljs-function"},[e._v("() =>")]),e._v(" {}, "),v("span",{staticClass:"hljs-function"},[e._v("() =>")]),e._v(" {}, "),v("span",{staticClass:"hljs-literal"},[e._v("false")]),e._v(", "),v("span",{staticClass:"hljs-number"},[e._v("0")]),e._v(", "),v("span",{staticClass:"hljs-number"},[e._v("0")]),e._v(")\n")])]),v("h4",[e._v("bfsWalk(root, callback)")]),v("p",[e._v("广度优先遍历树")]),v("h4",[e._v("resizeImgSize(width, height, maxWidth, maxHeight)")]),v("p",[e._v("缩放图片的尺寸")]),v("p",[v("code",[e._v("width")]),e._v("：图片原本的宽")]),v("p",[v("code",[e._v("height")]),e._v("：图片原本的高")]),v("p",[v("code",[e._v("maxWidth")]),e._v("：要缩放到的宽")]),v("p",[v("code",[e._v("maxHeight")]),e._v("：要缩放到的高")]),v("p",[v("code",[e._v("maxWidth")]),e._v("和"),v("code",[e._v("maxHeight")]),e._v("可以同时都传，也可以只传一个")]),v("h4",[e._v("resizeImg(imgUrl, maxWidth, maxHeight)")]),v("p",[e._v("缩放图片，内部先加载图片，然后调用"),v("code",[e._v("resizeImgSize")]),e._v("方法，返回一个"),v("code",[e._v("promise")])]),v("h4",[e._v("simpleDeepClone(data)")]),v("p",[e._v("极简的深拷贝方法，只能针对全是基本数据的对象，否则会报错")]),v("h4",[e._v("copyRenderTree(tree, root)")]),v("p",[e._v("复制渲染树数据，示例：")]),v("pre",{staticClass:"hljs"},[v("code",[e._v("copyRenderTree({}, "),v("span",{staticClass:"hljs-built_in"},[e._v("this")]),e._v(".mindMap.renderer.renderTree)\n")])]),v("h4",[e._v("copyNodeTree(tree, root, removeActiveState, removeId)")]),v("ul",[v("li",[v("p",[v("code",[e._v("removeActiveState")]),e._v("："),v("code",[e._v("Boolean")]),e._v("，默认为"),v("code",[e._v("false")]),e._v("，是否移除节点的激活状态")])]),v("li",[v("p",[v("code",[e._v("removeId")]),e._v("：v0.7.3-fix.1+，是否移除节点数据中的uid，默认为"),v("code",[e._v("true")])])])]),v("blockquote",[v("ul",[v("li",[v("code",[e._v("keepId")]),e._v("： （原第四个参数）"),v("code",[e._v("Boolean")]),e._v("，默认为"),v("code",[e._v("false")]),e._v("，是否保留被复制节点的"),v("code",[e._v("id")]),e._v("，默认会删除"),v("code",[e._v("id")]),e._v("防止节点"),v("code",[e._v("id")]),e._v("重复，但是对于移动节点的场景，节点原"),v("code",[e._v("id")]),e._v("需要保留。")])])]),v("p",[e._v("复制节点树数据，主要是剔除其中的引用"),v("code",[e._v("node")]),e._v("实例的"),v("code",[e._v("_node")]),e._v("，然后复制"),v("code",[e._v("data")]),e._v("对象的数据，示例：")]),v("pre",{staticClass:"hljs"},[v("code",[e._v("copyNodeTree({}, node)\n")])]),v("h4",[e._v("imgToDataUrl(src)")]),v("p",[e._v("图片转成dataURL")]),v("h4",[e._v("downloadFile(file, fileName)")]),v("p",[e._v("下载文件")]),v("h4",[e._v("throttle(fn, time = 300, ctx)")]),v("p",[e._v("节流函数")]),v("h4",[e._v("asyncRun(taskList, callback = () => {})")]),v("p",[e._v("异步执行任务队列，多个任务是同步执行的，没有先后顺序")]),v("h4",[e._v("degToRad(deg)")]),v("blockquote",[v("p",[e._v("v0.2.24+")])]),v("p",[e._v("角度转弧度")]),v("h4",[e._v("camelCaseToHyphen(str)")]),v("blockquote",[v("p",[e._v("v0.2.24+")])]),v("p",[e._v("驼峰转连字符")]),v("h4",[e._v("joinFontStr({ italic, bold, fontSize, fontFamily })")]),v("blockquote",[v("p",[e._v("v0.3.4+")])]),v("p",[e._v("拼接"),v("code",[e._v("css")]),e._v("字体的"),v("code",[e._v("font")]),e._v("属性值")]),v("h4",[e._v("measureText(text, { italic, bold, fontSize, fontFamily })")]),v("blockquote",[v("p",[e._v("v0.3.4+")])]),v("p",[e._v("测量文本的宽高，返回值：")]),v("pre",{staticClass:"hljs"},[v("code",[e._v("{ width, height }\n")])]),v("h4",[e._v("getTextFromHtml(html)")]),v("p",[e._v("提取html字符串里的纯文本内容。")]),v("h4",[e._v("readBlob(blob)")]),v("blockquote",[v("p",[e._v("v0.5.9+")])]),v("p",[e._v("将"),v("code",[e._v("blob")]),e._v("数据转成"),v("code",[e._v("data:url")]),e._v("数据。")]),v("h4",[e._v("parseDataUrl(data)")]),v("blockquote",[v("p",[e._v("v0.6.6+")])]),v("p",[e._v("解析"),v("code",[e._v("data:url")]),e._v("数据，返回：")]),v("pre",{staticClass:"hljs"},[v("code",[e._v("{\n  type,"),v("span",{staticClass:"hljs-comment"},[e._v("// 数据的文件类型")]),e._v("\n  base64"),v("span",{staticClass:"hljs-comment"},[e._v("// base64数据")]),e._v("\n}\n")])]),v("h4",[e._v("getImageSize(src)")]),v("blockquote",[v("p",[e._v("v0.6.6+")])]),v("ul",[v("li",[v("code",[e._v("src")]),e._v("：图片的url")])]),v("p",[e._v("获取图片的大小。返回：")]),v("pre",{staticClass:"hljs"},[v("code",[e._v("{\n  width,\n  height\n}\n")])]),v("h4",[e._v("loadImage(imgFile)")]),v("blockquote",[v("p",[e._v("v0.6.8+")])]),v("ul",[v("li",[v("code",[e._v("imgFile")]),e._v("：图片类型的File对象")])]),v("p",[e._v("加载图片，返回：")]),v("pre",{staticClass:"hljs"},[v("code",[e._v("{\n  url,"),v("span",{staticClass:"hljs-comment"},[e._v("// DataUrl")]),e._v("\n  size"),v("span",{staticClass:"hljs-comment"},[e._v("// { width, height } 图片宽高")]),e._v("\n}\n")])]),v("h4",[e._v("getType(data)")]),v("blockquote",[v("p",[e._v("v0.6.9+")])]),v("p",[e._v("获取一个数据的类型，比如"),v("code",[e._v("Boolean")]),e._v("、"),v("code",[e._v("Array")]),e._v("等。")]),v("h4",[e._v("removeHtmlStyle(html)")]),v("blockquote",[v("p",[e._v("v0.6.10+")])]),v("p",[e._v("移除html字符串中节点的内联样式。")]),v("h4",[e._v("addHtmlStyle(html, tag, style)")]),v("blockquote",[v("p",[e._v("v0.6.10+")])]),v("p",[e._v("给html标签中指定的标签添加内联样式。")]),v("h4",[e._v("checkIsRichText(str)")]),v("blockquote",[v("p",[e._v("v0.6.10+")])]),v("p",[e._v("检查一个字符串是否是富文本字符。")]),v("h4",[e._v("isWhite(color)")]),v("blockquote",[v("p",[e._v("v0.6.11+")])]),v("p",[e._v("判断一个颜色是否是白色。")]),v("h4",[e._v("isTransparent(color)")]),v("blockquote",[v("p",[e._v("v0.6.11+")])]),v("p",[e._v("判断一个颜色是否是透明。")]),v("h4",[e._v("nodeRichTextToTextWithWrap(html)")]),v("blockquote",[v("p",[e._v("v0.6.12+")])]),v("p",[e._v("将"),v("code",[e._v("<p><span></span><p>")]),e._v("形式的节点富文本内容转换成"),v("code",[e._v("\\n")]),e._v("换行的文本。")]),v("h4",[e._v("textToNodeRichTextWithWrap(html)")]),v("blockquote",[v("p",[e._v("v0.6.12+")])]),v("p",[e._v("将"),v("code",[e._v("<br>")]),e._v("换行的文本转换成"),v("code",[e._v("<p><span></span><p>")]),e._v("形式的节点富文本内容。")]),v("h4",[e._v("isMobile()")]),v("blockquote",[v("p",[e._v("v0.6.13+")])]),v("p",[e._v("判断是否是移动端环境。")]),v("h4",[e._v("getTopAncestorsFomNodeList(list)")]),v("blockquote",[v("p",[e._v("v0.7.2+")])]),v("ul",[v("li",[v("code",[e._v("list")]),e._v("：Arrray，节点实例列表。")])]),v("p",[e._v("从节点实例列表里找出最顶层的节点列表。")]),v("h4",[e._v("checkTwoRectIsOverlap(minx1, maxx1, miny1, maxy1, minx2, maxx2, miny2, maxy2)")]),v("blockquote",[v("p",[e._v("v0.7.2+")])]),v("p",[e._v("参数为两个矩形的位置。")]),v("p",[e._v("判断两个矩形是否重叠。")]),v("h4",[e._v("focusInput(el)")]),v("blockquote",[v("p",[e._v("v0.7.2+")])]),v("ul",[v("li",[v("code",[e._v("el")]),e._v("：DOM节点，可聚焦的元素，一般为输入框元素。")])]),v("p",[e._v("聚焦指定输入框。")]),v("h4",[e._v("selectAllInput(el)")]),v("blockquote",[v("p",[e._v("v0.7.2+")])]),v("ul",[v("li",[v("code",[e._v("el")]),e._v("：DOM节点，可聚焦的元素，一般为输入框元素。")])]),v("p",[e._v("聚焦并全选指定输入框。")]),v("h4",[e._v("addDataToAppointNodes(appointNodes, data = {})")]),v("blockquote",[v("p",[e._v("v0.7.2+")])]),v("ul",[v("li",[v("p",[v("code",[e._v("appointNodes")]),e._v("：节点实例列表，数组类型。")])]),v("li",[v("p",[v("code",[e._v("data")]),e._v("：要附加到指定节点实例列表树中所有节点的数据中的数据。")])])]),v("p",[e._v("给指定的节点列表树数据添加附加数据，会修改原数据。")]),v("h4",[e._v("createUidForAppointNodes(appointNodes, createNewId)")]),v("blockquote",[v("p",[e._v("v0.7.2+")])]),v("ul",[v("li",[v("p",[v("code",[e._v("appointNodes")]),e._v("：节点实例列表，数组类型。")])]),v("li",[v("p",[v("code",[e._v("createNewId")]),e._v("：v0.7.3-fix.1+，"),v("code",[e._v("Boolean")]),e._v("，默认为"),v("code",[e._v("false")]),e._v("，即如果节点不存在"),v("code",[e._v("uid")]),e._v("的话，会创建新的"),v("code",[e._v("uid")]),e._v("。如果传"),v("code",[e._v("true")]),e._v("，那么无论节点数据原来是否存在"),v("code",[e._v("uid")]),e._v("，都会创建新的"),v("code",[e._v("uid")])])])]),v("p",[e._v("给指定的节点列表树数据添加uid（如果uid不存在的话），会修改原数据。")]),v("h4",[e._v("getNodeIndex(node)")]),v("blockquote",[v("p",[e._v("v0.7.2+")])]),v("ul",[v("li",[v("code",[e._v("node")]),e._v("：节点实例。")])]),v("p",[e._v("获取节点在同级里的位置索引。")]),v("h4",[e._v("mergerIconList(list)")]),v("blockquote",[v("p",[e._v("v0.7.2+")])]),v("ul",[v("li",[v("code",[e._v("list")]),e._v("：要合并到库内部的节点图标数组。")])]),v("pre",{staticClass:"hljs"},[v("code",[v("span",{staticClass:"hljs-comment"},[e._v("// const data = [")]),e._v("\n"),v("span",{staticClass:"hljs-comment"},[e._v("//   { type: 'priority', name: '优先级图标', list: [{ name: '1', icon: 'a' }, { name: 2, icon: 'b' }] },")]),e._v("\n"),v("span",{staticClass:"hljs-comment"},[e._v("//   { type: 'priority', name: '优先级图标', list: [{ name: '2', icon: 'c' }, { name: 3, icon: 'd' }] },")]),e._v("\n"),v("span",{staticClass:"hljs-comment"},[e._v("// ];")]),e._v("\n\n"),v("span",{staticClass:"hljs-comment"},[e._v("// mergerIconList(data) 结果")]),e._v("\n\n"),v("span",{staticClass:"hljs-comment"},[e._v("// [")]),e._v("\n"),v("span",{staticClass:"hljs-comment"},[e._v("//   { type: 'priority', name: '优先级图标', list: [{ name: '1', icon: 'a' }, { name: 2, icon: 'c' }, { name: 3, icon: 'd' }] },")]),e._v("\n"),v("span",{staticClass:"hljs-comment"},[e._v("// ]")]),e._v("\n")])]),v("p",[e._v("合并图标数组。")]),v("h4",[e._v("generateColorByContent(str)")]),v("blockquote",[v("p",[e._v("v0.7.2+")])]),v("ul",[v("li",[v("code",[e._v("str")]),e._v("：字符串。")])]),v("p",[e._v("根据传入的内容生成颜色，同样的内容会生成同样的颜色。")]),v("h4",[e._v("htmlEscape(str)")]),v("blockquote",[v("p",[e._v("v0.7.2+")])]),v("ul",[v("li",[v("code",[e._v("str")]),e._v("：字符串。")])]),v("p",[e._v("转义传入的字符串，目前会转义如下三个字符：")]),v("pre",{staticClass:"hljs"},[v("code",[e._v("& -> &amp;\n< -> &lt;\n> -> &gt;\n")])]),v("h4",[e._v("isSameObject(a, b)")]),v("blockquote",[v("p",[e._v("v0.7.3+")])]),v("ul",[v("li",[v("code",[e._v("a")]),e._v("、"),v("code",[e._v("b")]),e._v("：Object | Array, 要进行对比的两个对象")])]),v("p",[e._v("判断两个对象是否相同，只处理对象或数组。")]),v("h4",[e._v("getNodeDataIndex(node)")]),v("blockquote",[v("p",[e._v("v0.8.0+")])]),v("p",[e._v("获取节点在兄弟节点中的位置索引。")]),v("h4",[e._v("getNodeIndexInNodeList(node, nodeList)")]),v("blockquote",[v("p",[e._v("v0.8.0+")])]),v("p",[e._v("从一个节点列表里找出某个节点的索引。")]),v("h4",[e._v("setDataToClipboard(data)")]),v("blockquote",[v("p",[e._v("v0.8.0+")])]),v("ul",[v("li",[v("code",[e._v("data")]),e._v("：Object | Array")])]),v("p",[e._v("将数据设置到用户剪切板中。")]),v("h4",[e._v("getDataFromClipboard()")]),v("blockquote",[v("p",[e._v("v0.8.0+")])]),v("p",[e._v("从用户剪贴板中读取文字和图片，返回：")]),v("pre",{staticClass:"hljs"},[v("code",[e._v("{\n  text,\n  img\n}\n")])]),v("h4",[e._v("removeFromParentNodeData(node)")]),v("blockquote",[v("p",[e._v("v0.8.0+")])]),v("p",[e._v("从节点的父节点的"),v("code",[e._v("nodeData.children")]),e._v("列表中移除该节点的数据。")]),v("h2",[e._v("在canvas中模拟css的背景属性")]),v("p",[e._v("引入：")]),v("pre",{staticClass:"hljs"},[v("code",[v("span",{staticClass:"hljs-keyword"},[e._v("import")]),e._v(" drawBackgroundImageToCanvas "),v("span",{staticClass:"hljs-keyword"},[e._v("from")]),e._v(" "),v("span",{staticClass:"hljs-string"},[e._v("'simple-mind-map/src/utils/simulateCSSBackgroundInCanvas'")]),e._v("\n")])]),v("p",[e._v("使用：")]),v("pre",{staticClass:"hljs"},[v("code",[v("span",{staticClass:"hljs-keyword"},[e._v("let")]),e._v(" width = "),v("span",{staticClass:"hljs-number"},[e._v("500")]),e._v("\n"),v("span",{staticClass:"hljs-keyword"},[e._v("let")]),e._v(" height = "),v("span",{staticClass:"hljs-number"},[e._v("500")]),e._v("\n"),v("span",{staticClass:"hljs-keyword"},[e._v("let")]),e._v(" img = "),v("span",{staticClass:"hljs-string"},[e._v("'/1.jpg'")]),e._v("\n"),v("span",{staticClass:"hljs-keyword"},[e._v("let")]),e._v(" canvas = "),v("span",{staticClass:"hljs-built_in"},[e._v("document")]),e._v(".createElement("),v("span",{staticClass:"hljs-string"},[e._v("'canvas'")]),e._v(")\ncanvas.width = width\ncanvas.height = height\ndrawBackgroundImageToCanvas(ctx, width, height, img, {\n  "),v("span",{staticClass:"hljs-attr"},[e._v("backgroundRepeat")]),e._v(": "),v("span",{staticClass:"hljs-string"},[e._v("'repeat-y'")]),e._v(",\n  "),v("span",{staticClass:"hljs-attr"},[e._v("backgroundSize")]),e._v(": "),v("span",{staticClass:"hljs-string"},[e._v("'60%'")]),e._v(",\n  "),v("span",{staticClass:"hljs-attr"},[e._v("backgroundPosition")]),e._v(": "),v("span",{staticClass:"hljs-string"},[e._v("'center center'")]),e._v("\n}, "),v("span",{staticClass:"hljs-function"},[e._v("("),v("span",{staticClass:"hljs-params"},[e._v("err")]),e._v(") =>")]),e._v(" {\n  "),v("span",{staticClass:"hljs-keyword"},[e._v("if")]),e._v(" (err) {\n    "),v("span",{staticClass:"hljs-comment"},[e._v("// 失败")]),e._v("\n  } "),v("span",{staticClass:"hljs-keyword"},[e._v("else")]),e._v(" {\n    "),v("span",{staticClass:"hljs-comment"},[e._v("// 成功")]),e._v("\n  }\n})\n")])]),v("h2",[e._v("LRU缓存类")]),v("blockquote",[v("p",[e._v("v0.5.10+")])]),v("p",[e._v("引入：")]),v("pre",{staticClass:"hljs"},[v("code",[v("span",{staticClass:"hljs-keyword"},[e._v("import")]),e._v(" Lru "),v("span",{staticClass:"hljs-keyword"},[e._v("from")]),e._v(" "),v("span",{staticClass:"hljs-string"},[e._v("'simple-mind-map/src/utils/Lru.js'")]),e._v("\n")])]),v("h3",[e._v("构造函数")]),v("pre",{staticClass:"hljs"},[v("code",[v("span",{staticClass:"hljs-keyword"},[e._v("let")]),e._v(" lru = "),v("span",{staticClass:"hljs-keyword"},[e._v("new")]),e._v(" Lru(max)\n")])]),v("p",[v("code",[e._v("max")]),e._v("：指定最大缓存数量。")]),v("h3",[e._v("实例属性")]),v("h4",[e._v("size")]),v("p",[e._v("当前缓存的数量。")]),v("h4",[e._v("pool")]),v("p",[e._v("获取缓存池。")]),v("h3",[e._v("实例方法")]),v("h4",[e._v("add(key, value)")]),v("p",[e._v("添加缓存。")]),v("h4",[e._v("delete(key)")]),v("p",[e._v("删除指定缓存。")]),v("h4",[e._v("has(key)")]),v("p",[e._v("检查某个缓存是否存在。")]),v("h4",[e._v("get(key)")]),v("p",[e._v("获取某个缓存的值。")])])}],a={},o=a,l=s("2877"),c=Object(l["a"])(o,t,_,!1,null,null,null);v["default"]=c.exports}}]);